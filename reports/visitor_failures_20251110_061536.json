{
    "failures": [
        {
            "captured_at": "2025-11-10T06:10:36.192829+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "black",
                    ".",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311",
                    "--check",
                    "--diff"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff",
                "cwd": "C:\\x_runner_x\\x_0_make_all_x",
                "duration_seconds": 6.5087660000426695,
                "ended_at": "2025-11-10T06:10:36.192829+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "forceit.py",
                    "inspection_stream_tailer.py",
                    "interface/__init__.py",
                    "interface/commit.py",
                    "interface/gui/__init__.py",
                    "interface/gui/app.py",
                    "interface/gui/commit.py",
                    "interface/gui/environment_studio/__init__.py",
                    "interface/gui/environment_studio/app.py",
                    "interface/gui/environment_studio/dialogs.py",
                    "interface/gui/environment_studio/services.py",
                    "interface/gui/progress_board.py",
                    "interface/gui/prototypes/__init__.py",
                    "interface/gui/prototypes/form_schemas.py",
                    "interface/gui/prototypes/nicegui_control_center.py",
                    "interface/gui/prototypes/shared.py",
                    "interface/gui/prototypes/textual_control_center.py",
                    "interface/gui/tree.py",
                    "interface/tree.py",
                    "manifest.py",
                    "naked_entry.py",
                    "run_environment_studio_switcheroo.py",
                    "run_make_all_switcharoo.py",
                    "tests/__init__.py",
                    "tests/test_environment_vault_disabled.py",
                    "tests/test_forceit.py",
                    "tests/test_gui_columns.py",
                    "tests/test_gui_commit.py",
                    "tests/test_gui_exit_code.py",
                    "tests/test_gui_tree.py",
                    "tests/test_ingestion_rotation.py",
                    "tests/test_ingestion_schema_validation.py",
                    "tests/test_inspection_stream_tailer.py",
                    "tests/test_make_all_commit_cli.py",
                    "tests/test_make_all_kanban.py",
                    "tests/test_make_all_pip_updates.py",
                    "tests/test_no_persistent_env_var_reference.py",
                    "tests/test_orchestrator_clones_stage.py",
                    "tests/test_orchestrator_visitor_stage.py",
                    "tests/test_progress_board_flags.py",
                    "tests/test_progress_board_streaming.py",
                    "tests/test_publish_manifest.py",
                    "x_cls_make_all_x.py"
                ],
                "repo": "x_0_make_all_x",
                "repo_hash": "46e117c530d65f5725c9dc6c0451ba5ed570aa58be03f1875269d5b7bc2cccdb",
                "repo_path": "C:\\x_runner_x\\x_0_make_all_x",
                "started_at": "2025-11-10T06:10:29.684061+00:00",
                "stderr": "would reformat C:\\x_runner_x\\x_0_make_all_x\\run_environment_studio_switcheroo.py\nwould reformat C:\\x_runner_x\\x_0_make_all_x\\run_make_all_switcharoo.py\nwould reformat C:\\x_runner_x\\x_0_make_all_x\\inspection_stream_tailer.py\nwould reformat C:\\x_runner_x\\x_0_make_all_x\\tests\\test_ingestion_schema_validation.py\nwould reformat C:\\x_runner_x\\x_0_make_all_x\\tests\\test_ingestion_rotation.py\nwould reformat C:\\x_runner_x\\x_0_make_all_x\\tests\\test_inspection_stream_tailer.py\nwould reformat C:\\x_runner_x\\x_0_make_all_x\\tests\\test_progress_board_streaming.py\nwould reformat C:\\x_runner_x\\x_0_make_all_x\\interface\\gui\\progress_board.py\nwould reformat C:\\x_runner_x\\x_0_make_all_x\\interface\\gui\\environment_studio\\app.py\nwould reformat C:\\x_runner_x\\x_0_make_all_x\\x_cls_make_all_x.py\n\nOh no! \\U0001f4a5 \\U0001f494 \\U0001f4a5\n10 files would be reformatted, 34 files would be left unchanged.\n",
                "stdout": "--- C:\\x_runner_x\\x_0_make_all_x\\run_environment_studio_switcheroo.py\t2025-11-10 04:59:02.294802+00:00\n+++ C:\\x_runner_x\\x_0_make_all_x\\run_environment_studio_switcheroo.py\t2025-11-10 06:10:31.741334+00:00\n@@ -64,12 +64,16 @@\n     activate_ps = venv_root / \"Scripts\" / \"Activate.ps1\"\n     if not activate_ps.exists():\n         return\n \n     policy_command = \"Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass\"\n-    activate_command = f\".\\\\{activate_ps.relative_to(WORKSPACE_ROOT).as_posix().replace('/', '\\\\')}\"\n-    print(\"[EnvironmentStudio] PowerShell may block Activate.ps1. If so, run:\", flush=True)\n+    activate_command = (\n+        f\".\\\\{activate_ps.relative_to(WORKSPACE_ROOT).as_posix().replace('/', '\\\\')}\"\n+    )\n+    print(\n+        \"[EnvironmentStudio] PowerShell may block Activate.ps1. If so, run:\", flush=True\n+    )\n     print(f\"[EnvironmentStudio]   {policy_command}\", flush=True)\n     print(f\"[EnvironmentStudio]   {activate_command}\", flush=True)\n \n \n def main() -> None:\n--- C:\\x_runner_x\\x_0_make_all_x\\run_make_all_switcharoo.py\t2025-11-10 04:59:02.294802+00:00\n+++ C:\\x_runner_x\\x_0_make_all_x\\run_make_all_switcharoo.py\t2025-11-10 06:10:31.762522+00:00\n@@ -25,11 +25,13 @@\n     activate_ps = venv_root / \"Scripts\" / \"Activate.ps1\"\n     if not activate_ps.exists():\n         return\n \n     policy_command = \"Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass\"\n-    activate_command = f\".\\\\{activate_ps.relative_to(WORKSPACE_ROOT).as_posix().replace('/', '\\\\')}\"\n+    activate_command = (\n+        f\".\\\\{activate_ps.relative_to(WORKSPACE_ROOT).as_posix().replace('/', '\\\\')}\"\n+    )\n     print(\"[MakeAll] PowerShell may block Activate.ps1. If so, run:\", flush=True)\n     print(f\"[MakeAll]   {policy_command}\", flush=True)\n     print(f\"[MakeAll]   {activate_command}\", flush=True)\n \n \n--- C:\\x_runner_x\\x_0_make_all_x\\inspection_stream_tailer.py\t2025-11-08 20:13:00.345898+00:00\n+++ C:\\x_runner_x\\x_0_make_all_x\\inspection_stream_tailer.py\t2025-11-10 06:10:31.909210+00:00\n@@ -63,22 +63,26 @@\n \n \n class VisitorStreamTailer:\n     \"\"\"Incremental reader of visitor NDJSON events updating progress index.\"\"\"\n \n-    def __init__(self, *, workspace_root: Path, stage_writer: StageProgressWriter) -> None:\n+    def __init__(\n+        self, *, workspace_root: Path, stage_writer: StageProgressWriter\n+    ) -> None:\n         self.workspace_root = workspace_root\n         self.stage_writer = stage_writer\n         self.stream_path = (workspace_root / EVENT_STREAM_REL).resolve()\n         self.offset_path = (\n             stage_writer.entries_dir / OFFSET_FILENAME\n         ).resolve()  # colocate with inspection progress\n         # Optional ingestion audit: write normalized envelopes to NDJSON\n-        self._audit_enabled = (\n-            os.environ.get(_INGESTION_AUDIT_ENV, \"\").strip().lower() in {\"1\", \"true\", \"yes\", \"on\"}\n-        )\n-        self._ingestion_path = (stage_writer.entries_dir / \"ingestion_events.ndjson\").resolve()\n+        self._audit_enabled = os.environ.get(\n+            _INGESTION_AUDIT_ENV, \"\"\n+        ).strip().lower() in {\"1\", \"true\", \"yes\", \"on\"}\n+        self._ingestion_path = (\n+            stage_writer.entries_dir / \"ingestion_events.ndjson\"\n+        ).resolve()\n         self._offset: int = 0\n         self.stats = TailerStats()\n         self._load_offset()\n \n     def _load_offset(self) -> None:\n@@ -286,13 +290,20 @@\n             self.stats.processed += 1\n             self._dispatch(envelope)\n         return self.stats\n \n \n-def create_stream_tailer(workspace_root: Path, stage_writer: StageProgressWriter) -> VisitorStreamTailer | None:\n+def create_stream_tailer(\n+    workspace_root: Path, stage_writer: StageProgressWriter\n+) -> VisitorStreamTailer | None:\n     # Guard: only initialize when streaming flag enabled\n-    flag = os.environ.get(\"VISITOR_STREAMING\", \"\").strip().lower() in {\"1\", \"true\", \"yes\", \"on\"}\n+    flag = os.environ.get(\"VISITOR_STREAMING\", \"\").strip().lower() in {\n+        \"1\",\n+        \"true\",\n+        \"yes\",\n+        \"on\",\n+    }\n     if not flag:\n         return None\n     return VisitorStreamTailer(workspace_root=workspace_root, stage_writer=stage_writer)\n \n \n--- C:\\x_runner_x\\x_0_make_all_x\\tests\\test_ingestion_schema_validation.py\t2025-11-08 20:13:00.329030+00:00\n+++ C:\\x_runner_x\\x_0_make_all_x\\tests\\test_ingestion_schema_validation.py\t2025-11-10 06:10:31.996589+00:00\n@@ -16,30 +16,59 @@\n     writer = StageProgressWriter(stage_id=\"inspection\", root_dir=tmp_path / \"progress\")\n     tailer = create_stream_tailer(tmp_path, writer)\n     assert tailer is not None\n \n     # Emit some events via poll path (simulate stream lines)\n-    stream_file = tmp_path / \"x_make_github_visitor_x\" / \"reports\" / \"events\" / \"visitor_events.ndjson\"\n+    stream_file = (\n+        tmp_path\n+        / \"x_make_github_visitor_x\"\n+        / \"reports\"\n+        / \"events\"\n+        / \"visitor_events.ndjson\"\n+    )\n     stream_file.parent.mkdir(parents=True, exist_ok=True)\n     events = [\n         {\"event\": \"repo\", \"repo\": \"eye4357/a\", \"phase\": \"start\"},\n-        {\"event\": \"repo\", \"repo\": \"eye4357/a\", \"phase\": \"complete\", \"status\": \"succeeded\", \"messages\": [\"ok\"]},\n-        {\"event\": \"tool\", \"repo\": \"eye4357/a\", \"tool\": \"lint\", \"status\": \"failed\", \"summary\": \"pep8\"},\n+        {\n+            \"event\": \"repo\",\n+            \"repo\": \"eye4357/a\",\n+            \"phase\": \"complete\",\n+            \"status\": \"succeeded\",\n+            \"messages\": [\"ok\"],\n+        },\n+        {\n+            \"event\": \"tool\",\n+            \"repo\": \"eye4357/a\",\n+            \"tool\": \"lint\",\n+            \"status\": \"failed\",\n+            \"summary\": \"pep8\",\n+        },\n     ]\n     with stream_file.open(\"w\", encoding=\"utf-8\") as handle:\n         for e in events:\n             handle.write(json.dumps(e) + \"\\n\")\n     # Poll to process and emit ingestion audit records\n     tailer.poll()\n \n-    schema_path = Path(__file__).resolve().parent.parent / \"reports\" / \"schemas\" / \"ingestion_event.schema.json\"\n+    schema_path = (\n+        Path(__file__).resolve().parent.parent\n+        / \"reports\"\n+        / \"schemas\"\n+        / \"ingestion_event.schema.json\"\n+    )\n     with schema_path.open(\"r\", encoding=\"utf-8\") as fh:\n         schema = json.load(fh)\n \n     # Use RefResolver + Draft202012 (if available) else default validator\n     validator_cls = None\n-    for name in (\"Draft202012Validator\", \"Draft201909Validator\", \"Draft7Validator\", \"Draft6Validator\", \"Draft4Validator\"):\n+    for name in (\n+        \"Draft202012Validator\",\n+        \"Draft201909Validator\",\n+        \"Draft7Validator\",\n+        \"Draft6Validator\",\n+        \"Draft4Validator\",\n+    ):\n         validator_cls = getattr(jsonschema, name, None)\n         if validator_cls is not None:\n             break\n     if validator_cls is None:\n         raise RuntimeError(\"No compatible jsonschema validator available\")\n--- C:\\x_runner_x\\x_0_make_all_x\\tests\\test_ingestion_rotation.py\t2025-11-08 20:13:00.329030+00:00\n+++ C:\\x_runner_x\\x_0_make_all_x\\tests\\test_ingestion_rotation.py\t2025-11-10 06:10:32.057296+00:00\n@@ -54,6 +54,7 @@\n         assert seg.suffix == \".ndjson\"\n \n \n if __name__ == \"__main__\":  # pragma: no cover\n     import pytest\n+\n     raise SystemExit(pytest.main([__file__]))\n--- C:\\x_runner_x\\x_0_make_all_x\\tests\\test_inspection_stream_tailer.py\t2025-11-08 20:13:00.329030+00:00\n+++ C:\\x_runner_x\\x_0_make_all_x\\tests\\test_inspection_stream_tailer.py\t2025-11-10 06:10:32.104488+00:00\n@@ -24,11 +24,17 @@\n \n \n def test_tailer_processes_repo_and_tool_events(tmp_path: Path) -> None:\n     # Prepare fake workspace root with stream file location\n     workspace_root = tmp_path\n-    stream_path = workspace_root / \"x_make_github_visitor_x\" / \"reports\" / \"events\" / \"visitor_events.ndjson\"\n+    stream_path = (\n+        workspace_root\n+        / \"x_make_github_visitor_x\"\n+        / \"reports\"\n+        / \"events\"\n+        / \"visitor_events.ndjson\"\n+    )\n \n     # Stage progress writer rooted at inspection progress dir\n     stage_root = tmp_path / \"x_0_make_all_x\" / \"reports\" / \"progress\" / \"inspection\"\n     writer = StageProgressWriter(stage_id=\"inspection\", root_dir=stage_root)\n \n@@ -40,12 +46,24 @@\n     # Write initial repo start + tool failure + repo completion success\n     _write_events(\n         stream_path,\n         [\n             {\"event\": \"repo\", \"repo\": \"eye4357/example_repo\", \"phase\": \"start\"},\n-            {\"event\": \"tool\", \"repo\": \"eye4357/example_repo\", \"tool\": \"lint\", \"status\": \"failed\", \"summary\": \"flake8 errors found\"},\n-            {\"event\": \"repo\", \"repo\": \"eye4357/example_repo\", \"phase\": \"complete\", \"status\": \"succeeded\", \"messages\": [\"all checks passed\"]},\n+            {\n+                \"event\": \"tool\",\n+                \"repo\": \"eye4357/example_repo\",\n+                \"tool\": \"lint\",\n+                \"status\": \"failed\",\n+                \"summary\": \"flake8 errors found\",\n+            },\n+            {\n+                \"event\": \"repo\",\n+                \"repo\": \"eye4357/example_repo\",\n+                \"phase\": \"complete\",\n+                \"status\": \"succeeded\",\n+                \"messages\": [\"all checks passed\"],\n+            },\n         ],\n     )\n \n     stats = tailer.poll()\n     # Expect 3 processed events\n@@ -60,18 +78,26 @@\n     assert len(entries) == 1\n     entry = entries[0]\n     assert entry[\"status\"] == \"completed\"\n     preview = entry.get(\"message_preview\") or []\n     # Tool failure appended before success messages should appear in preview\n-    assert any(\"flake8\" in msg for msg in preview) or any(\"all checks\" in msg for msg in preview)\n+    assert any(\"flake8\" in msg for msg in preview) or any(\n+        \"all checks\" in msg for msg in preview\n+    )\n \n     # Append a failing completion to another repo to exercise failure path\n     _write_events(\n         stream_path,\n         [\n             {\"event\": \"repo\", \"repo\": \"eye4357/second_repo\", \"phase\": \"start\"},\n-            {\"event\": \"repo\", \"repo\": \"eye4357/second_repo\", \"phase\": \"complete\", \"status\": \"failed\", \"messages\": [\"tests failed\"]},\n+            {\n+                \"event\": \"repo\",\n+                \"repo\": \"eye4357/second_repo\",\n+                \"phase\": \"complete\",\n+                \"status\": \"failed\",\n+                \"messages\": [\"tests failed\"],\n+            },\n         ],\n     )\n     stats2 = tailer.poll()\n     assert stats2.processed == 5  # cumulative\n     assert stats2.repo_events == 4\n@@ -82,20 +108,31 @@\n     assert index_payload2[\"status_counts\"].get(\"attention\") == 1\n \n \n def test_tailer_offset_persistence(tmp_path: Path) -> None:\n     workspace_root = tmp_path\n-    stream_path = workspace_root / \"x_make_github_visitor_x\" / \"reports\" / \"events\" / \"visitor_events.ndjson\"\n+    stream_path = (\n+        workspace_root\n+        / \"x_make_github_visitor_x\"\n+        / \"reports\"\n+        / \"events\"\n+        / \"visitor_events.ndjson\"\n+    )\n     stage_root = tmp_path / \"x_0_make_all_x\" / \"reports\" / \"progress\" / \"inspection\"\n     writer = StageProgressWriter(stage_id=\"inspection\", root_dir=stage_root)\n     os.environ[\"VISITOR_STREAMING\"] = \"1\"\n     tailer = create_stream_tailer(workspace_root, writer)\n     assert tailer is not None\n \n     events = [\n         {\"event\": \"repo\", \"repo\": \"eye4357/alpha\", \"phase\": \"start\"},\n-        {\"event\": \"repo\", \"repo\": \"eye4357/alpha\", \"phase\": \"complete\", \"status\": \"succeeded\"},\n+        {\n+            \"event\": \"repo\",\n+            \"repo\": \"eye4357/alpha\",\n+            \"phase\": \"complete\",\n+            \"status\": \"succeeded\",\n+        },\n     ]\n     _write_events(stream_path, events)\n     tailer.poll()\n     # Capture offset file\n     offset_file = stage_root / \".visitor_offset\"\n@@ -114,6 +151,7 @@\n     assert new_offset > original_offset\n \n \n if __name__ == \"__main__\":  # pragma: no cover\n     import pytest\n+\n     raise SystemExit(pytest.main([__file__]))\n--- C:\\x_runner_x\\x_0_make_all_x\\tests\\test_progress_board_streaming.py\t2025-11-08 20:13:00.329030+00:00\n+++ C:\\x_runner_x\\x_0_make_all_x\\tests\\test_progress_board_streaming.py\t2025-11-10 06:10:32.196849+00:00\n@@ -16,10 +16,11 @@\n     from PySide6 import QtWidgets\n \n     from x_0_make_all_x.interface.gui.progress_board import (\n         ProgressBoardWidget,\n     )\n+\n     PY_SIDE_AVAILABLE = True\n except Exception:  # noqa: BLE001 - broad to avoid hard import failures\n     pass\n \n pytestmark = pytest.mark.skipif(not PY_SIDE_AVAILABLE, reason=\"PySide6 not available\")\n@@ -64,22 +65,25 @@\n     snap_path = tmp_path / \"snapshot.json\"\n     write_progress_snapshot(snap_path, snapshot)\n \n     progress_root = tmp_path / \"progress\"\n     progress_root.mkdir(parents=True, exist_ok=True)\n-    _write_inspection_index(progress_root, [\n-        {\n-            \"repo_id\": \"eye4357/example\",\n-            \"display_name\": \"example\",\n-            \"status\": \"completed\",\n-            \"detail_path\": \"example__hash.json\",\n-            \"updated_at\": \"2025-11-08T00:00:00Z\",\n-            \"started_at\": \"2025-11-08T00:00:00Z\",\n-            \"completed_at\": \"2025-11-08T00:00:10Z\",\n-            \"message_preview\": [\"ok\"],\n-        }\n-    ])\n+    _write_inspection_index(\n+        progress_root,\n+        [\n+            {\n+                \"repo_id\": \"eye4357/example\",\n+                \"display_name\": \"example\",\n+                \"status\": \"completed\",\n+                \"detail_path\": \"example__hash.json\",\n+                \"updated_at\": \"2025-11-08T00:00:00Z\",\n+                \"started_at\": \"2025-11-08T00:00:00Z\",\n+                \"completed_at\": \"2025-11-08T00:00:10Z\",\n+                \"message_preview\": [\"ok\"],\n+            }\n+        ],\n+    )\n \n     # Instantiate widget headless\n     app = QtWidgets.QApplication.instance() or QtWidgets.QApplication([])  # type: ignore[union-attr]\n     assert ProgressBoardWidget is not None\n     board = ProgressBoardWidget(\n@@ -96,6 +100,7 @@\n     assert board._detail_table.rowCount() == 1  # noqa: SLF001\n \n \n if __name__ == \"__main__\":  # pragma: no cover\n     import pytest\n+\n     raise SystemExit(pytest.main([__file__]))\n\u00ef\u00bb\u00bf--- C:\\x_runner_x\\x_0_make_all_x\\interface\\gui\\progress_board.py\t2025-11-08 20:11:51.451231+00:00\n+++ C:\\x_runner_x\\x_0_make_all_x\\interface\\gui\\progress_board.py\t2025-11-10 06:10:32.275220+00:00\n@@ -46,13 +46,13 @@\n _DONE_STATUSES = {\"completed\"}\n \n _STATUS_COLOR_FG: dict[str, str] = {\n     \"completed\": \"#2e7d32\",  # green\n     \"attention\": \"#b8860b\",  # goldenrod / warning\n-    \"blocked\": \"#c62828\",    # red\n-    \"running\": \"#1565c0\",    # blue progress\n-    \"pending\": \"#6b6b6b\",    # grey\n+    \"blocked\": \"#c62828\",  # red\n+    \"running\": \"#1565c0\",  # blue progress\n+    \"pending\": \"#6b6b6b\",  # grey\n }\n _POLL_INTERVAL_MS = 500\n _AUTO_CLOSE_DELAY_MS = 750\n \n \n@@ -282,17 +282,17 @@\n                     # Build a concise status line for footer / tooltip\n                     processed = stream_stats.get(\"processed\")\n                     repo_events = stream_stats.get(\"repo_events\")\n                     tool_events = stream_stats.get(\"tool_events\")\n                     errors = stream_stats.get(\"errors\")\n-                    tooltip = (\n-                        f\"Streaming: processed={processed} repos={repo_events} tools={tool_events} errors={errors}\"\n-                    )\n+                    tooltip = f\"Streaming: processed={processed} repos={repo_events} tools={tool_events} errors={errors}\"\n                     # Attach as a synthetic entry in cache for UI hinting via tooltip on header\n                     self._checklist.setToolTip(tooltip)\n                 elif streaming_flag:\n-                    self._checklist.setToolTip(\"Streaming inspection active (no stats yet)\")\n+                    self._checklist.setToolTip(\n+                        \"Streaming inspection active (no stats yet)\"\n+                    )\n             cache_entry = self._load_repo_index_payload(stage_id, metadata)\n             if cache_entry is None:\n                 self._repo_index_cache.pop(stage_id, None)\n                 continue\n             self._repo_index_cache[stage_id] = cache_entry\n--- C:\\x_runner_x\\x_0_make_all_x\\interface\\gui\\environment_studio\\app.py\t2025-11-09 02:39:09.725820+00:00\n+++ C:\\x_runner_x\\x_0_make_all_x\\interface\\gui\\environment_studio\\app.py\t2025-11-10 06:10:33.129723+00:00\n@@ -22,20 +22,23 @@\n     class ValidationError(Exception):\n         \"\"\"Fallback validation error when jsonschema is unavailable.\"\"\"\n \n         pass\n \n+\n from .dialogs import EnvironmentFormDialog\n from .services import DEFAULT_ENV_ROOT, EnvironmentService\n \n JsonValue: TypeAlias = object\n JsonDict: TypeAlias = dict[str, JsonValue]\n JsonMapping: TypeAlias = Mapping[str, JsonValue]\n JsonList: TypeAlias = list[JsonDict]\n \n _WORKSPACE_ROOT = Path(__file__).resolve().parents[4]\n-_PLAN_SCHEMA_PATH = _WORKSPACE_ROOT / \"x_0_make_all_x\" / \"reports\" / \"EnvironmentStudioPlan.schema.json\"\n+_PLAN_SCHEMA_PATH = (\n+    _WORKSPACE_ROOT / \"x_0_make_all_x\" / \"reports\" / \"EnvironmentStudioPlan.schema.json\"\n+)\n _PLAN_DIRECTORY = _WORKSPACE_ROOT / \"x_0_run_all_x\" / \"plans\"\n _PLAN_SCHEMA_VERSION = \"environment_studio.plan/1.0\"\n _PLAN_VALIDATOR: Any = None\n \n \n@@ -59,12 +62,12 @@\n         QComboBox,\n         QDialog,\n         QDoubleSpinBox,\n         QFormLayout,\n         QHBoxLayout,\n-    QInputDialog,\n-    QFileDialog,  # type: ignore[attr-defined]\n+        QInputDialog,\n+        QFileDialog,  # type: ignore[attr-defined]\n         QLabel,\n         QLineEdit,\n         QMainWindow,\n         QMenu,\n         QMessageBox,\n@@ -571,19 +574,23 @@\n             astro_remote = remote_payload\n         environment_config_value = config.get(\"environment_config\")\n         environment_config = (\n             {\n                 str(key): value\n-                for key, value in cast(\"Mapping[str, object]\", environment_config_value).items()\n+                for key, value in cast(\n+                    \"Mapping[str, object]\", environment_config_value\n+                ).items()\n             }\n             if isinstance(environment_config_value, Mapping)\n             else None\n         )\n         expect_status = config.get(\"expect_status\")\n         assertions: list[Mapping[str, object]] = []\n         assertions_value = config.get(\"assertions\")\n-        if isinstance(assertions_value, Sequence) and not isinstance(assertions_value, (str, bytes)):\n+        if isinstance(assertions_value, Sequence) and not isinstance(\n+            assertions_value, (str, bytes)\n+        ):\n             for item in assertions_value:\n                 if isinstance(item, Mapping):\n                     assertions.append(cast(\"Mapping[str, object]\", item))\n \n         plan_payload = dict(self._loaded_plan)\n@@ -601,11 +608,16 @@\n                     \"event\": event,\n                 }\n                 entry.update(fields)\n                 transcript.append(entry)\n \n-            _log(\"plan_start\", plan=plan_payload.get(\"name\"), environment=environment, module=module)\n+            _log(\n+                \"plan_start\",\n+                plan=plan_payload.get(\"name\"),\n+                environment=environment,\n+                module=module,\n+            )\n \n             environment_metadata: JsonDict | None = None\n             if environment_config:\n                 environment_metadata = self._ensure_plan_environment(\n                     environment,\n@@ -626,26 +638,27 @@\n                 timeout_seconds=timeout,\n                 astrocyte=astro_remote,\n             )\n             _log(\"run_tool\", outcome=outcome)\n \n-            assertion_results, status, failure_messages = self._evaluate_plan_assertions(\n-                outcome,\n-                expect_status,\n-                assertions,\n+            assertion_results, status, failure_messages = (\n+                self._evaluate_plan_assertions(\n+                    outcome,\n+                    expect_status,\n+                    assertions,\n+                )\n             )\n             for assertion_record in assertion_results:\n                 _log(\"assertion\", **assertion_record)\n \n             plan_hash = hashlib.sha256(\n                 json.dumps(plan_payload, sort_keys=True, default=str).encode(\"utf-8\")\n             ).hexdigest()\n \n             transcript_path = evidence_root / \"transcript.ndjson\"\n             transcript_text = \"\\n\".join(\n-                json.dumps(entry, sort_keys=True, default=str)\n-                for entry in transcript\n+                json.dumps(entry, sort_keys=True, default=str) for entry in transcript\n             )\n             transcript_path.write_text(transcript_text + \"\\n\", encoding=\"utf-8\")\n \n             plan_copy_path = evidence_root / \"imported_plan.json\"\n             plan_copy_path.write_text(\n@@ -870,11 +883,13 @@\n         segments = [segment for segment in path[2:].split(\".\") if segment]\n         current: object = payload\n         for segment in segments:\n             if isinstance(current, Mapping):\n                 current = current.get(segment)\n-            elif isinstance(current, Sequence) and not isinstance(current, (str, bytes)):\n+            elif isinstance(current, Sequence) and not isinstance(\n+                current, (str, bytes)\n+            ):\n                 try:\n                     index = int(segment)\n                 except ValueError:\n                     return None\n                 if 0 <= index < len(current):\n--- C:\\x_runner_x\\x_0_make_all_x\\x_cls_make_all_x.py\t2025-11-08 20:11:51.506634+00:00\n+++ C:\\x_runner_x\\x_0_make_all_x\\x_cls_make_all_x.py\t2025-11-10 06:10:35.674042+00:00\n@@ -1047,35 +1047,49 @@\n                         with path_obj.open(\"r\", encoding=\"utf-8\") as handle:\n                             data = json.load(handle)\n                         # Look in runtime and summary sections for fast path keys.\n                         fast_paths: dict[str, object] | None = None\n                         active: list[str] | None = None\n-                        runtime_obj = data.get(\"runtime\") if isinstance(data, dict) else None\n+                        runtime_obj = (\n+                            data.get(\"runtime\") if isinstance(data, dict) else None\n+                        )\n                         if isinstance(runtime_obj, dict):\n                             fast_obj = runtime_obj.get(\"fast_paths\")\n                             if isinstance(fast_obj, dict):\n-                                fast_paths = {str(k): bool(v) for k, v in fast_obj.items()}\n+                                fast_paths = {\n+                                    str(k): bool(v) for k, v in fast_obj.items()\n+                                }\n                             active_obj = runtime_obj.get(\"fast_paths_active\")\n                             if isinstance(active_obj, list):\n-                                active = [str(x) for x in active_obj if isinstance(x, str)]\n+                                active = [\n+                                    str(x) for x in active_obj if isinstance(x, str)\n+                                ]\n                             selected_tools = runtime_obj.get(\"selected_tools\")\n                             if isinstance(selected_tools, list):\n-                                summary.setdefault(\"inspection\", {})  # summary[inspection][selected_tools]\n+                                summary.setdefault(\n+                                    \"inspection\", {}\n+                                )  # summary[inspection][selected_tools]\n                                 inspection_section = summary[\"inspection\"]  # type: ignore[index]\n                                 if isinstance(inspection_section, dict):\n                                     inspection_section[\"selected_tools\"] = [\n-                                        str(t) for t in selected_tools if isinstance(t, str)\n+                                        str(t)\n+                                        for t in selected_tools\n+                                        if isinstance(t, str)\n                                     ]\n                         # Fallback: also peek at top-level keys fast_paths/fast_paths_active if present.\n                         if fast_paths is None and isinstance(data, dict):\n                             top_fast = data.get(\"fast_paths\")\n                             if isinstance(top_fast, dict):\n-                                fast_paths = {str(k): bool(v) for k, v in top_fast.items()}\n+                                fast_paths = {\n+                                    str(k): bool(v) for k, v in top_fast.items()\n+                                }\n                         if active is None and isinstance(data, dict):\n                             top_active = data.get(\"fast_paths_active\")\n                             if isinstance(top_active, list):\n-                                active = [str(x) for x in top_active if isinstance(x, str)]\n+                                active = [\n+                                    str(x) for x in top_active if isinstance(x, str)\n+                                ]\n                         if fast_paths is not None:\n                             summary[\"fast_paths\"] = fast_paths\n                         if active is not None:\n                             summary[\"fast_paths_active\"] = active\n             except Exception:\n",
                "tool": "black",
                "tool_module": "black",
                "tool_version": "python -m black, 25.11.0 (compiled: yes)\nPython (CPython) 3.14.0"
            },
            "exit": "exit 1",
            "message": "black failed for x_0_make_all_x (exit 1)\ncwd: C:\\x_runner_x\\x_0_make_all_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff\nstarted_at: 2025-11-10T06:10:29.684061+00:00\nduration: 6.509s\ntool_version: python -m black, 25.11.0 (compiled: yes)\nPython (CPython) 3.14.0\nstdout:\n--- C:\\x_runner_x\\x_0_make_all_x\\run_environment_studio_switcheroo.py\t2025-11-10 04:59:02.294802+00:00\n+++ C:\\x_runner_x\\x_0_make_all_x\\run_environment_studio_switcheroo.py\t2025-11-10 06:10:31.741334+00:00\n@@ -64,12 +64,16 @@\n     activate_ps = venv_root / \"Scripts\" / \"Activate.ps1\"\n     if not activate_ps.exists():\n\u2026\nstderr:\nwould reformat C:\\x_runner_x\\x_0_make_all_x\\run_environment_studio_switcheroo.py\nwould reformat C:\\x_runner_x\\x_0_make_all_x\\run_make_all_switcharoo.py\nwould reformat C:\\x_runner_x\\x_0_make_all_x\\inspection_stream_tailer.py\nwould reformat C:\\x_runner_x\\x_0_make_all_x\\tests\\test_ingestion_schema_validation.py\nwould reformat C:\\x_runner_x\\x_0_make_all_x\\tests\\test_ingestion_rotation.py\n\u2026",
            "repo": "x_0_make_all_x",
            "repo_path": "C:\\x_runner_x\\x_0_make_all_x",
            "stderr_preview": "would reformat C:\\x_runner_x\\x_0_make_all_x\\run_environment_studio_switcheroo.py\nwould reformat C:\\x_runner_x\\x_0_make_all_x\\run_make_all_switcharoo.py\nwould reformat C:\\x_runner_x\\x_0_make_all_x\\inspection_stream_tailer.py\nwould reformat C:\\x_runner_x\\x_0_make_all_x\\tests\\test_ingestion_schema_validation.py\nwould reformat C:\\x_runner_x\\x_0_make_all_x\\tests\\test_ingestion_rotation.py\n\u2026",
            "stdout_preview": "--- C:\\x_runner_x\\x_0_make_all_x\\run_environment_studio_switcheroo.py\t2025-11-10 04:59:02.294802+00:00\n+++ C:\\x_runner_x\\x_0_make_all_x\\run_environment_studio_switcheroo.py\t2025-11-10 06:10:31.741334+00:00\n@@ -64,12 +64,16 @@\n     activate_ps = venv_root / \"Scripts\" / \"Activate.ps1\"\n     if not activate_ps.exists():\n\u2026",
            "suggested_action": "Investigate",
            "summary": "black failed for x_0_make_all_x (exit 1) cwd: C:\\x_runner_x\\x_0_make_all_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff started_at: 2025-11-10T\u2026",
            "tool": "black",
            "tool_version": "python -m black, 25.11.0 (compiled: yes)\nPython (CPython) 3.14.0"
        },
        {
            "captured_at": "2025-11-10T06:10:44.806019+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m pyright . --level error",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "pyright",
                    ".",
                    "--level",
                    "error"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m pyright . --level error",
                "cwd": "C:\\x_runner_x\\x_0_make_all_x",
                "duration_seconds": 7.690414700016845,
                "ended_at": "2025-11-10T06:10:44.806019+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "forceit.py",
                    "inspection_stream_tailer.py",
                    "interface/__init__.py",
                    "interface/commit.py",
                    "interface/gui/__init__.py",
                    "interface/gui/app.py",
                    "interface/gui/commit.py",
                    "interface/gui/environment_studio/__init__.py",
                    "interface/gui/environment_studio/app.py",
                    "interface/gui/environment_studio/dialogs.py",
                    "interface/gui/environment_studio/services.py",
                    "interface/gui/progress_board.py",
                    "interface/gui/prototypes/__init__.py",
                    "interface/gui/prototypes/form_schemas.py",
                    "interface/gui/prototypes/nicegui_control_center.py",
                    "interface/gui/prototypes/shared.py",
                    "interface/gui/prototypes/textual_control_center.py",
                    "interface/gui/tree.py",
                    "interface/tree.py",
                    "manifest.py",
                    "naked_entry.py",
                    "run_environment_studio_switcheroo.py",
                    "run_make_all_switcharoo.py",
                    "tests/__init__.py",
                    "tests/test_environment_vault_disabled.py",
                    "tests/test_forceit.py",
                    "tests/test_gui_columns.py",
                    "tests/test_gui_commit.py",
                    "tests/test_gui_exit_code.py",
                    "tests/test_gui_tree.py",
                    "tests/test_ingestion_rotation.py",
                    "tests/test_ingestion_schema_validation.py",
                    "tests/test_inspection_stream_tailer.py",
                    "tests/test_make_all_commit_cli.py",
                    "tests/test_make_all_kanban.py",
                    "tests/test_make_all_pip_updates.py",
                    "tests/test_no_persistent_env_var_reference.py",
                    "tests/test_orchestrator_clones_stage.py",
                    "tests/test_orchestrator_visitor_stage.py",
                    "tests/test_progress_board_flags.py",
                    "tests/test_progress_board_streaming.py",
                    "tests/test_publish_manifest.py",
                    "x_cls_make_all_x.py"
                ],
                "repo": "x_0_make_all_x",
                "repo_hash": "46e117c530d65f5725c9dc6c0451ba5ed570aa58be03f1875269d5b7bc2cccdb",
                "repo_path": "C:\\x_runner_x\\x_0_make_all_x",
                "started_at": "2025-11-10T06:10:37.115610+00:00",
                "stderr": "",
                "stdout": "c:\\x_runner_x\\x_0_make_all_x\\tests\\test_ingestion_rotation.py\n  c:\\x_runner_x\\x_0_make_all_x\\tests\\test_ingestion_rotation.py:59:29 - error: \"main\" is not a known attribute of module \"pytest\" (reportAttributeAccessIssue)\nc:\\x_runner_x\\x_0_make_all_x\\tests\\test_inspection_stream_tailer.py\n  c:\\x_runner_x\\x_0_make_all_x\\tests\\test_inspection_stream_tailer.py:98:32 - error: Argument of type \"list[dict[str, str]]\" cannot be assigned to parameter \"events\" of type \"Iterable[dict[str, object]]\" in function \"_write_events\"\n  \u00c2\u00a0\u00c2\u00a0\"list[dict[str, str]]\" is not assignable to \"Iterable[dict[str, object]]\"\n  \u00c2\u00a0\u00c2\u00a0\u00c2\u00a0\u00c2\u00a0Type parameter \"_T_co@Iterable\" is covariant, but \"dict[str, str]\" is not a subtype of \"dict[str, object]\"\n  \u00c2\u00a0\u00c2\u00a0\u00c2\u00a0\u00c2\u00a0\u00c2\u00a0\u00c2\u00a0\"dict[str, str]\" is not assignable to \"dict[str, object]\"\n  \u00c2\u00a0\u00c2\u00a0\u00c2\u00a0\u00c2\u00a0\u00c2\u00a0\u00c2\u00a0\u00c2\u00a0\u00c2\u00a0Type parameter \"_VT@dict\" is invariant, but \"str\" is not the same as \"object\"\n  \u00c2\u00a0\u00c2\u00a0\u00c2\u00a0\u00c2\u00a0\u00c2\u00a0\u00c2\u00a0\u00c2\u00a0\u00c2\u00a0Consider switching from \"dict\" to \"Mapping\" which is covariant in the value type (reportArgumentType)\n  c:\\x_runner_x\\x_0_make_all_x\\tests\\test_inspection_stream_tailer.py:119:29 - error: \"main\" is not a known attribute of module \"pytest\" (reportAttributeAccessIssue)\nc:\\x_runner_x\\x_0_make_all_x\\tests\\test_progress_board_streaming.py\n  c:\\x_runner_x\\x_0_make_all_x\\tests\\test_progress_board_streaming.py:25:26 - error: Cannot access attribute \"skipif\" for class \"_MarkModule\"\n  \u00c2\u00a0\u00c2\u00a0Attribute \"skipif\" is unknown (reportAttributeAccessIssue)\n  c:\\x_runner_x\\x_0_make_all_x\\tests\\test_progress_board_streaming.py:88:27 - error: Argument of type \"_Dummy\" cannot be assigned to parameter \"worker_done_event\" of type \"Event\" in function \"__init__\"\n  \u00c2\u00a0\u00c2\u00a0\"_Dummy\" is not assignable to \"Event\" (reportArgumentType)\n  c:\\x_runner_x\\x_0_make_all_x\\tests\\test_progress_board_streaming.py:101:29 - error: \"main\" is not a known attribute of module \"pytest\" (reportAttributeAccessIssue)\n6 errors, 0 warnings, 0 informations\n",
                "tool": "pyright",
                "tool_module": "pyright",
                "tool_version": "pyright 1.1.407"
            },
            "exit": "exit 1",
            "message": "pyright failed for x_0_make_all_x (exit 1)\ncwd: C:\\x_runner_x\\x_0_make_all_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m pyright . --level error\nstarted_at: 2025-11-10T06:10:37.115610+00:00\nduration: 7.690s\ntool_version: pyright 1.1.407\nstdout:\nc:\\x_runner_x\\x_0_make_all_x\\tests\\test_ingestion_rotation.py\n  c:\\x_runner_x\\x_0_make_all_x\\tests\\test_ingestion_rotation.py:59:29 - error: \"main\" is not a known attribute of module \"pytest\" (reportAttributeAccessIssue)\nc:\\x_runner_x\\x_0_make_all_x\\tests\\test_inspection_stream_tailer.py\n  c:\\x_runner_x\\x_0_make_all_x\\tests\\test_inspection_stream_tailer.py:98:32 - error: Argument of type \"list[dict[str, str]]\" cannot be assigned to parameter \"events\" of type \"Iterable[dict[str, object]]\" in function \"_write_events\"\n  \u00c2\u00a0\u00c2\u00a0\"list[dict[str, str]]\" is not assignable to \"Iterable[dict[str, object]]\"\n\u2026\nstderr:\n<empty>",
            "repo": "x_0_make_all_x",
            "repo_path": "C:\\x_runner_x\\x_0_make_all_x",
            "stderr_preview": null,
            "stdout_preview": "c:\\x_runner_x\\x_0_make_all_x\\tests\\test_ingestion_rotation.py\n  c:\\x_runner_x\\x_0_make_all_x\\tests\\test_ingestion_rotation.py:59:29 - error: \"main\" is not a known attribute of module \"pytest\" (reportAttributeAccessIssue)\nc:\\x_runner_x\\x_0_make_all_x\\tests\\test_inspection_stream_tailer.py\n  c:\\x_runner_x\\x_0_make_all_x\\tests\\test_inspection_stream_tailer.py:98:32 - error: Argument of type \"list[dict[str, str]]\" cannot be assigned to parameter \"events\" of type \"Iterable[dict[str, object]]\" in function \"_write_events\"\n  \u00c2\u00a0\u00c2\u00a0\"list[dict[str, str]]\" is not assignable to \"Iterable[dict[str, object]]\"\n\u2026",
            "suggested_action": "Investigate",
            "summary": "pyright failed for x_0_make_all_x (exit 1) cwd: C:\\x_runner_x\\x_0_make_all_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m pyright . --level error started_at: 2025-11-10T06:10:37.115610+00:00 duration: 7.690\u2026",
            "tool": "pyright",
            "tool_version": "pyright 1.1.407"
        },
        {
            "captured_at": "2025-11-10T06:10:36.361406+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "ruff",
                    "check",
                    ".",
                    "--select",
                    "ALL",
                    "--ignore",
                    "D,COM812,ISC001,T20",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
                "cwd": "C:\\x_runner_x\\x_0_make_all_x",
                "duration_seconds": 0.1500332999858074,
                "ended_at": "2025-11-10T06:10:36.361406+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "forceit.py",
                    "inspection_stream_tailer.py",
                    "interface/__init__.py",
                    "interface/commit.py",
                    "interface/gui/__init__.py",
                    "interface/gui/app.py",
                    "interface/gui/commit.py",
                    "interface/gui/environment_studio/__init__.py",
                    "interface/gui/environment_studio/app.py",
                    "interface/gui/environment_studio/dialogs.py",
                    "interface/gui/environment_studio/services.py",
                    "interface/gui/progress_board.py",
                    "interface/gui/prototypes/__init__.py",
                    "interface/gui/prototypes/form_schemas.py",
                    "interface/gui/prototypes/nicegui_control_center.py",
                    "interface/gui/prototypes/shared.py",
                    "interface/gui/prototypes/textual_control_center.py",
                    "interface/gui/tree.py",
                    "interface/tree.py",
                    "manifest.py",
                    "naked_entry.py",
                    "run_environment_studio_switcheroo.py",
                    "run_make_all_switcharoo.py",
                    "tests/__init__.py",
                    "tests/test_environment_vault_disabled.py",
                    "tests/test_forceit.py",
                    "tests/test_gui_columns.py",
                    "tests/test_gui_commit.py",
                    "tests/test_gui_exit_code.py",
                    "tests/test_gui_tree.py",
                    "tests/test_ingestion_rotation.py",
                    "tests/test_ingestion_schema_validation.py",
                    "tests/test_inspection_stream_tailer.py",
                    "tests/test_make_all_commit_cli.py",
                    "tests/test_make_all_kanban.py",
                    "tests/test_make_all_pip_updates.py",
                    "tests/test_no_persistent_env_var_reference.py",
                    "tests/test_orchestrator_clones_stage.py",
                    "tests/test_orchestrator_visitor_stage.py",
                    "tests/test_progress_board_flags.py",
                    "tests/test_progress_board_streaming.py",
                    "tests/test_publish_manifest.py",
                    "x_cls_make_all_x.py"
                ],
                "repo": "x_0_make_all_x",
                "repo_hash": "46e117c530d65f5725c9dc6c0451ba5ed570aa58be03f1875269d5b7bc2cccdb",
                "repo_path": "C:\\x_runner_x\\x_0_make_all_x",
                "started_at": "2025-11-10T06:10:36.211370+00:00",
                "stderr": "",
                "stdout": "TC003 Move standard library import `collections.abc.Iterable` into a type-checking block\n  --> inspection_stream_tailer.py:12:29\n   |\n10 | import json\n11 | import os\n12 | from collections.abc import Iterable, Mapping\n   |                             ^^^^^^^^\n13 | from contextlib import suppress\n14 | from dataclasses import dataclass\n   |\nhelp: Move into type-checking block\n\nTC003 Move standard library import `collections.abc.Mapping` into a type-checking block\n  --> inspection_stream_tailer.py:12:39\n   |\n10 | import json\n11 | import os\n12 | from collections.abc import Iterable, Mapping\n   |                                       ^^^^^^^\n13 | from contextlib import suppress\n14 | from dataclasses import dataclass\n   |\nhelp: Move into type-checking block\n\nTC003 Move standard library import `pathlib.Path` into a type-checking block\n  --> inspection_stream_tailer.py:16:21\n   |\n14 | from dataclasses import dataclass\n15 | from datetime import UTC, datetime\n16 | from pathlib import Path\n   |                     ^^^^\n17 |\n18 | from x_make_common_x import get_logger\n   |\nhelp: Move into type-checking block\n\nTC002 Move third-party import `x_make_common_x.stage_progress.StageProgressWriter` into a type-checking block\n  --> inspection_stream_tailer.py:19:44\n   |\n18 | from x_make_common_x import get_logger\n19 | from x_make_common_x.stage_progress import StageProgressWriter\n   |                                            ^^^^^^^^^^^^^^^^^^^\n20 |\n21 | _LOGGER = get_logger(\"inspection_stream_tailer\")\n   |\nhelp: Move into type-checking block\n\nSIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`\n  --> inspection_stream_tailer.py:32:5\n   |\n31 |   def _info(*parts: object) -> None:\n32 | /     try:\n33 | |         _LOGGER.info(\"%s\", \" \".join(str(p) for p in parts))\n34 | |     except Exception:\n35 | |         pass\n   | |____________^\n   |\nhelp: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`\n\nS110 `try`-`except`-`pass` detected, consider logging the exception\n  --> inspection_stream_tailer.py:34:5\n   |\n32 |       try:\n33 |           _LOGGER.info(\"%s\", \" \".join(str(p) for p in parts))\n34 | /     except Exception:\n35 | |         pass\n   | |____________^\n   |\n\nBLE001 Do not catch blind exception: `Exception`\n  --> inspection_stream_tailer.py:34:12\n   |\n32 |     try:\n33 |         _LOGGER.info(\"%s\", \" \".join(str(p) for p in parts))\n34 |     except Exception:\n   |            ^^^^^^^^^\n35 |         pass\n   |\n\nSIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`\n  --> inspection_stream_tailer.py:39:5\n   |\n38 |   def _warn(*parts: object) -> None:  # pragma: no cover - logging helper\n39 | /     try:\n40 | |         _LOGGER.warning(\"%s\", \" \".join(str(p) for p in parts))\n41 | |     except Exception:\n42 | |         pass\n   | |____________^\n   |\nhelp: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`\n\nS110 `try`-`except`-`pass` detected, consider logging the exception\n  --> inspection_stream_tailer.py:41:5\n   |\n39 |       try:\n40 |           _LOGGER.warning(\"%s\", \" \".join(str(p) for p in parts))\n41 | /     except Exception:\n42 | |         pass\n   | |____________^\n   |\n\nBLE001 Do not catch blind exception: `Exception`\n  --> inspection_stream_tailer.py:41:12\n   |\n39 |     try:\n40 |         _LOGGER.warning(\"%s\", \" \".join(str(p) for p in parts))\n41 |     except Exception:\n   |            ^^^^^^^^^\n42 |         pass\n   |\n\nE501 Line too long (91 > 88)\n  --> inspection_stream_tailer.py:68:89\n   |\n66 |     \"\"\"Incremental reader of visitor NDJSON events updating progress index.\"\"\"\n67 |\n68 |     def __init__(self, *, workspace_root: Path, stage_writer: StageProgressWriter) -> None:\n   |                                                                                         ^^^\n69 |         self.workspace_root = workspace_root\n70 |         self.stage_writer = stage_writer\n   |\n\nE501 Line too long (98 > 88)\n  --> inspection_stream_tailer.py:77:89\n   |\n75 |         # Optional ingestion audit: write normalized envelopes to NDJSON\n76 |         self._audit_enabled = (\n77 |             os.environ.get(_INGESTION_AUDIT_ENV, \"\").strip().lower() in {\"1\", \"true\", \"yes\", \"on\"}\n   |                                                                                         ^^^^^^^^^^\n78 |         )\n79 |         self._ingestion_path = (stage_writer.entries_dir / \"ingestion_events.ndjson\").resolve()\n   |\n\nE501 Line too long (95 > 88)\n  --> inspection_stream_tailer.py:79:89\n   |\n77 |             os.environ.get(_INGESTION_AUDIT_ENV, \"\").strip().lower() in {\"1\", \"true\", \"yes\", \"on\"}\n78 |         )\n79 |         self._ingestion_path = (stage_writer.entries_dir / \"ingestion_events.ndjson\").resolve()\n   |                                                                                         ^^^^^^^\n80 |         self._offset: int = 0\n81 |         self.stats = TailerStats()\n   |\n\nSIM105 Use `contextlib.suppress(OSError)` instead of `try`-`except`-`pass`\n  --> inspection_stream_tailer.py:94:9\n   |\n93 |       def _store_offset(self) -> None:\n94 | /         try:\n95 | |             self.offset_path.write_text(str(self._offset), encoding=\"utf-8\")\n96 | |         except OSError:  # pragma: no cover - durability best-effort\n97 | |             pass\n   | |________________^\n98 |\n99 |       def _read_new_lines(self) -> Iterable[str]:\n   |\nhelp: Replace `try`-`except`-`pass` with `with contextlib.suppress(OSError): ...`\n\nBLE001 Do not catch blind exception: `Exception`\n   --> inspection_stream_tailer.py:158:16\n    |\n156 |                 handle.flush()\n157 |                 os.fsync(handle.fileno())\n158 |         except Exception:\n    |                ^^^^^^^^^\n159 |             # Audit is best-effort; do not impact main flow\n160 |             return\n    |\n\nBLE001 Do not catch blind exception: `Exception`\n   --> inspection_stream_tailer.py:182:16\n    |\n180 |                 with suppress(OSError):\n181 |                     old.unlink()\n182 |         except Exception:\n    |                ^^^^^^^^^\n183 |             return\n    |\n\nPERF401 Use `list.extend` to create a transformed list\n   --> inspection_stream_tailer.py:198:21\n    |\n196 |             for m in messages_obj:\n197 |                 if isinstance(m, str) and m.strip():\n198 |                     messages.append(m.strip())\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^\n199 |         if phase == \"start\":\n200 |             self.stage_writer.record_start(\n    |\nhelp: Replace for loop with list.extend\n\nE501 Line too long (102 > 88)\n   --> inspection_stream_tailer.py:240:89\n    |\n238 |         # Append a truncated summary to repo entry via failure record (non-terminal)\n239 |         message = summary_obj.strip()[:240]\n240 |         # Use failure to ensure attention coloring; but avoid marking completed again if already done.\n    |                                                                                         ^^^^^^^^^^^^^^\n241 |         self.stage_writer.record_failure(\n242 |             repo_obj.strip(),\n    |\n\nARG002 Unused method argument: `payload`\n   --> inspection_stream_tailer.py:248:32\n    |\n246 |         self.stats.tool_events += 1\n247 |\n248 |     def _apply_run_event(self, payload: Mapping[str, object]) -> None:\n    |                                ^^^^^^^\n249 |         # Run events currently ignored for progress index except stats.\n250 |         self.stats.run_events += 1\n    |\n\nE501 Line too long (112 > 88)\n   --> inspection_stream_tailer.py:291:89\n    |\n291 | def create_stream_tailer(workspace_root: Path, stage_writer: StageProgressWriter) -> VisitorStreamTailer | None:\n    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^\n292 |     # Guard: only initialize when streaming flag enabled\n293 |     flag = os.environ.get(\"VISITOR_STREAMING\", \"\").strip().lower() in {\"1\", \"true\", \"yes\", \"on\"}\n    |\n\nE501 Line too long (96 > 88)\n   --> inspection_stream_tailer.py:293:89\n    |\n291 | def create_stream_tailer(workspace_root: Path, stage_writer: StageProgressWriter) -> VisitorStreamTailer | None:\n292 |     # Guard: only initialize when streaming flag enabled\n293 |     flag = os.environ.get(\"VISITOR_STREAMING\", \"\").strip().lower() in {\"1\", \"true\", \"yes\", \"on\"}\n    |                                                                                         ^^^^^^^^\n294 |     if not flag:\n295 |         return None\n    |\n\nE501 Line too long (101 > 88)\n   --> interface\\gui\\app.py:983:89\n    |\n981 |         elif _allowed_repository_names and extras:\n982 |             self.enqueue_log(\n983 |                 \"Allowlist prioritised manifest repositories; appended remaining repos to the table.\"\n    |                                                                                         ^^^^^^^^^^^^^\n984 |             )\n985 |         self._update_summary_label()\n    |\n\nC901 `_to_environment_config` is too complex (16 > 10)\n   --> interface\\gui\\environment_studio\\services.py:250:9\n    |\n248 |         )\n249 |\n250 |     def _to_environment_config(self, data: JsonMapping) -> EnvironmentConfig:\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n251 |         if isinstance(data, EnvironmentConfig):\n252 |             return data\n    |\n\nRUF002 Docstring contains ambiguous `\u00e2\u20ac\u2018` (NON-BREAKING HYPHEN). Did you mean `-` (HYPHEN-MINUS)?\n   --> interface\\gui\\progress_board.py:244:21\n    |\n243 |     def _style_stage_item(self, item: _ChecklistItem, status: str) -> None:\n244 |         \"\"\"Apply per\u00e2\u20ac\u2018status color hints (foreground only to avoid theme clash).\"\"\"\n    |                     ^\n245 |         try:\n246 |             from PySide6 import QtGui as _QtGui2  # local import to keep guard pattern\n    |\n\nPLC0415 `import` should be at the top-level of a file\n   --> interface\\gui\\progress_board.py:246:13\n    |\n244 |         \"\"\"Apply per\u00e2\u20ac\u2018status color hints (foreground only to avoid theme clash).\"\"\"\n245 |         try:\n246 |             from PySide6 import QtGui as _QtGui2  # local import to keep guard pattern\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n247 |         except ModuleNotFoundError:  # pragma: no cover - GUI dependency absent\n248 |             return\n    |\n\nE501 Line too long (115 > 88)\n   --> interface\\gui\\progress_board.py:288:89\n    |\n286 |                     errors = stream_stats.get(\"errors\")\n287 |                     tooltip = (\n288 |                         f\"Streaming: processed={processed} repos={repo_events} tools={tool_events} errors={errors}\"\n    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n289 |                     )\n290 |                     # Attach as a synthetic entry in cache for UI hinting via tooltip on header\n    |\n\nE501 Line too long (95 > 88)\n   --> interface\\gui\\progress_board.py:290:89\n    |\n288 |                         f\"Streaming: processed={processed} repos={repo_events} tools={tool_events} errors={errors}\"\n289 |                     )\n290 |                     # Attach as a synthetic entry in cache for UI hinting via tooltip on header\n    |                                                                                         ^^^^^^^\n291 |                     self._checklist.setToolTip(tooltip)\n292 |                 elif streaming_flag:\n    |\n\nE501 Line too long (92 > 88)\n   --> interface\\gui\\progress_board.py:293:89\n    |\n291 |                     self._checklist.setToolTip(tooltip)\n292 |                 elif streaming_flag:\n293 |                     self._checklist.setToolTip(\"Streaming inspection active (no stats yet)\")\n    |                                                                                         ^^^^\n294 |             cache_entry = self._load_repo_index_payload(stage_id, metadata)\n295 |             if cache_entry is None:\n    |\n\nE501 Line too long (89 > 88)\n --> run_environment_studio_switcheroo.py:1:89\n  |\n1 | \"\"\"Preferred entry point for launching the Environment Studio GUI from x_0_make_all_x.\"\"\"\n  |                                                                                         ^\n2 |\n3 | from __future__ import annotations\n  |\n\nTC003 Move standard library import `collections.abc.Callable` into a type-checking block\n  --> run_environment_studio_switcheroo.py:8:29\n   |\n 6 | import os\n 7 | import sys\n 8 | from collections.abc import Callable\n   |                             ^^^^^^^^\n 9 | from pathlib import Path\n10 | from typing import TYPE_CHECKING\n   |\nhelp: Move into type-checking block\n\nTRY003 Avoid specifying long messages outside the exception class\n  --> run_environment_studio_switcheroo.py:46:11\n   |\n44 |           else:\n45 |               return module.launch_environment_studio\n46 |       raise ModuleNotFoundError(\n   |  ___________^\n47 | |         \"Unable to import Environment Studio \u00e2\u20ac\u201c verify that dependencies are installed in the \"\n48 | |         \"active virtual environment.\"\n49 | |     ) from last_error\n   | |_____^\n   |\n\nEM101 Exception must not use a string literal, assign to variable first\n  --> run_environment_studio_switcheroo.py:47:9\n   |\n45 |               return module.launch_environment_studio\n46 |       raise ModuleNotFoundError(\n47 | /         \"Unable to import Environment Studio \u00e2\u20ac\u201c verify that dependencies are installed in the \"\n48 | |         \"active virtual environment.\"\n   | |_____________________________________^\n49 |       ) from last_error\n   |\nhelp: Assign to variable; remove string literal\n\nRUF001 String contains ambiguous `\u00e2\u20ac\u201c` (EN DASH). Did you mean `-` (HYPHEN-MINUS)?\n  --> run_environment_studio_switcheroo.py:47:46\n   |\n45 |             return module.launch_environment_studio\n46 |     raise ModuleNotFoundError(\n47 |         \"Unable to import Environment Studio \u00e2\u20ac\u201c verify that dependencies are installed in the \"\n   |                                              ^\n48 |         \"active virtual environment.\"\n49 |     ) from last_error\n   |\n\nE501 Line too long (94 > 88)\n  --> run_environment_studio_switcheroo.py:47:89\n   |\n45 |             return module.launch_environment_studio\n46 |     raise ModuleNotFoundError(\n47 |         \"Unable to import Environment Studio \u00e2\u20ac\u201c verify that dependencies are installed in the \"\n   |                                                                                         ^^^^^^\n48 |         \"active virtual environment.\"\n49 |     ) from last_error\n   |\n\nE501 Line too long (100 > 88)\n  --> run_environment_studio_switcheroo.py:69:89\n   |\n68 |     policy_command = \"Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass\"\n69 |     activate_command = f\".\\\\{activate_ps.relative_to(WORKSPACE_ROOT).as_posix().replace('/', '\\\\')}\"\n   |                                                                                         ^^^^^^^^^^^^\n70 |     print(\"[EnvironmentStudio] PowerShell may block Activate.ps1. If so, run:\", flush=True)\n71 |     print(f\"[EnvironmentStudio]   {policy_command}\", flush=True)\n   |\n\ninvalid-syntax: Cannot use an escape sequence (backslash) in f-strings on Python 3.11 (syntax was added in Python 3.12)\n  --> run_environment_studio_switcheroo.py:69:95\n   |\n68 |     policy_command = \"Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass\"\n69 |     activate_command = f\".\\\\{activate_ps.relative_to(WORKSPACE_ROOT).as_posix().replace('/', '\\\\')}\"\n   |                                                                                               ^\n70 |     print(\"[EnvironmentStudio] PowerShell may block Activate.ps1. If so, run:\", flush=True)\n71 |     print(f\"[EnvironmentStudio]   {policy_command}\", flush=True)\n   |\n\ninvalid-syntax: Cannot use an escape sequence (backslash) in f-strings on Python 3.11 (syntax was added in Python 3.12)\n  --> run_environment_studio_switcheroo.py:69:96\n   |\n68 |     policy_command = \"Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass\"\n69 |     activate_command = f\".\\\\{activate_ps.relative_to(WORKSPACE_ROOT).as_posix().replace('/', '\\\\')}\"\n   |                                                                                                ^\n70 |     print(\"[EnvironmentStudio] PowerShell may block Activate.ps1. If so, run:\", flush=True)\n71 |     print(f\"[EnvironmentStudio]   {policy_command}\", flush=True)\n   |\n\nE501 Line too long (91 > 88)\n  --> run_environment_studio_switcheroo.py:70:89\n   |\n68 |     policy_command = \"Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass\"\n69 |     activate_command = f\".\\\\{activate_ps.relative_to(WORKSPACE_ROOT).as_posix().replace('/', '\\\\')}\"\n70 |     print(\"[EnvironmentStudio] PowerShell may block Activate.ps1. If so, run:\", flush=True)\n   |                                                                                         ^^^\n71 |     print(f\"[EnvironmentStudio]   {policy_command}\", flush=True)\n72 |     print(f\"[EnvironmentStudio]   {activate_command}\", flush=True)\n   |\n\nTC003 Move standard library import `collections.abc.Sequence` into a type-checking block\n --> run_make_all_switcharoo.py:8:29\n  |\n6 | import subprocess\n7 | import sys\n8 | from collections.abc import Sequence\n  |                             ^^^^^^^^\n9 | from pathlib import Path\n  |\nhelp: Move into type-checking block\n\nE501 Line too long (100 > 88)\n  --> run_make_all_switcharoo.py:30:89\n   |\n29 |     policy_command = \"Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass\"\n30 |     activate_command = f\".\\\\{activate_ps.relative_to(WORKSPACE_ROOT).as_posix().replace('/', '\\\\')}\"\n   |                                                                                         ^^^^^^^^^^^^\n31 |     print(\"[MakeAll] PowerShell may block Activate.ps1. If so, run:\", flush=True)\n32 |     print(f\"[MakeAll]   {policy_command}\", flush=True)\n   |\n\ninvalid-syntax: Cannot use an escape sequence (backslash) in f-strings on Python 3.11 (syntax was added in Python 3.12)\n  --> run_make_all_switcharoo.py:30:95\n   |\n29 |     policy_command = \"Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass\"\n30 |     activate_command = f\".\\\\{activate_ps.relative_to(WORKSPACE_ROOT).as_posix().replace('/', '\\\\')}\"\n   |                                                                                               ^\n31 |     print(\"[MakeAll] PowerShell may block Activate.ps1. If so, run:\", flush=True)\n32 |     print(f\"[MakeAll]   {policy_command}\", flush=True)\n   |\n\ninvalid-syntax: Cannot use an escape sequence (backslash) in f-strings on Python 3.11 (syntax was added in Python 3.12)\n  --> run_make_all_switcharoo.py:30:96\n   |\n29 |     policy_command = \"Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass\"\n30 |     activate_command = f\".\\\\{activate_ps.relative_to(WORKSPACE_ROOT).as_posix().replace('/', '\\\\')}\"\n   |                                                                                                ^\n31 |     print(\"[MakeAll] PowerShell may block Activate.ps1. If so, run:\", flush=True)\n32 |     print(f\"[MakeAll]   {policy_command}\", flush=True)\n   |\n\nS603 `subprocess` call: check for execution of untrusted input\n  --> run_make_all_switcharoo.py:53:17\n   |\n52 |     command = [sys.executable, \"-m\", CLI_MODULE, *forwarded]\n53 |     completed = subprocess.run(command, check=False, cwd=str(WORKSPACE_ROOT), env=env)\n   |                 ^^^^^^^^^^^^^^\n54 |     raise SystemExit(completed.returncode)\n   |\n\nTC003 Move standard library import `pathlib.Path` into a type-checking block\n --> tests\\test_ingestion_rotation.py:4:21\n  |\n3 | import os\n4 | from pathlib import Path\n  |                     ^^^^\n5 |\n6 | from x_make_common_x.stage_progress import StageProgressWriter\n  |\nhelp: Move into type-checking block\n\nANN001 Missing type annotation for function argument `tailer`\n  --> tests\\test_ingestion_rotation.py:14:18\n   |\n14 | def _emit_events(tailer, count: int) -> None:\n   |                  ^^^^^^\n15 |     # Force ingestion audit enabled\n16 |     os.environ[\"VISITOR_INGESTION_AUDIT\"] = \"1\"\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_ingestion_rotation.py:27:5\n   |\n25 |     writer = StageProgressWriter(stage_id=\"inspection\", root_dir=tmp_path / \"progress\")\n26 |     tailer = create_stream_tailer(tmp_path, writer)\n27 |     assert tailer is not None\n   |     ^^^^^^\n28 |\n29 |     # Emit enough events to exceed rotate threshold (~ size heuristic)\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_ingestion_rotation.py:42:5\n   |\n40 |     segments = sorted(parent.glob(f\"{stem}.*.ndjson\"))\n41 |     # Rotation may have occurred; ensure segment list not empty\n42 |     assert segments or ingestion_path.exists()\n   |     ^^^^^^\n43 |\n44 |     # Emit more events to trigger possible subsequent rotations\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_ingestion_rotation.py:49:5\n   |\n48 |     # Ensure retention limit respected (<=5 segments)\n49 |     assert len(more_segments) <= 5\n   |     ^^^^^^\n50 |\n51 |     # Validate segment file names timestamp pattern\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `5` with a constant variable\n  --> tests\\test_ingestion_rotation.py:49:34\n   |\n48 |     # Ensure retention limit respected (<=5 segments)\n49 |     assert len(more_segments) <= 5\n   |                                  ^\n50 |\n51 |     # Validate segment file names timestamp pattern\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_ingestion_rotation.py:53:9\n   |\n51 |     # Validate segment file names timestamp pattern\n52 |     for seg in more_segments:\n53 |         assert seg.name.startswith(stem + \".\")\n   |         ^^^^^^\n54 |         assert seg.suffix == \".ndjson\"\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_ingestion_rotation.py:54:9\n   |\n52 |     for seg in more_segments:\n53 |         assert seg.name.startswith(stem + \".\")\n54 |         assert seg.suffix == \".ndjson\"\n   |         ^^^^^^\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_ingestion_schema_validation.py:18:5\n   |\n16 |     writer = StageProgressWriter(stage_id=\"inspection\", root_dir=tmp_path / \"progress\")\n17 |     tailer = create_stream_tailer(tmp_path, writer)\n18 |     assert tailer is not None\n   |     ^^^^^^\n19 |\n20 |     # Emit some events via poll path (simulate stream lines)\n   |\n\nE501 Line too long (103 > 88)\n  --> tests\\test_ingestion_schema_validation.py:21:89\n   |\n20 |     # Emit some events via poll path (simulate stream lines)\n21 |     stream_file = tmp_path / \"x_make_github_visitor_x\" / \"reports\" / \"events\" / \"visitor_events.ndjson\"\n   |                                                                                         ^^^^^^^^^^^^^^^\n22 |     stream_file.parent.mkdir(parents=True, exist_ok=True)\n23 |     events = [\n   |\n\nE501 Line too long (111 > 88)\n  --> tests\\test_ingestion_schema_validation.py:25:89\n   |\n23 |     events = [\n24 |         {\"event\": \"repo\", \"repo\": \"eye4357/a\", \"phase\": \"start\"},\n25 |         {\"event\": \"repo\", \"repo\": \"eye4357/a\", \"phase\": \"complete\", \"status\": \"succeeded\", \"messages\": [\"ok\"]},\n   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^\n26 |         {\"event\": \"tool\", \"repo\": \"eye4357/a\", \"tool\": \"lint\", \"status\": \"failed\", \"summary\": \"pep8\"},\n27 |     ]\n   |\n\nE501 Line too long (102 > 88)\n  --> tests\\test_ingestion_schema_validation.py:26:89\n   |\n24 |         {\"event\": \"repo\", \"repo\": \"eye4357/a\", \"phase\": \"start\"},\n25 |         {\"event\": \"repo\", \"repo\": \"eye4357/a\", \"phase\": \"complete\", \"status\": \"succeeded\", \"messages\": [\"ok\"]},\n26 |         {\"event\": \"tool\", \"repo\": \"eye4357/a\", \"tool\": \"lint\", \"status\": \"failed\", \"summary\": \"pep8\"},\n   |                                                                                         ^^^^^^^^^^^^^^\n27 |     ]\n28 |     with stream_file.open(\"w\", encoding=\"utf-8\") as handle:\n   |\n\nE501 Line too long (112 > 88)\n  --> tests\\test_ingestion_schema_validation.py:34:89\n   |\n32 |     tailer.poll()\n33 |\n34 |     schema_path = Path(__file__).resolve().parent.parent / \"reports\" / \"schemas\" / \"ingestion_event.schema.json\"\n   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^\n35 |     with schema_path.open(\"r\", encoding=\"utf-8\") as fh:\n36 |         schema = json.load(fh)\n   |\n\nE501 Line too long (122 > 88)\n  --> tests\\test_ingestion_schema_validation.py:40:89\n   |\n38 |     # Use RefResolver + Draft202012 (if available) else default validator\n39 |     validator_cls = None\n40 |     for name in (\"Draft202012Validator\", \"Draft201909Validator\", \"Draft7Validator\", \"Draft6Validator\", \"Draft4Validator\"):\n   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n41 |         validator_cls = getattr(jsonschema, name, None)\n42 |         if validator_cls is not None:\n   |\n\nTRY003 Avoid specifying long messages outside the exception class\n  --> tests\\test_ingestion_schema_validation.py:45:15\n   |\n43 |             break\n44 |     if validator_cls is None:\n45 |         raise RuntimeError(\"No compatible jsonschema validator available\")\n   |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n46 |     validator_cls.check_schema(schema)\n47 |     validator = validator_cls(schema)\n   |\n\nEM101 Exception must not use a string literal, assign to variable first\n  --> tests\\test_ingestion_schema_validation.py:45:28\n   |\n43 |             break\n44 |     if validator_cls is None:\n45 |         raise RuntimeError(\"No compatible jsonschema validator available\")\n   |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n46 |     validator_cls.check_schema(schema)\n47 |     validator = validator_cls(schema)\n   |\nhelp: Assign to variable; remove string literal\n\nS101 Use of `assert` detected\n  --> tests\\test_ingestion_schema_validation.py:50:5\n   |\n49 |     ingestion_file = writer.entries_dir / \"ingestion_events.ndjson\"\n50 |     assert ingestion_file.exists()\n   |     ^^^^^^\n51 |     with ingestion_file.open(\"r\", encoding=\"utf-8\") as fh:\n52 |         for line in fh:\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_ingestion_schema_validation.py:56:13\n   |\n54 |             validator.validate(payload)\n55 |             # Basic invariants\n56 |             assert payload[\"schema_version\"] == \"x_make.ingestion_event/1.0\"\n   |             ^^^^^^\n57 |             assert payload[\"source\"] == \"visitor_events\"\n58 |             assert payload[\"event_type\"] in {\"repo\", \"tool\", \"run\", \"\"}\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_ingestion_schema_validation.py:57:13\n   |\n55 |             # Basic invariants\n56 |             assert payload[\"schema_version\"] == \"x_make.ingestion_event/1.0\"\n57 |             assert payload[\"source\"] == \"visitor_events\"\n   |             ^^^^^^\n58 |             assert payload[\"event_type\"] in {\"repo\", \"tool\", \"run\", \"\"}\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_ingestion_schema_validation.py:58:13\n   |\n56 |             assert payload[\"schema_version\"] == \"x_make.ingestion_event/1.0\"\n57 |             assert payload[\"source\"] == \"visitor_events\"\n58 |             assert payload[\"event_type\"] in {\"repo\", \"tool\", \"run\", \"\"}\n   |             ^^^^^^\n   |\n\nTC003 Move standard library import `collections.abc.Iterable` into a type-checking block\n --> tests\\test_inspection_stream_tailer.py:5:29\n  |\n3 | import json\n4 | import os\n5 | from collections.abc import Iterable\n  |                             ^^^^^^^^\n6 | from pathlib import Path\n  |\nhelp: Move into type-checking block\n\nTC003 Move standard library import `pathlib.Path` into a type-checking block\n --> tests\\test_inspection_stream_tailer.py:6:21\n  |\n4 | import os\n5 | from collections.abc import Iterable\n6 | from pathlib import Path\n  |                     ^^^^\n7 |\n8 | from x_make_common_x.stage_progress import StageProgressWriter\n  |\nhelp: Move into type-checking block\n\nE501 Line too long (109 > 88)\n  --> tests\\test_inspection_stream_tailer.py:29:89\n   |\n27 |     # Prepare fake workspace root with stream file location\n28 |     workspace_root = tmp_path\n29 |     stream_path = workspace_root / \"x_make_github_visitor_x\" / \"reports\" / \"events\" / \"visitor_events.ndjson\"\n   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^\n30 |\n31 |     # Stage progress writer rooted at inspection progress dir\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_inspection_stream_tailer.py:38:5\n   |\n36 |     os.environ[\"VISITOR_STREAMING\"] = \"1\"\n37 |     tailer = create_stream_tailer(workspace_root, writer)\n38 |     assert isinstance(tailer, VisitorStreamTailer)\n   |     ^^^^^^\n39 |\n40 |     # Write initial repo start + tool failure + repo completion success\n   |\n\nE501 Line too long (132 > 88)\n  --> tests\\test_inspection_stream_tailer.py:45:89\n   |\n43 | \u00e2\u20ac\u00a6\n44 | \u00e2\u20ac\u00a657/example_repo\", \"phase\": \"start\"},\n45 | \u00e2\u20ac\u00a657/example_repo\", \"tool\": \"lint\", \"status\": \"failed\", \"summary\": \"flake8 errors found\"},\n   |                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n46 | \u00e2\u20ac\u00a657/example_repo\", \"phase\": \"complete\", \"status\": \"succeeded\", \"messages\": [\"all checks passed\"]},\n47 | \u00e2\u20ac\u00a6\n   |\n\nE501 Line too long (141 > 88)\n  --> tests\\test_inspection_stream_tailer.py:46:89\n   |\n44 | \u00e2\u20ac\u00a6xample_repo\", \"phase\": \"start\"},\n45 | \u00e2\u20ac\u00a6xample_repo\", \"tool\": \"lint\", \"status\": \"failed\", \"summary\": \"flake8 errors found\"},\n46 | \u00e2\u20ac\u00a6xample_repo\", \"phase\": \"complete\", \"status\": \"succeeded\", \"messages\": [\"all checks passed\"]},\n   |                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n47 | \u00e2\u20ac\u00a6\n48 | \u00e2\u20ac\u00a6\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_inspection_stream_tailer.py:52:5\n   |\n50 |     stats = tailer.poll()\n51 |     # Expect 3 processed events\n52 |     assert stats.processed == 3\n   |     ^^^^^^\n53 |     assert stats.repo_events == 2\n54 |     assert stats.tool_events == 1\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `3` with a constant variable\n  --> tests\\test_inspection_stream_tailer.py:52:31\n   |\n50 |     stats = tailer.poll()\n51 |     # Expect 3 processed events\n52 |     assert stats.processed == 3\n   |                               ^\n53 |     assert stats.repo_events == 2\n54 |     assert stats.tool_events == 1\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_inspection_stream_tailer.py:53:5\n   |\n51 |     # Expect 3 processed events\n52 |     assert stats.processed == 3\n53 |     assert stats.repo_events == 2\n   |     ^^^^^^\n54 |     assert stats.tool_events == 1\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `2` with a constant variable\n  --> tests\\test_inspection_stream_tailer.py:53:33\n   |\n51 |     # Expect 3 processed events\n52 |     assert stats.processed == 3\n53 |     assert stats.repo_events == 2\n   |                                 ^\n54 |     assert stats.tool_events == 1\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_inspection_stream_tailer.py:54:5\n   |\n52 |     assert stats.processed == 3\n53 |     assert stats.repo_events == 2\n54 |     assert stats.tool_events == 1\n   |     ^^^^^^\n55 |\n56 |     # Verify writer index reflects completed status and includes preview message\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_inspection_stream_tailer.py:58:5\n   |\n56 |     # Verify writer index reflects completed status and includes preview message\n57 |     index_payload = json.loads(stage_root.joinpath(\"index.json\").read_text(\"utf-8\"))\n58 |     assert index_payload[\"status_counts\"].get(\"completed\") == 1\n   |     ^^^^^^\n59 |     entries = index_payload[\"entries\"]\n60 |     assert len(entries) == 1\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_inspection_stream_tailer.py:60:5\n   |\n58 |     assert index_payload[\"status_counts\"].get(\"completed\") == 1\n59 |     entries = index_payload[\"entries\"]\n60 |     assert len(entries) == 1\n   |     ^^^^^^\n61 |     entry = entries[0]\n62 |     assert entry[\"status\"] == \"completed\"\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_inspection_stream_tailer.py:62:5\n   |\n60 |     assert len(entries) == 1\n61 |     entry = entries[0]\n62 |     assert entry[\"status\"] == \"completed\"\n   |     ^^^^^^\n63 |     preview = entry.get(\"message_preview\") or []\n64 |     # Tool failure appended before success messages should appear in preview\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_inspection_stream_tailer.py:65:5\n   |\n63 |     preview = entry.get(\"message_preview\") or []\n64 |     # Tool failure appended before success messages should appear in preview\n65 |     assert any(\"flake8\" in msg for msg in preview) or any(\"all checks\" in msg for msg in preview)\n   |     ^^^^^^\n66 |\n67 |     # Append a failing completion to another repo to exercise failure path\n   |\n\nE501 Line too long (97 > 88)\n  --> tests\\test_inspection_stream_tailer.py:65:89\n   |\n63 |     preview = entry.get(\"message_preview\") or []\n64 |     # Tool failure appended before success messages should appear in preview\n65 |     assert any(\"flake8\" in msg for msg in preview) or any(\"all checks\" in msg for msg in preview)\n   |                                                                                         ^^^^^^^^^\n66 |\n67 |     # Append a failing completion to another repo to exercise failure path\n   |\n\nE501 Line too long (132 > 88)\n  --> tests\\test_inspection_stream_tailer.py:72:89\n   |\n70 |         [\n71 |             {\"event\": \"repo\", \"repo\": \"eye4357/second_repo\", \"phase\": \"start\"},\n72 |             {\"event\": \"repo\", \"repo\": \"eye4357/second_repo\", \"phase\": \"complete\", \"status\": \"failed\", \"messages\": [\"tests failed\"]},\n   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n73 |         ],\n74 |     )\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_inspection_stream_tailer.py:76:5\n   |\n74 |     )\n75 |     stats2 = tailer.poll()\n76 |     assert stats2.processed == 5  # cumulative\n   |     ^^^^^^\n77 |     assert stats2.repo_events == 4\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `5` with a constant variable\n  --> tests\\test_inspection_stream_tailer.py:76:32\n   |\n74 |     )\n75 |     stats2 = tailer.poll()\n76 |     assert stats2.processed == 5  # cumulative\n   |                                ^\n77 |     assert stats2.repo_events == 4\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_inspection_stream_tailer.py:77:5\n   |\n75 |     stats2 = tailer.poll()\n76 |     assert stats2.processed == 5  # cumulative\n77 |     assert stats2.repo_events == 4\n   |     ^^^^^^\n78 |\n79 |     index_payload2 = json.loads(stage_root.joinpath(\"index.json\").read_text(\"utf-8\"))\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `4` with a constant variable\n  --> tests\\test_inspection_stream_tailer.py:77:34\n   |\n75 |     stats2 = tailer.poll()\n76 |     assert stats2.processed == 5  # cumulative\n77 |     assert stats2.repo_events == 4\n   |                                  ^\n78 |\n79 |     index_payload2 = json.loads(stage_root.joinpath(\"index.json\").read_text(\"utf-8\"))\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_inspection_stream_tailer.py:81:5\n   |\n79 |     index_payload2 = json.loads(stage_root.joinpath(\"index.json\").read_text(\"utf-8\"))\n80 |     # Now have one completed and one attention\n81 |     assert index_payload2[\"status_counts\"].get(\"completed\") == 1\n   |     ^^^^^^\n82 |     assert index_payload2[\"status_counts\"].get(\"attention\") == 1\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_inspection_stream_tailer.py:82:5\n   |\n80 |     # Now have one completed and one attention\n81 |     assert index_payload2[\"status_counts\"].get(\"completed\") == 1\n82 |     assert index_payload2[\"status_counts\"].get(\"attention\") == 1\n   |     ^^^^^^\n   |\n\nE501 Line too long (109 > 88)\n  --> tests\\test_inspection_stream_tailer.py:87:89\n   |\n85 | def test_tailer_offset_persistence(tmp_path: Path) -> None:\n86 |     workspace_root = tmp_path\n87 |     stream_path = workspace_root / \"x_make_github_visitor_x\" / \"reports\" / \"events\" / \"visitor_events.ndjson\"\n   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^\n88 |     stage_root = tmp_path / \"x_0_make_all_x\" / \"reports\" / \"progress\" / \"inspection\"\n89 |     writer = StageProgressWriter(stage_id=\"inspection\", root_dir=stage_root)\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_inspection_stream_tailer.py:92:5\n   |\n90 |     os.environ[\"VISITOR_STREAMING\"] = \"1\"\n91 |     tailer = create_stream_tailer(workspace_root, writer)\n92 |     assert tailer is not None\n   |     ^^^^^^\n93 |\n94 |     events = [\n   |\n\nE501 Line too long (95 > 88)\n  --> tests\\test_inspection_stream_tailer.py:96:89\n   |\n94 |     events = [\n95 |         {\"event\": \"repo\", \"repo\": \"eye4357/alpha\", \"phase\": \"start\"},\n96 |         {\"event\": \"repo\", \"repo\": \"eye4357/alpha\", \"phase\": \"complete\", \"status\": \"succeeded\"},\n   |                                                                                         ^^^^^^^\n97 |     ]\n98 |     _write_events(stream_path, events)\n   |\n\nS101 Use of `assert` detected\n   --> tests\\test_inspection_stream_tailer.py:102:5\n    |\n100 |     # Capture offset file\n101 |     offset_file = stage_root / \".visitor_offset\"\n102 |     assert offset_file.exists()\n    |     ^^^^^^\n103 |     original_offset = int(offset_file.read_text(\"utf-8\").strip())\n104 |     # Recreate tailer and ensure processed count accumulates without reprocessing\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_inspection_stream_tailer.py:106:5\n    |\n104 |     # Recreate tailer and ensure processed count accumulates without reprocessing\n105 |     tailer2 = create_stream_tailer(workspace_root, writer)\n106 |     assert tailer2 is not None\n    |     ^^^^^^\n107 |     stats_before = tailer2.stats.processed\n108 |     tailer2.poll()\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_inspection_stream_tailer.py:109:5\n    |\n107 |     stats_before = tailer2.stats.processed\n108 |     tailer2.poll()\n109 |     assert tailer2.stats.processed == stats_before  # No new events processed\n    |     ^^^^^^\n110 |     # Append one more event and ensure offset grows\n111 |     _write_events(stream_path, [{\"event\": \"run\", \"phase\": \"start\"}])\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_inspection_stream_tailer.py:114:5\n    |\n112 |     tailer2.poll()\n113 |     new_offset = int(offset_file.read_text(\"utf-8\").strip())\n114 |     assert new_offset > original_offset\n    |     ^^^^^^\n    |\n\nTC003 Move standard library import `pathlib.Path` into a type-checking block\n --> tests\\test_progress_board_streaming.py:4:21\n  |\n3 | import json\n4 | from pathlib import Path\n  |                     ^^^^\n5 |\n6 | import pytest\n  |\nhelp: Move into type-checking block\n\nS110 `try`-`except`-`pass` detected, consider logging the exception\n  --> tests\\test_progress_board_streaming.py:22:1\n   |\n20 |       )\n21 |       PY_SIDE_AVAILABLE = True\n22 | / except Exception:  # noqa: BLE001 - broad to avoid hard import failures\n23 | |     pass\n   | |________^\n24 |\n25 |   pytestmark = pytest.mark.skipif(not PY_SIDE_AVAILABLE, reason=\"PySide6 not available\")\n   |\n\nF841 Local variable `app` is assigned to but never used\n  --> tests\\test_progress_board_streaming.py:83:5\n   |\n82 |     # Instantiate widget headless\n83 |     app = QtWidgets.QApplication.instance() or QtWidgets.QApplication([])  # type: ignore[union-attr]\n   |     ^^^\n84 |     assert ProgressBoardWidget is not None\n85 |     board = ProgressBoardWidget(\n   |\nhelp: Remove assignment to unused variable `app`\n\nS101 Use of `assert` detected\n  --> tests\\test_progress_board_streaming.py:84:5\n   |\n82 |     # Instantiate widget headless\n83 |     app = QtWidgets.QApplication.instance() or QtWidgets.QApplication([])  # type: ignore[union-attr]\n84 |     assert ProgressBoardWidget is not None\n   |     ^^^^^^\n85 |     board = ProgressBoardWidget(\n86 |         snapshot_path=snap_path,\n   |\n\nARG005 Unused lambda argument: `self`\n  --> tests\\test_progress_board_streaming.py:88:64\n   |\n86 |         snapshot_path=snap_path,\n87 |         stage_definitions=[(\"inspection\", \"Inspection & QA\")],\n88 |         worker_done_event=type(\"_Dummy\", (), {\"is_set\": lambda self: True})(),\n   |                                                                ^^^^\n89 |     )\n90 |     # Force a refresh\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_progress_board_streaming.py:93:5\n   |\n91 |     board._refresh_snapshot()  # noqa: SLF001\n92 |     tooltip = board._checklist.toolTip()  # noqa: SLF001\n93 |     assert \"Streaming:\" in tooltip\n   |     ^^^^^^\n94 |     assert \"processed=3\" in tooltip\n95 |     # Verify one repo row present in detail table\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_progress_board_streaming.py:94:5\n   |\n92 |     tooltip = board._checklist.toolTip()  # noqa: SLF001\n93 |     assert \"Streaming:\" in tooltip\n94 |     assert \"processed=3\" in tooltip\n   |     ^^^^^^\n95 |     # Verify one repo row present in detail table\n96 |     assert board._detail_table.rowCount() == 1  # noqa: SLF001\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_progress_board_streaming.py:96:5\n   |\n94 |     assert \"processed=3\" in tooltip\n95 |     # Verify one repo row present in detail table\n96 |     assert board._detail_table.rowCount() == 1  # noqa: SLF001\n   |     ^^^^^^\n   |\n\nFound 101 errors.\nNo fixes available (15 hidden fixes can be enabled with the `--unsafe-fixes` option).\n",
                "tool": "ruff_check",
                "tool_module": "ruff",
                "tool_version": "ruff 0.14.4"
            },
            "exit": "exit 1",
            "message": "ruff_check failed for x_0_make_all_x (exit 1)\ncwd: C:\\x_runner_x\\x_0_make_all_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311\nstarted_at: 2025-11-10T06:10:36.211370+00:00\nduration: 0.150s\ntool_version: ruff 0.14.4\nstdout:\nTC003 Move standard library import `collections.abc.Iterable` into a type-checking block\n  --> inspection_stream_tailer.py:12:29\n   |\n10 | import json\n11 | import os\n\u2026\nstderr:\n<empty>",
            "repo": "x_0_make_all_x",
            "repo_path": "C:\\x_runner_x\\x_0_make_all_x",
            "stderr_preview": null,
            "stdout_preview": "TC003 Move standard library import `collections.abc.Iterable` into a type-checking block\n  --> inspection_stream_tailer.py:12:29\n   |\n10 | import json\n11 | import os\n\u2026",
            "suggested_action": "Investigate",
            "summary": "ruff_check failed for x_0_make_all_x (exit 1) cwd: C:\\x_runner_x\\x_0_make_all_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-\u2026",
            "tool": "ruff_check",
            "tool_version": "ruff 0.14.4"
        },
        {
            "captured_at": "2025-11-10T06:10:29.658821+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "ruff",
                    "check",
                    ".",
                    "--fix",
                    "--select",
                    "ALL",
                    "--ignore",
                    "D,COM812,ISC001,T20",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
                "cwd": "C:\\x_runner_x\\x_0_make_all_x",
                "duration_seconds": 0.31031579995760694,
                "ended_at": "2025-11-10T06:10:29.658821+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "forceit.py",
                    "inspection_stream_tailer.py",
                    "interface/__init__.py",
                    "interface/commit.py",
                    "interface/gui/__init__.py",
                    "interface/gui/app.py",
                    "interface/gui/commit.py",
                    "interface/gui/environment_studio/__init__.py",
                    "interface/gui/environment_studio/app.py",
                    "interface/gui/environment_studio/dialogs.py",
                    "interface/gui/environment_studio/services.py",
                    "interface/gui/progress_board.py",
                    "interface/gui/prototypes/__init__.py",
                    "interface/gui/prototypes/form_schemas.py",
                    "interface/gui/prototypes/nicegui_control_center.py",
                    "interface/gui/prototypes/shared.py",
                    "interface/gui/prototypes/textual_control_center.py",
                    "interface/gui/tree.py",
                    "interface/tree.py",
                    "manifest.py",
                    "naked_entry.py",
                    "run_environment_studio_switcheroo.py",
                    "run_make_all_switcharoo.py",
                    "tests/__init__.py",
                    "tests/test_environment_vault_disabled.py",
                    "tests/test_forceit.py",
                    "tests/test_gui_columns.py",
                    "tests/test_gui_commit.py",
                    "tests/test_gui_exit_code.py",
                    "tests/test_gui_tree.py",
                    "tests/test_ingestion_rotation.py",
                    "tests/test_ingestion_schema_validation.py",
                    "tests/test_inspection_stream_tailer.py",
                    "tests/test_make_all_commit_cli.py",
                    "tests/test_make_all_kanban.py",
                    "tests/test_make_all_pip_updates.py",
                    "tests/test_no_persistent_env_var_reference.py",
                    "tests/test_orchestrator_clones_stage.py",
                    "tests/test_orchestrator_visitor_stage.py",
                    "tests/test_progress_board_flags.py",
                    "tests/test_progress_board_streaming.py",
                    "tests/test_publish_manifest.py",
                    "x_cls_make_all_x.py"
                ],
                "repo": "x_0_make_all_x",
                "repo_hash": "46e117c530d65f5725c9dc6c0451ba5ed570aa58be03f1875269d5b7bc2cccdb",
                "repo_path": "C:\\x_runner_x\\x_0_make_all_x",
                "started_at": "2025-11-10T06:10:29.348507+00:00",
                "stderr": "",
                "stdout": "TC003 Move standard library import `collections.abc.Iterable` into a type-checking block\n  --> inspection_stream_tailer.py:12:29\n   |\n10 | import json\n11 | import os\n12 | from collections.abc import Iterable, Mapping\n   |                             ^^^^^^^^\n13 | from contextlib import suppress\n14 | from dataclasses import dataclass\n   |\nhelp: Move into type-checking block\n\nTC003 Move standard library import `collections.abc.Mapping` into a type-checking block\n  --> inspection_stream_tailer.py:12:39\n   |\n10 | import json\n11 | import os\n12 | from collections.abc import Iterable, Mapping\n   |                                       ^^^^^^^\n13 | from contextlib import suppress\n14 | from dataclasses import dataclass\n   |\nhelp: Move into type-checking block\n\nTC003 Move standard library import `pathlib.Path` into a type-checking block\n  --> inspection_stream_tailer.py:16:21\n   |\n14 | from dataclasses import dataclass\n15 | from datetime import UTC, datetime\n16 | from pathlib import Path\n   |                     ^^^^\n17 |\n18 | from x_make_common_x import get_logger\n   |\nhelp: Move into type-checking block\n\nTC002 Move third-party import `x_make_common_x.stage_progress.StageProgressWriter` into a type-checking block\n  --> inspection_stream_tailer.py:19:44\n   |\n18 | from x_make_common_x import get_logger\n19 | from x_make_common_x.stage_progress import StageProgressWriter\n   |                                            ^^^^^^^^^^^^^^^^^^^\n20 |\n21 | _LOGGER = get_logger(\"inspection_stream_tailer\")\n   |\nhelp: Move into type-checking block\n\nSIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`\n  --> inspection_stream_tailer.py:32:5\n   |\n31 |   def _info(*parts: object) -> None:\n32 | /     try:\n33 | |         _LOGGER.info(\"%s\", \" \".join(str(p) for p in parts))\n34 | |     except Exception:\n35 | |         pass\n   | |____________^\n   |\nhelp: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`\n\nS110 `try`-`except`-`pass` detected, consider logging the exception\n  --> inspection_stream_tailer.py:34:5\n   |\n32 |       try:\n33 |           _LOGGER.info(\"%s\", \" \".join(str(p) for p in parts))\n34 | /     except Exception:\n35 | |         pass\n   | |____________^\n   |\n\nBLE001 Do not catch blind exception: `Exception`\n  --> inspection_stream_tailer.py:34:12\n   |\n32 |     try:\n33 |         _LOGGER.info(\"%s\", \" \".join(str(p) for p in parts))\n34 |     except Exception:\n   |            ^^^^^^^^^\n35 |         pass\n   |\n\nSIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`\n  --> inspection_stream_tailer.py:39:5\n   |\n38 |   def _warn(*parts: object) -> None:  # pragma: no cover - logging helper\n39 | /     try:\n40 | |         _LOGGER.warning(\"%s\", \" \".join(str(p) for p in parts))\n41 | |     except Exception:\n42 | |         pass\n   | |____________^\n   |\nhelp: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`\n\nS110 `try`-`except`-`pass` detected, consider logging the exception\n  --> inspection_stream_tailer.py:41:5\n   |\n39 |       try:\n40 |           _LOGGER.warning(\"%s\", \" \".join(str(p) for p in parts))\n41 | /     except Exception:\n42 | |         pass\n   | |____________^\n   |\n\nBLE001 Do not catch blind exception: `Exception`\n  --> inspection_stream_tailer.py:41:12\n   |\n39 |     try:\n40 |         _LOGGER.warning(\"%s\", \" \".join(str(p) for p in parts))\n41 |     except Exception:\n   |            ^^^^^^^^^\n42 |         pass\n   |\n\nE501 Line too long (91 > 88)\n  --> inspection_stream_tailer.py:68:89\n   |\n66 |     \"\"\"Incremental reader of visitor NDJSON events updating progress index.\"\"\"\n67 |\n68 |     def __init__(self, *, workspace_root: Path, stage_writer: StageProgressWriter) -> None:\n   |                                                                                         ^^^\n69 |         self.workspace_root = workspace_root\n70 |         self.stage_writer = stage_writer\n   |\n\nE501 Line too long (98 > 88)\n  --> inspection_stream_tailer.py:77:89\n   |\n75 |         # Optional ingestion audit: write normalized envelopes to NDJSON\n76 |         self._audit_enabled = (\n77 |             os.environ.get(_INGESTION_AUDIT_ENV, \"\").strip().lower() in {\"1\", \"true\", \"yes\", \"on\"}\n   |                                                                                         ^^^^^^^^^^\n78 |         )\n79 |         self._ingestion_path = (stage_writer.entries_dir / \"ingestion_events.ndjson\").resolve()\n   |\n\nE501 Line too long (95 > 88)\n  --> inspection_stream_tailer.py:79:89\n   |\n77 |             os.environ.get(_INGESTION_AUDIT_ENV, \"\").strip().lower() in {\"1\", \"true\", \"yes\", \"on\"}\n78 |         )\n79 |         self._ingestion_path = (stage_writer.entries_dir / \"ingestion_events.ndjson\").resolve()\n   |                                                                                         ^^^^^^^\n80 |         self._offset: int = 0\n81 |         self.stats = TailerStats()\n   |\n\nSIM105 Use `contextlib.suppress(OSError)` instead of `try`-`except`-`pass`\n  --> inspection_stream_tailer.py:94:9\n   |\n93 |       def _store_offset(self) -> None:\n94 | /         try:\n95 | |             self.offset_path.write_text(str(self._offset), encoding=\"utf-8\")\n96 | |         except OSError:  # pragma: no cover - durability best-effort\n97 | |             pass\n   | |________________^\n98 |\n99 |       def _read_new_lines(self) -> Iterable[str]:\n   |\nhelp: Replace `try`-`except`-`pass` with `with contextlib.suppress(OSError): ...`\n\nBLE001 Do not catch blind exception: `Exception`\n   --> inspection_stream_tailer.py:158:16\n    |\n156 |                 handle.flush()\n157 |                 os.fsync(handle.fileno())\n158 |         except Exception:\n    |                ^^^^^^^^^\n159 |             # Audit is best-effort; do not impact main flow\n160 |             return\n    |\n\nBLE001 Do not catch blind exception: `Exception`\n   --> inspection_stream_tailer.py:182:16\n    |\n180 |                 with suppress(OSError):\n181 |                     old.unlink()\n182 |         except Exception:\n    |                ^^^^^^^^^\n183 |             return\n    |\n\nPERF401 Use `list.extend` to create a transformed list\n   --> inspection_stream_tailer.py:198:21\n    |\n196 |             for m in messages_obj:\n197 |                 if isinstance(m, str) and m.strip():\n198 |                     messages.append(m.strip())\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^\n199 |         if phase == \"start\":\n200 |             self.stage_writer.record_start(\n    |\nhelp: Replace for loop with list.extend\n\nE501 Line too long (102 > 88)\n   --> inspection_stream_tailer.py:240:89\n    |\n238 |         # Append a truncated summary to repo entry via failure record (non-terminal)\n239 |         message = summary_obj.strip()[:240]\n240 |         # Use failure to ensure attention coloring; but avoid marking completed again if already done.\n    |                                                                                         ^^^^^^^^^^^^^^\n241 |         self.stage_writer.record_failure(\n242 |             repo_obj.strip(),\n    |\n\nARG002 Unused method argument: `payload`\n   --> inspection_stream_tailer.py:248:32\n    |\n246 |         self.stats.tool_events += 1\n247 |\n248 |     def _apply_run_event(self, payload: Mapping[str, object]) -> None:\n    |                                ^^^^^^^\n249 |         # Run events currently ignored for progress index except stats.\n250 |         self.stats.run_events += 1\n    |\n\nE501 Line too long (112 > 88)\n   --> inspection_stream_tailer.py:291:89\n    |\n291 | def create_stream_tailer(workspace_root: Path, stage_writer: StageProgressWriter) -> VisitorStreamTailer | None:\n    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^\n292 |     # Guard: only initialize when streaming flag enabled\n293 |     flag = os.environ.get(\"VISITOR_STREAMING\", \"\").strip().lower() in {\"1\", \"true\", \"yes\", \"on\"}\n    |\n\nE501 Line too long (96 > 88)\n   --> inspection_stream_tailer.py:293:89\n    |\n291 | def create_stream_tailer(workspace_root: Path, stage_writer: StageProgressWriter) -> VisitorStreamTailer | None:\n292 |     # Guard: only initialize when streaming flag enabled\n293 |     flag = os.environ.get(\"VISITOR_STREAMING\", \"\").strip().lower() in {\"1\", \"true\", \"yes\", \"on\"}\n    |                                                                                         ^^^^^^^^\n294 |     if not flag:\n295 |         return None\n    |\n\nE501 Line too long (101 > 88)\n   --> interface\\gui\\app.py:983:89\n    |\n981 |         elif _allowed_repository_names and extras:\n982 |             self.enqueue_log(\n983 |                 \"Allowlist prioritised manifest repositories; appended remaining repos to the table.\"\n    |                                                                                         ^^^^^^^^^^^^^\n984 |             )\n985 |         self._update_summary_label()\n    |\n\nC901 `_to_environment_config` is too complex (16 > 10)\n   --> interface\\gui\\environment_studio\\services.py:250:9\n    |\n248 |         )\n249 |\n250 |     def _to_environment_config(self, data: JsonMapping) -> EnvironmentConfig:\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n251 |         if isinstance(data, EnvironmentConfig):\n252 |             return data\n    |\n\nRUF002 Docstring contains ambiguous `\u00e2\u20ac\u2018` (NON-BREAKING HYPHEN). Did you mean `-` (HYPHEN-MINUS)?\n   --> interface\\gui\\progress_board.py:244:21\n    |\n243 |     def _style_stage_item(self, item: _ChecklistItem, status: str) -> None:\n244 |         \"\"\"Apply per\u00e2\u20ac\u2018status color hints (foreground only to avoid theme clash).\"\"\"\n    |                     ^\n245 |         try:\n246 |             from PySide6 import QtGui as _QtGui2  # local import to keep guard pattern\n    |\n\nPLC0415 `import` should be at the top-level of a file\n   --> interface\\gui\\progress_board.py:246:13\n    |\n244 |         \"\"\"Apply per\u00e2\u20ac\u2018status color hints (foreground only to avoid theme clash).\"\"\"\n245 |         try:\n246 |             from PySide6 import QtGui as _QtGui2  # local import to keep guard pattern\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n247 |         except ModuleNotFoundError:  # pragma: no cover - GUI dependency absent\n248 |             return\n    |\n\nE501 Line too long (115 > 88)\n   --> interface\\gui\\progress_board.py:288:89\n    |\n286 |                     errors = stream_stats.get(\"errors\")\n287 |                     tooltip = (\n288 |                         f\"Streaming: processed={processed} repos={repo_events} tools={tool_events} errors={errors}\"\n    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n289 |                     )\n290 |                     # Attach as a synthetic entry in cache for UI hinting via tooltip on header\n    |\n\nE501 Line too long (95 > 88)\n   --> interface\\gui\\progress_board.py:290:89\n    |\n288 |                         f\"Streaming: processed={processed} repos={repo_events} tools={tool_events} errors={errors}\"\n289 |                     )\n290 |                     # Attach as a synthetic entry in cache for UI hinting via tooltip on header\n    |                                                                                         ^^^^^^^\n291 |                     self._checklist.setToolTip(tooltip)\n292 |                 elif streaming_flag:\n    |\n\nE501 Line too long (92 > 88)\n   --> interface\\gui\\progress_board.py:293:89\n    |\n291 |                     self._checklist.setToolTip(tooltip)\n292 |                 elif streaming_flag:\n293 |                     self._checklist.setToolTip(\"Streaming inspection active (no stats yet)\")\n    |                                                                                         ^^^^\n294 |             cache_entry = self._load_repo_index_payload(stage_id, metadata)\n295 |             if cache_entry is None:\n    |\n\nE501 Line too long (89 > 88)\n --> run_environment_studio_switcheroo.py:1:89\n  |\n1 | \"\"\"Preferred entry point for launching the Environment Studio GUI from x_0_make_all_x.\"\"\"\n  |                                                                                         ^\n2 |\n3 | from __future__ import annotations\n  |\n\nTC003 Move standard library import `collections.abc.Callable` into a type-checking block\n  --> run_environment_studio_switcheroo.py:8:29\n   |\n 6 | import os\n 7 | import sys\n 8 | from collections.abc import Callable\n   |                             ^^^^^^^^\n 9 | from pathlib import Path\n10 | from typing import TYPE_CHECKING\n   |\nhelp: Move into type-checking block\n\nTRY003 Avoid specifying long messages outside the exception class\n  --> run_environment_studio_switcheroo.py:46:11\n   |\n44 |           else:\n45 |               return module.launch_environment_studio\n46 |       raise ModuleNotFoundError(\n   |  ___________^\n47 | |         \"Unable to import Environment Studio \u00e2\u20ac\u201c verify that dependencies are installed in the \"\n48 | |         \"active virtual environment.\"\n49 | |     ) from last_error\n   | |_____^\n   |\n\nEM101 Exception must not use a string literal, assign to variable first\n  --> run_environment_studio_switcheroo.py:47:9\n   |\n45 |               return module.launch_environment_studio\n46 |       raise ModuleNotFoundError(\n47 | /         \"Unable to import Environment Studio \u00e2\u20ac\u201c verify that dependencies are installed in the \"\n48 | |         \"active virtual environment.\"\n   | |_____________________________________^\n49 |       ) from last_error\n   |\nhelp: Assign to variable; remove string literal\n\nRUF001 String contains ambiguous `\u00e2\u20ac\u201c` (EN DASH). Did you mean `-` (HYPHEN-MINUS)?\n  --> run_environment_studio_switcheroo.py:47:46\n   |\n45 |             return module.launch_environment_studio\n46 |     raise ModuleNotFoundError(\n47 |         \"Unable to import Environment Studio \u00e2\u20ac\u201c verify that dependencies are installed in the \"\n   |                                              ^\n48 |         \"active virtual environment.\"\n49 |     ) from last_error\n   |\n\nE501 Line too long (94 > 88)\n  --> run_environment_studio_switcheroo.py:47:89\n   |\n45 |             return module.launch_environment_studio\n46 |     raise ModuleNotFoundError(\n47 |         \"Unable to import Environment Studio \u00e2\u20ac\u201c verify that dependencies are installed in the \"\n   |                                                                                         ^^^^^^\n48 |         \"active virtual environment.\"\n49 |     ) from last_error\n   |\n\nE501 Line too long (100 > 88)\n  --> run_environment_studio_switcheroo.py:69:89\n   |\n68 |     policy_command = \"Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass\"\n69 |     activate_command = f\".\\\\{activate_ps.relative_to(WORKSPACE_ROOT).as_posix().replace('/', '\\\\')}\"\n   |                                                                                         ^^^^^^^^^^^^\n70 |     print(\"[EnvironmentStudio] PowerShell may block Activate.ps1. If so, run:\", flush=True)\n71 |     print(f\"[EnvironmentStudio]   {policy_command}\", flush=True)\n   |\n\ninvalid-syntax: Cannot use an escape sequence (backslash) in f-strings on Python 3.11 (syntax was added in Python 3.12)\n  --> run_environment_studio_switcheroo.py:69:95\n   |\n68 |     policy_command = \"Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass\"\n69 |     activate_command = f\".\\\\{activate_ps.relative_to(WORKSPACE_ROOT).as_posix().replace('/', '\\\\')}\"\n   |                                                                                               ^\n70 |     print(\"[EnvironmentStudio] PowerShell may block Activate.ps1. If so, run:\", flush=True)\n71 |     print(f\"[EnvironmentStudio]   {policy_command}\", flush=True)\n   |\n\ninvalid-syntax: Cannot use an escape sequence (backslash) in f-strings on Python 3.11 (syntax was added in Python 3.12)\n  --> run_environment_studio_switcheroo.py:69:96\n   |\n68 |     policy_command = \"Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass\"\n69 |     activate_command = f\".\\\\{activate_ps.relative_to(WORKSPACE_ROOT).as_posix().replace('/', '\\\\')}\"\n   |                                                                                                ^\n70 |     print(\"[EnvironmentStudio] PowerShell may block Activate.ps1. If so, run:\", flush=True)\n71 |     print(f\"[EnvironmentStudio]   {policy_command}\", flush=True)\n   |\n\nE501 Line too long (91 > 88)\n  --> run_environment_studio_switcheroo.py:70:89\n   |\n68 |     policy_command = \"Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass\"\n69 |     activate_command = f\".\\\\{activate_ps.relative_to(WORKSPACE_ROOT).as_posix().replace('/', '\\\\')}\"\n70 |     print(\"[EnvironmentStudio] PowerShell may block Activate.ps1. If so, run:\", flush=True)\n   |                                                                                         ^^^\n71 |     print(f\"[EnvironmentStudio]   {policy_command}\", flush=True)\n72 |     print(f\"[EnvironmentStudio]   {activate_command}\", flush=True)\n   |\n\nTC003 Move standard library import `collections.abc.Sequence` into a type-checking block\n --> run_make_all_switcharoo.py:8:29\n  |\n6 | import subprocess\n7 | import sys\n8 | from collections.abc import Sequence\n  |                             ^^^^^^^^\n9 | from pathlib import Path\n  |\nhelp: Move into type-checking block\n\nE501 Line too long (100 > 88)\n  --> run_make_all_switcharoo.py:30:89\n   |\n29 |     policy_command = \"Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass\"\n30 |     activate_command = f\".\\\\{activate_ps.relative_to(WORKSPACE_ROOT).as_posix().replace('/', '\\\\')}\"\n   |                                                                                         ^^^^^^^^^^^^\n31 |     print(\"[MakeAll] PowerShell may block Activate.ps1. If so, run:\", flush=True)\n32 |     print(f\"[MakeAll]   {policy_command}\", flush=True)\n   |\n\ninvalid-syntax: Cannot use an escape sequence (backslash) in f-strings on Python 3.11 (syntax was added in Python 3.12)\n  --> run_make_all_switcharoo.py:30:95\n   |\n29 |     policy_command = \"Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass\"\n30 |     activate_command = f\".\\\\{activate_ps.relative_to(WORKSPACE_ROOT).as_posix().replace('/', '\\\\')}\"\n   |                                                                                               ^\n31 |     print(\"[MakeAll] PowerShell may block Activate.ps1. If so, run:\", flush=True)\n32 |     print(f\"[MakeAll]   {policy_command}\", flush=True)\n   |\n\ninvalid-syntax: Cannot use an escape sequence (backslash) in f-strings on Python 3.11 (syntax was added in Python 3.12)\n  --> run_make_all_switcharoo.py:30:96\n   |\n29 |     policy_command = \"Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass\"\n30 |     activate_command = f\".\\\\{activate_ps.relative_to(WORKSPACE_ROOT).as_posix().replace('/', '\\\\')}\"\n   |                                                                                                ^\n31 |     print(\"[MakeAll] PowerShell may block Activate.ps1. If so, run:\", flush=True)\n32 |     print(f\"[MakeAll]   {policy_command}\", flush=True)\n   |\n\nS603 `subprocess` call: check for execution of untrusted input\n  --> run_make_all_switcharoo.py:53:17\n   |\n52 |     command = [sys.executable, \"-m\", CLI_MODULE, *forwarded]\n53 |     completed = subprocess.run(command, check=False, cwd=str(WORKSPACE_ROOT), env=env)\n   |                 ^^^^^^^^^^^^^^\n54 |     raise SystemExit(completed.returncode)\n   |\n\nTC003 Move standard library import `pathlib.Path` into a type-checking block\n --> tests\\test_ingestion_rotation.py:4:21\n  |\n3 | import os\n4 | from pathlib import Path\n  |                     ^^^^\n5 |\n6 | from x_make_common_x.stage_progress import StageProgressWriter\n  |\nhelp: Move into type-checking block\n\nANN001 Missing type annotation for function argument `tailer`\n  --> tests\\test_ingestion_rotation.py:14:18\n   |\n14 | def _emit_events(tailer, count: int) -> None:\n   |                  ^^^^^^\n15 |     # Force ingestion audit enabled\n16 |     os.environ[\"VISITOR_INGESTION_AUDIT\"] = \"1\"\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_ingestion_rotation.py:27:5\n   |\n25 |     writer = StageProgressWriter(stage_id=\"inspection\", root_dir=tmp_path / \"progress\")\n26 |     tailer = create_stream_tailer(tmp_path, writer)\n27 |     assert tailer is not None\n   |     ^^^^^^\n28 |\n29 |     # Emit enough events to exceed rotate threshold (~ size heuristic)\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_ingestion_rotation.py:42:5\n   |\n40 |     segments = sorted(parent.glob(f\"{stem}.*.ndjson\"))\n41 |     # Rotation may have occurred; ensure segment list not empty\n42 |     assert segments or ingestion_path.exists()\n   |     ^^^^^^\n43 |\n44 |     # Emit more events to trigger possible subsequent rotations\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_ingestion_rotation.py:49:5\n   |\n48 |     # Ensure retention limit respected (<=5 segments)\n49 |     assert len(more_segments) <= 5\n   |     ^^^^^^\n50 |\n51 |     # Validate segment file names timestamp pattern\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `5` with a constant variable\n  --> tests\\test_ingestion_rotation.py:49:34\n   |\n48 |     # Ensure retention limit respected (<=5 segments)\n49 |     assert len(more_segments) <= 5\n   |                                  ^\n50 |\n51 |     # Validate segment file names timestamp pattern\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_ingestion_rotation.py:53:9\n   |\n51 |     # Validate segment file names timestamp pattern\n52 |     for seg in more_segments:\n53 |         assert seg.name.startswith(stem + \".\")\n   |         ^^^^^^\n54 |         assert seg.suffix == \".ndjson\"\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_ingestion_rotation.py:54:9\n   |\n52 |     for seg in more_segments:\n53 |         assert seg.name.startswith(stem + \".\")\n54 |         assert seg.suffix == \".ndjson\"\n   |         ^^^^^^\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_ingestion_schema_validation.py:18:5\n   |\n16 |     writer = StageProgressWriter(stage_id=\"inspection\", root_dir=tmp_path / \"progress\")\n17 |     tailer = create_stream_tailer(tmp_path, writer)\n18 |     assert tailer is not None\n   |     ^^^^^^\n19 |\n20 |     # Emit some events via poll path (simulate stream lines)\n   |\n\nE501 Line too long (103 > 88)\n  --> tests\\test_ingestion_schema_validation.py:21:89\n   |\n20 |     # Emit some events via poll path (simulate stream lines)\n21 |     stream_file = tmp_path / \"x_make_github_visitor_x\" / \"reports\" / \"events\" / \"visitor_events.ndjson\"\n   |                                                                                         ^^^^^^^^^^^^^^^\n22 |     stream_file.parent.mkdir(parents=True, exist_ok=True)\n23 |     events = [\n   |\n\nE501 Line too long (111 > 88)\n  --> tests\\test_ingestion_schema_validation.py:25:89\n   |\n23 |     events = [\n24 |         {\"event\": \"repo\", \"repo\": \"eye4357/a\", \"phase\": \"start\"},\n25 |         {\"event\": \"repo\", \"repo\": \"eye4357/a\", \"phase\": \"complete\", \"status\": \"succeeded\", \"messages\": [\"ok\"]},\n   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^\n26 |         {\"event\": \"tool\", \"repo\": \"eye4357/a\", \"tool\": \"lint\", \"status\": \"failed\", \"summary\": \"pep8\"},\n27 |     ]\n   |\n\nE501 Line too long (102 > 88)\n  --> tests\\test_ingestion_schema_validation.py:26:89\n   |\n24 |         {\"event\": \"repo\", \"repo\": \"eye4357/a\", \"phase\": \"start\"},\n25 |         {\"event\": \"repo\", \"repo\": \"eye4357/a\", \"phase\": \"complete\", \"status\": \"succeeded\", \"messages\": [\"ok\"]},\n26 |         {\"event\": \"tool\", \"repo\": \"eye4357/a\", \"tool\": \"lint\", \"status\": \"failed\", \"summary\": \"pep8\"},\n   |                                                                                         ^^^^^^^^^^^^^^\n27 |     ]\n28 |     with stream_file.open(\"w\", encoding=\"utf-8\") as handle:\n   |\n\nE501 Line too long (112 > 88)\n  --> tests\\test_ingestion_schema_validation.py:34:89\n   |\n32 |     tailer.poll()\n33 |\n34 |     schema_path = Path(__file__).resolve().parent.parent / \"reports\" / \"schemas\" / \"ingestion_event.schema.json\"\n   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^\n35 |     with schema_path.open(\"r\", encoding=\"utf-8\") as fh:\n36 |         schema = json.load(fh)\n   |\n\nE501 Line too long (122 > 88)\n  --> tests\\test_ingestion_schema_validation.py:40:89\n   |\n38 |     # Use RefResolver + Draft202012 (if available) else default validator\n39 |     validator_cls = None\n40 |     for name in (\"Draft202012Validator\", \"Draft201909Validator\", \"Draft7Validator\", \"Draft6Validator\", \"Draft4Validator\"):\n   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n41 |         validator_cls = getattr(jsonschema, name, None)\n42 |         if validator_cls is not None:\n   |\n\nTRY003 Avoid specifying long messages outside the exception class\n  --> tests\\test_ingestion_schema_validation.py:45:15\n   |\n43 |             break\n44 |     if validator_cls is None:\n45 |         raise RuntimeError(\"No compatible jsonschema validator available\")\n   |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n46 |     validator_cls.check_schema(schema)\n47 |     validator = validator_cls(schema)\n   |\n\nEM101 Exception must not use a string literal, assign to variable first\n  --> tests\\test_ingestion_schema_validation.py:45:28\n   |\n43 |             break\n44 |     if validator_cls is None:\n45 |         raise RuntimeError(\"No compatible jsonschema validator available\")\n   |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n46 |     validator_cls.check_schema(schema)\n47 |     validator = validator_cls(schema)\n   |\nhelp: Assign to variable; remove string literal\n\nS101 Use of `assert` detected\n  --> tests\\test_ingestion_schema_validation.py:50:5\n   |\n49 |     ingestion_file = writer.entries_dir / \"ingestion_events.ndjson\"\n50 |     assert ingestion_file.exists()\n   |     ^^^^^^\n51 |     with ingestion_file.open(\"r\", encoding=\"utf-8\") as fh:\n52 |         for line in fh:\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_ingestion_schema_validation.py:56:13\n   |\n54 |             validator.validate(payload)\n55 |             # Basic invariants\n56 |             assert payload[\"schema_version\"] == \"x_make.ingestion_event/1.0\"\n   |             ^^^^^^\n57 |             assert payload[\"source\"] == \"visitor_events\"\n58 |             assert payload[\"event_type\"] in {\"repo\", \"tool\", \"run\", \"\"}\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_ingestion_schema_validation.py:57:13\n   |\n55 |             # Basic invariants\n56 |             assert payload[\"schema_version\"] == \"x_make.ingestion_event/1.0\"\n57 |             assert payload[\"source\"] == \"visitor_events\"\n   |             ^^^^^^\n58 |             assert payload[\"event_type\"] in {\"repo\", \"tool\", \"run\", \"\"}\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_ingestion_schema_validation.py:58:13\n   |\n56 |             assert payload[\"schema_version\"] == \"x_make.ingestion_event/1.0\"\n57 |             assert payload[\"source\"] == \"visitor_events\"\n58 |             assert payload[\"event_type\"] in {\"repo\", \"tool\", \"run\", \"\"}\n   |             ^^^^^^\n   |\n\nTC003 Move standard library import `collections.abc.Iterable` into a type-checking block\n --> tests\\test_inspection_stream_tailer.py:5:29\n  |\n3 | import json\n4 | import os\n5 | from collections.abc import Iterable\n  |                             ^^^^^^^^\n6 | from pathlib import Path\n  |\nhelp: Move into type-checking block\n\nTC003 Move standard library import `pathlib.Path` into a type-checking block\n --> tests\\test_inspection_stream_tailer.py:6:21\n  |\n4 | import os\n5 | from collections.abc import Iterable\n6 | from pathlib import Path\n  |                     ^^^^\n7 |\n8 | from x_make_common_x.stage_progress import StageProgressWriter\n  |\nhelp: Move into type-checking block\n\nE501 Line too long (109 > 88)\n  --> tests\\test_inspection_stream_tailer.py:29:89\n   |\n27 |     # Prepare fake workspace root with stream file location\n28 |     workspace_root = tmp_path\n29 |     stream_path = workspace_root / \"x_make_github_visitor_x\" / \"reports\" / \"events\" / \"visitor_events.ndjson\"\n   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^\n30 |\n31 |     # Stage progress writer rooted at inspection progress dir\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_inspection_stream_tailer.py:38:5\n   |\n36 |     os.environ[\"VISITOR_STREAMING\"] = \"1\"\n37 |     tailer = create_stream_tailer(workspace_root, writer)\n38 |     assert isinstance(tailer, VisitorStreamTailer)\n   |     ^^^^^^\n39 |\n40 |     # Write initial repo start + tool failure + repo completion success\n   |\n\nE501 Line too long (132 > 88)\n  --> tests\\test_inspection_stream_tailer.py:45:89\n   |\n43 | \u00e2\u20ac\u00a6\n44 | \u00e2\u20ac\u00a657/example_repo\", \"phase\": \"start\"},\n45 | \u00e2\u20ac\u00a657/example_repo\", \"tool\": \"lint\", \"status\": \"failed\", \"summary\": \"flake8 errors found\"},\n   |                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n46 | \u00e2\u20ac\u00a657/example_repo\", \"phase\": \"complete\", \"status\": \"succeeded\", \"messages\": [\"all checks passed\"]},\n47 | \u00e2\u20ac\u00a6\n   |\n\nE501 Line too long (141 > 88)\n  --> tests\\test_inspection_stream_tailer.py:46:89\n   |\n44 | \u00e2\u20ac\u00a6xample_repo\", \"phase\": \"start\"},\n45 | \u00e2\u20ac\u00a6xample_repo\", \"tool\": \"lint\", \"status\": \"failed\", \"summary\": \"flake8 errors found\"},\n46 | \u00e2\u20ac\u00a6xample_repo\", \"phase\": \"complete\", \"status\": \"succeeded\", \"messages\": [\"all checks passed\"]},\n   |                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n47 | \u00e2\u20ac\u00a6\n48 | \u00e2\u20ac\u00a6\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_inspection_stream_tailer.py:52:5\n   |\n50 |     stats = tailer.poll()\n51 |     # Expect 3 processed events\n52 |     assert stats.processed == 3\n   |     ^^^^^^\n53 |     assert stats.repo_events == 2\n54 |     assert stats.tool_events == 1\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `3` with a constant variable\n  --> tests\\test_inspection_stream_tailer.py:52:31\n   |\n50 |     stats = tailer.poll()\n51 |     # Expect 3 processed events\n52 |     assert stats.processed == 3\n   |                               ^\n53 |     assert stats.repo_events == 2\n54 |     assert stats.tool_events == 1\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_inspection_stream_tailer.py:53:5\n   |\n51 |     # Expect 3 processed events\n52 |     assert stats.processed == 3\n53 |     assert stats.repo_events == 2\n   |     ^^^^^^\n54 |     assert stats.tool_events == 1\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `2` with a constant variable\n  --> tests\\test_inspection_stream_tailer.py:53:33\n   |\n51 |     # Expect 3 processed events\n52 |     assert stats.processed == 3\n53 |     assert stats.repo_events == 2\n   |                                 ^\n54 |     assert stats.tool_events == 1\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_inspection_stream_tailer.py:54:5\n   |\n52 |     assert stats.processed == 3\n53 |     assert stats.repo_events == 2\n54 |     assert stats.tool_events == 1\n   |     ^^^^^^\n55 |\n56 |     # Verify writer index reflects completed status and includes preview message\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_inspection_stream_tailer.py:58:5\n   |\n56 |     # Verify writer index reflects completed status and includes preview message\n57 |     index_payload = json.loads(stage_root.joinpath(\"index.json\").read_text(\"utf-8\"))\n58 |     assert index_payload[\"status_counts\"].get(\"completed\") == 1\n   |     ^^^^^^\n59 |     entries = index_payload[\"entries\"]\n60 |     assert len(entries) == 1\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_inspection_stream_tailer.py:60:5\n   |\n58 |     assert index_payload[\"status_counts\"].get(\"completed\") == 1\n59 |     entries = index_payload[\"entries\"]\n60 |     assert len(entries) == 1\n   |     ^^^^^^\n61 |     entry = entries[0]\n62 |     assert entry[\"status\"] == \"completed\"\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_inspection_stream_tailer.py:62:5\n   |\n60 |     assert len(entries) == 1\n61 |     entry = entries[0]\n62 |     assert entry[\"status\"] == \"completed\"\n   |     ^^^^^^\n63 |     preview = entry.get(\"message_preview\") or []\n64 |     # Tool failure appended before success messages should appear in preview\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_inspection_stream_tailer.py:65:5\n   |\n63 |     preview = entry.get(\"message_preview\") or []\n64 |     # Tool failure appended before success messages should appear in preview\n65 |     assert any(\"flake8\" in msg for msg in preview) or any(\"all checks\" in msg for msg in preview)\n   |     ^^^^^^\n66 |\n67 |     # Append a failing completion to another repo to exercise failure path\n   |\n\nE501 Line too long (97 > 88)\n  --> tests\\test_inspection_stream_tailer.py:65:89\n   |\n63 |     preview = entry.get(\"message_preview\") or []\n64 |     # Tool failure appended before success messages should appear in preview\n65 |     assert any(\"flake8\" in msg for msg in preview) or any(\"all checks\" in msg for msg in preview)\n   |                                                                                         ^^^^^^^^^\n66 |\n67 |     # Append a failing completion to another repo to exercise failure path\n   |\n\nE501 Line too long (132 > 88)\n  --> tests\\test_inspection_stream_tailer.py:72:89\n   |\n70 |         [\n71 |             {\"event\": \"repo\", \"repo\": \"eye4357/second_repo\", \"phase\": \"start\"},\n72 |             {\"event\": \"repo\", \"repo\": \"eye4357/second_repo\", \"phase\": \"complete\", \"status\": \"failed\", \"messages\": [\"tests failed\"]},\n   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n73 |         ],\n74 |     )\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_inspection_stream_tailer.py:76:5\n   |\n74 |     )\n75 |     stats2 = tailer.poll()\n76 |     assert stats2.processed == 5  # cumulative\n   |     ^^^^^^\n77 |     assert stats2.repo_events == 4\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `5` with a constant variable\n  --> tests\\test_inspection_stream_tailer.py:76:32\n   |\n74 |     )\n75 |     stats2 = tailer.poll()\n76 |     assert stats2.processed == 5  # cumulative\n   |                                ^\n77 |     assert stats2.repo_events == 4\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_inspection_stream_tailer.py:77:5\n   |\n75 |     stats2 = tailer.poll()\n76 |     assert stats2.processed == 5  # cumulative\n77 |     assert stats2.repo_events == 4\n   |     ^^^^^^\n78 |\n79 |     index_payload2 = json.loads(stage_root.joinpath(\"index.json\").read_text(\"utf-8\"))\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `4` with a constant variable\n  --> tests\\test_inspection_stream_tailer.py:77:34\n   |\n75 |     stats2 = tailer.poll()\n76 |     assert stats2.processed == 5  # cumulative\n77 |     assert stats2.repo_events == 4\n   |                                  ^\n78 |\n79 |     index_payload2 = json.loads(stage_root.joinpath(\"index.json\").read_text(\"utf-8\"))\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_inspection_stream_tailer.py:81:5\n   |\n79 |     index_payload2 = json.loads(stage_root.joinpath(\"index.json\").read_text(\"utf-8\"))\n80 |     # Now have one completed and one attention\n81 |     assert index_payload2[\"status_counts\"].get(\"completed\") == 1\n   |     ^^^^^^\n82 |     assert index_payload2[\"status_counts\"].get(\"attention\") == 1\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_inspection_stream_tailer.py:82:5\n   |\n80 |     # Now have one completed and one attention\n81 |     assert index_payload2[\"status_counts\"].get(\"completed\") == 1\n82 |     assert index_payload2[\"status_counts\"].get(\"attention\") == 1\n   |     ^^^^^^\n   |\n\nE501 Line too long (109 > 88)\n  --> tests\\test_inspection_stream_tailer.py:87:89\n   |\n85 | def test_tailer_offset_persistence(tmp_path: Path) -> None:\n86 |     workspace_root = tmp_path\n87 |     stream_path = workspace_root / \"x_make_github_visitor_x\" / \"reports\" / \"events\" / \"visitor_events.ndjson\"\n   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^\n88 |     stage_root = tmp_path / \"x_0_make_all_x\" / \"reports\" / \"progress\" / \"inspection\"\n89 |     writer = StageProgressWriter(stage_id=\"inspection\", root_dir=stage_root)\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_inspection_stream_tailer.py:92:5\n   |\n90 |     os.environ[\"VISITOR_STREAMING\"] = \"1\"\n91 |     tailer = create_stream_tailer(workspace_root, writer)\n92 |     assert tailer is not None\n   |     ^^^^^^\n93 |\n94 |     events = [\n   |\n\nE501 Line too long (95 > 88)\n  --> tests\\test_inspection_stream_tailer.py:96:89\n   |\n94 |     events = [\n95 |         {\"event\": \"repo\", \"repo\": \"eye4357/alpha\", \"phase\": \"start\"},\n96 |         {\"event\": \"repo\", \"repo\": \"eye4357/alpha\", \"phase\": \"complete\", \"status\": \"succeeded\"},\n   |                                                                                         ^^^^^^^\n97 |     ]\n98 |     _write_events(stream_path, events)\n   |\n\nS101 Use of `assert` detected\n   --> tests\\test_inspection_stream_tailer.py:102:5\n    |\n100 |     # Capture offset file\n101 |     offset_file = stage_root / \".visitor_offset\"\n102 |     assert offset_file.exists()\n    |     ^^^^^^\n103 |     original_offset = int(offset_file.read_text(\"utf-8\").strip())\n104 |     # Recreate tailer and ensure processed count accumulates without reprocessing\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_inspection_stream_tailer.py:106:5\n    |\n104 |     # Recreate tailer and ensure processed count accumulates without reprocessing\n105 |     tailer2 = create_stream_tailer(workspace_root, writer)\n106 |     assert tailer2 is not None\n    |     ^^^^^^\n107 |     stats_before = tailer2.stats.processed\n108 |     tailer2.poll()\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_inspection_stream_tailer.py:109:5\n    |\n107 |     stats_before = tailer2.stats.processed\n108 |     tailer2.poll()\n109 |     assert tailer2.stats.processed == stats_before  # No new events processed\n    |     ^^^^^^\n110 |     # Append one more event and ensure offset grows\n111 |     _write_events(stream_path, [{\"event\": \"run\", \"phase\": \"start\"}])\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_inspection_stream_tailer.py:114:5\n    |\n112 |     tailer2.poll()\n113 |     new_offset = int(offset_file.read_text(\"utf-8\").strip())\n114 |     assert new_offset > original_offset\n    |     ^^^^^^\n    |\n\nTC003 Move standard library import `pathlib.Path` into a type-checking block\n --> tests\\test_progress_board_streaming.py:4:21\n  |\n3 | import json\n4 | from pathlib import Path\n  |                     ^^^^\n5 |\n6 | import pytest\n  |\nhelp: Move into type-checking block\n\nS110 `try`-`except`-`pass` detected, consider logging the exception\n  --> tests\\test_progress_board_streaming.py:22:1\n   |\n20 |       )\n21 |       PY_SIDE_AVAILABLE = True\n22 | / except Exception:  # noqa: BLE001 - broad to avoid hard import failures\n23 | |     pass\n   | |________^\n24 |\n25 |   pytestmark = pytest.mark.skipif(not PY_SIDE_AVAILABLE, reason=\"PySide6 not available\")\n   |\n\nF841 Local variable `app` is assigned to but never used\n  --> tests\\test_progress_board_streaming.py:83:5\n   |\n82 |     # Instantiate widget headless\n83 |     app = QtWidgets.QApplication.instance() or QtWidgets.QApplication([])  # type: ignore[union-attr]\n   |     ^^^\n84 |     assert ProgressBoardWidget is not None\n85 |     board = ProgressBoardWidget(\n   |\nhelp: Remove assignment to unused variable `app`\n\nS101 Use of `assert` detected\n  --> tests\\test_progress_board_streaming.py:84:5\n   |\n82 |     # Instantiate widget headless\n83 |     app = QtWidgets.QApplication.instance() or QtWidgets.QApplication([])  # type: ignore[union-attr]\n84 |     assert ProgressBoardWidget is not None\n   |     ^^^^^^\n85 |     board = ProgressBoardWidget(\n86 |         snapshot_path=snap_path,\n   |\n\nARG005 Unused lambda argument: `self`\n  --> tests\\test_progress_board_streaming.py:88:64\n   |\n86 |         snapshot_path=snap_path,\n87 |         stage_definitions=[(\"inspection\", \"Inspection & QA\")],\n88 |         worker_done_event=type(\"_Dummy\", (), {\"is_set\": lambda self: True})(),\n   |                                                                ^^^^\n89 |     )\n90 |     # Force a refresh\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_progress_board_streaming.py:93:5\n   |\n91 |     board._refresh_snapshot()  # noqa: SLF001\n92 |     tooltip = board._checklist.toolTip()  # noqa: SLF001\n93 |     assert \"Streaming:\" in tooltip\n   |     ^^^^^^\n94 |     assert \"processed=3\" in tooltip\n95 |     # Verify one repo row present in detail table\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_progress_board_streaming.py:94:5\n   |\n92 |     tooltip = board._checklist.toolTip()  # noqa: SLF001\n93 |     assert \"Streaming:\" in tooltip\n94 |     assert \"processed=3\" in tooltip\n   |     ^^^^^^\n95 |     # Verify one repo row present in detail table\n96 |     assert board._detail_table.rowCount() == 1  # noqa: SLF001\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_progress_board_streaming.py:96:5\n   |\n94 |     assert \"processed=3\" in tooltip\n95 |     # Verify one repo row present in detail table\n96 |     assert board._detail_table.rowCount() == 1  # noqa: SLF001\n   |     ^^^^^^\n   |\n\nFound 101 errors.\nNo fixes available (15 hidden fixes can be enabled with the `--unsafe-fixes` option).\n",
                "tool": "ruff_fix",
                "tool_module": "ruff",
                "tool_version": "ruff 0.14.4"
            },
            "exit": "exit 1",
            "message": "ruff_fix failed for x_0_make_all_x (exit 1)\ncwd: C:\\x_runner_x\\x_0_make_all_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311\nstarted_at: 2025-11-10T06:10:29.348507+00:00\nduration: 0.310s\ntool_version: ruff 0.14.4\nstdout:\nTC003 Move standard library import `collections.abc.Iterable` into a type-checking block\n  --> inspection_stream_tailer.py:12:29\n   |\n10 | import json\n11 | import os\n\u2026\nstderr:\n<empty>",
            "repo": "x_0_make_all_x",
            "repo_path": "C:\\x_runner_x\\x_0_make_all_x",
            "stderr_preview": null,
            "stdout_preview": "TC003 Move standard library import `collections.abc.Iterable` into a type-checking block\n  --> inspection_stream_tailer.py:12:29\n   |\n10 | import json\n11 | import os\n\u2026",
            "suggested_action": "Investigate",
            "summary": "ruff_fix failed for x_0_make_all_x (exit 1) cwd: C:\\x_runner_x\\x_0_make_all_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --tar\u2026",
            "tool": "ruff_fix",
            "tool_version": "ruff 0.14.4"
        },
        {
            "captured_at": "2025-11-10T06:10:50.019671+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "black",
                    ".",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311",
                    "--check",
                    "--diff"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff",
                "cwd": "C:\\x_runner_x\\x_0_run_all_x",
                "duration_seconds": 2.5827563000493683,
                "ended_at": "2025-11-10T06:10:50.019671+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "json_contracts/__init__.py",
                    "json_contracts/_impl.py",
                    "run_environment_studio_switcheroo.py",
                    "tests/__init__.py",
                    "tests/test_astrocyte_binding.py",
                    "x_cls_run_all_x.py",
                    "x_cls_run_all_x.pyi"
                ],
                "repo": "x_0_run_all_x",
                "repo_hash": "8b41b7da99a0b7b54966404e8a91abb943e0638223d35bbde759aa6e7e8b70b4",
                "repo_path": "C:\\x_runner_x\\x_0_run_all_x",
                "started_at": "2025-11-10T06:10:47.436912+00:00",
                "stderr": "would reformat C:\\x_runner_x\\x_0_run_all_x\\run_environment_studio_switcheroo.py\n\nOh no! \\U0001f4a5 \\U0001f494 \\U0001f4a5\n1 file would be reformatted, 7 files would be left unchanged.\n",
                "stdout": "--- C:\\x_runner_x\\x_0_run_all_x\\run_environment_studio_switcheroo.py\t2025-11-10 04:59:43.494081+00:00\n+++ C:\\x_runner_x\\x_0_run_all_x\\run_environment_studio_switcheroo.py\t2025-11-10 06:10:49.220043+00:00\n@@ -64,12 +64,16 @@\n     activate_ps = venv_root / \"Scripts\" / \"Activate.ps1\"\n     if not activate_ps.exists():\n         return\n \n     policy_command = \"Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass\"\n-    activate_command = f\".\\\\{activate_ps.relative_to(WORKSPACE_ROOT).as_posix().replace('/', '\\\\')}\"\n-    print(\"[EnvironmentStudio] PowerShell may block Activate.ps1. If so, run:\", flush=True)\n+    activate_command = (\n+        f\".\\\\{activate_ps.relative_to(WORKSPACE_ROOT).as_posix().replace('/', '\\\\')}\"\n+    )\n+    print(\n+        \"[EnvironmentStudio] PowerShell may block Activate.ps1. If so, run:\", flush=True\n+    )\n     print(f\"[EnvironmentStudio]   {policy_command}\", flush=True)\n     print(f\"[EnvironmentStudio]   {activate_command}\", flush=True)\n \n \n def main() -> None:\n",
                "tool": "black",
                "tool_module": "black",
                "tool_version": "python -m black, 25.11.0 (compiled: yes)\nPython (CPython) 3.14.0"
            },
            "exit": "exit 1",
            "message": "black failed for x_0_run_all_x (exit 1)\ncwd: C:\\x_runner_x\\x_0_run_all_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff\nstarted_at: 2025-11-10T06:10:47.436912+00:00\nduration: 2.583s\ntool_version: python -m black, 25.11.0 (compiled: yes)\nPython (CPython) 3.14.0\nstdout:\n--- C:\\x_runner_x\\x_0_run_all_x\\run_environment_studio_switcheroo.py\t2025-11-10 04:59:43.494081+00:00\n+++ C:\\x_runner_x\\x_0_run_all_x\\run_environment_studio_switcheroo.py\t2025-11-10 06:10:49.220043+00:00\n@@ -64,12 +64,16 @@\n     activate_ps = venv_root / \"Scripts\" / \"Activate.ps1\"\n     if not activate_ps.exists():\n\u2026\nstderr:\nwould reformat C:\\x_runner_x\\x_0_run_all_x\\run_environment_studio_switcheroo.py\n\nOh no! \\U0001f4a5 \\U0001f494 \\U0001f4a5\n1 file would be reformatted, 7 files would be left unchanged.",
            "repo": "x_0_run_all_x",
            "repo_path": "C:\\x_runner_x\\x_0_run_all_x",
            "stderr_preview": "would reformat C:\\x_runner_x\\x_0_run_all_x\\run_environment_studio_switcheroo.py\n\nOh no! \\U0001f4a5 \\U0001f494 \\U0001f4a5\n1 file would be reformatted, 7 files would be left unchanged.",
            "stdout_preview": "--- C:\\x_runner_x\\x_0_run_all_x\\run_environment_studio_switcheroo.py\t2025-11-10 04:59:43.494081+00:00\n+++ C:\\x_runner_x\\x_0_run_all_x\\run_environment_studio_switcheroo.py\t2025-11-10 06:10:49.220043+00:00\n@@ -64,12 +64,16 @@\n     activate_ps = venv_root / \"Scripts\" / \"Activate.ps1\"\n     if not activate_ps.exists():\n\u2026",
            "suggested_action": "Investigate",
            "summary": "black failed for x_0_run_all_x (exit 1) cwd: C:\\x_runner_x\\x_0_run_all_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff started_at: 2025-11-10T06\u2026",
            "tool": "black",
            "tool_version": "python -m black, 25.11.0 (compiled: yes)\nPython (CPython) 3.14.0"
        },
        {
            "captured_at": "2025-11-10T06:10:50.145577+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "ruff",
                    "check",
                    ".",
                    "--select",
                    "ALL",
                    "--ignore",
                    "D,COM812,ISC001,T20",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
                "cwd": "C:\\x_runner_x\\x_0_run_all_x",
                "duration_seconds": 0.12274819996673614,
                "ended_at": "2025-11-10T06:10:50.145577+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "json_contracts/__init__.py",
                    "json_contracts/_impl.py",
                    "run_environment_studio_switcheroo.py",
                    "tests/__init__.py",
                    "tests/test_astrocyte_binding.py",
                    "x_cls_run_all_x.py",
                    "x_cls_run_all_x.pyi"
                ],
                "repo": "x_0_run_all_x",
                "repo_hash": "8b41b7da99a0b7b54966404e8a91abb943e0638223d35bbde759aa6e7e8b70b4",
                "repo_path": "C:\\x_runner_x\\x_0_run_all_x",
                "started_at": "2025-11-10T06:10:50.022830+00:00",
                "stderr": "",
                "stdout": "TC003 Move standard library import `collections.abc.Callable` into a type-checking block\n  --> run_environment_studio_switcheroo.py:8:29\n   |\n 6 | import os\n 7 | import sys\n 8 | from collections.abc import Callable\n   |                             ^^^^^^^^\n 9 | from pathlib import Path\n10 | from typing import TYPE_CHECKING\n   |\nhelp: Move into type-checking block\n\nTRY003 Avoid specifying long messages outside the exception class\n  --> run_environment_studio_switcheroo.py:46:11\n   |\n44 |           else:\n45 |               return module.launch_environment_studio\n46 |       raise ModuleNotFoundError(\n   |  ___________^\n47 | |         \"Unable to import Environment Studio \u00e2\u20ac\u201c verify that dependencies are installed in the \"\n48 | |         \"active virtual environment.\"\n49 | |     ) from last_error\n   | |_____^\n   |\n\nEM101 Exception must not use a string literal, assign to variable first\n  --> run_environment_studio_switcheroo.py:47:9\n   |\n45 |               return module.launch_environment_studio\n46 |       raise ModuleNotFoundError(\n47 | /         \"Unable to import Environment Studio \u00e2\u20ac\u201c verify that dependencies are installed in the \"\n48 | |         \"active virtual environment.\"\n   | |_____________________________________^\n49 |       ) from last_error\n   |\nhelp: Assign to variable; remove string literal\n\nRUF001 String contains ambiguous `\u00e2\u20ac\u201c` (EN DASH). Did you mean `-` (HYPHEN-MINUS)?\n  --> run_environment_studio_switcheroo.py:47:46\n   |\n45 |             return module.launch_environment_studio\n46 |     raise ModuleNotFoundError(\n47 |         \"Unable to import Environment Studio \u00e2\u20ac\u201c verify that dependencies are installed in the \"\n   |                                              ^\n48 |         \"active virtual environment.\"\n49 |     ) from last_error\n   |\n\nE501 Line too long (94 > 88)\n  --> run_environment_studio_switcheroo.py:47:89\n   |\n45 |             return module.launch_environment_studio\n46 |     raise ModuleNotFoundError(\n47 |         \"Unable to import Environment Studio \u00e2\u20ac\u201c verify that dependencies are installed in the \"\n   |                                                                                         ^^^^^^\n48 |         \"active virtual environment.\"\n49 |     ) from last_error\n   |\n\nE501 Line too long (100 > 88)\n  --> run_environment_studio_switcheroo.py:69:89\n   |\n68 |     policy_command = \"Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass\"\n69 |     activate_command = f\".\\\\{activate_ps.relative_to(WORKSPACE_ROOT).as_posix().replace('/', '\\\\')}\"\n   |                                                                                         ^^^^^^^^^^^^\n70 |     print(\"[EnvironmentStudio] PowerShell may block Activate.ps1. If so, run:\", flush=True)\n71 |     print(f\"[EnvironmentStudio]   {policy_command}\", flush=True)\n   |\n\ninvalid-syntax: Cannot use an escape sequence (backslash) in f-strings on Python 3.11 (syntax was added in Python 3.12)\n  --> run_environment_studio_switcheroo.py:69:95\n   |\n68 |     policy_command = \"Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass\"\n69 |     activate_command = f\".\\\\{activate_ps.relative_to(WORKSPACE_ROOT).as_posix().replace('/', '\\\\')}\"\n   |                                                                                               ^\n70 |     print(\"[EnvironmentStudio] PowerShell may block Activate.ps1. If so, run:\", flush=True)\n71 |     print(f\"[EnvironmentStudio]   {policy_command}\", flush=True)\n   |\n\ninvalid-syntax: Cannot use an escape sequence (backslash) in f-strings on Python 3.11 (syntax was added in Python 3.12)\n  --> run_environment_studio_switcheroo.py:69:96\n   |\n68 |     policy_command = \"Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass\"\n69 |     activate_command = f\".\\\\{activate_ps.relative_to(WORKSPACE_ROOT).as_posix().replace('/', '\\\\')}\"\n   |                                                                                                ^\n70 |     print(\"[EnvironmentStudio] PowerShell may block Activate.ps1. If so, run:\", flush=True)\n71 |     print(f\"[EnvironmentStudio]   {policy_command}\", flush=True)\n   |\n\nE501 Line too long (91 > 88)\n  --> run_environment_studio_switcheroo.py:70:89\n   |\n68 |     policy_command = \"Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass\"\n69 |     activate_command = f\".\\\\{activate_ps.relative_to(WORKSPACE_ROOT).as_posix().replace('/', '\\\\')}\"\n70 |     print(\"[EnvironmentStudio] PowerShell may block Activate.ps1. If so, run:\", flush=True)\n   |                                                                                         ^^^\n71 |     print(f\"[EnvironmentStudio]   {policy_command}\", flush=True)\n72 |     print(f\"[EnvironmentStudio]   {activate_command}\", flush=True)\n   |\n\nFound 9 errors.\nNo fixes available (2 hidden fixes can be enabled with the `--unsafe-fixes` option).\n",
                "tool": "ruff_check",
                "tool_module": "ruff",
                "tool_version": "ruff 0.14.4"
            },
            "exit": "exit 1",
            "message": "ruff_check failed for x_0_run_all_x (exit 1)\ncwd: C:\\x_runner_x\\x_0_run_all_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311\nstarted_at: 2025-11-10T06:10:50.022830+00:00\nduration: 0.123s\ntool_version: ruff 0.14.4\nstdout:\nTC003 Move standard library import `collections.abc.Callable` into a type-checking block\n  --> run_environment_studio_switcheroo.py:8:29\n   |\n 6 | import os\n 7 | import sys\n\u2026\nstderr:\n<empty>",
            "repo": "x_0_run_all_x",
            "repo_path": "C:\\x_runner_x\\x_0_run_all_x",
            "stderr_preview": null,
            "stdout_preview": "TC003 Move standard library import `collections.abc.Callable` into a type-checking block\n  --> run_environment_studio_switcheroo.py:8:29\n   |\n 6 | import os\n 7 | import sys\n\u2026",
            "suggested_action": "Investigate",
            "summary": "ruff_check failed for x_0_run_all_x (exit 1) cwd: C:\\x_runner_x\\x_0_run_all_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-ve\u2026",
            "tool": "ruff_check",
            "tool_version": "ruff 0.14.4"
        },
        {
            "captured_at": "2025-11-10T06:10:47.432523+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "ruff",
                    "check",
                    ".",
                    "--fix",
                    "--select",
                    "ALL",
                    "--ignore",
                    "D,COM812,ISC001,T20",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
                "cwd": "C:\\x_runner_x\\x_0_run_all_x",
                "duration_seconds": 0.1340722999884747,
                "ended_at": "2025-11-10T06:10:47.432523+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "json_contracts/__init__.py",
                    "json_contracts/_impl.py",
                    "run_environment_studio_switcheroo.py",
                    "tests/__init__.py",
                    "tests/test_astrocyte_binding.py",
                    "x_cls_run_all_x.py",
                    "x_cls_run_all_x.pyi"
                ],
                "repo": "x_0_run_all_x",
                "repo_hash": "8b41b7da99a0b7b54966404e8a91abb943e0638223d35bbde759aa6e7e8b70b4",
                "repo_path": "C:\\x_runner_x\\x_0_run_all_x",
                "started_at": "2025-11-10T06:10:47.298451+00:00",
                "stderr": "",
                "stdout": "TC003 Move standard library import `collections.abc.Callable` into a type-checking block\n  --> run_environment_studio_switcheroo.py:8:29\n   |\n 6 | import os\n 7 | import sys\n 8 | from collections.abc import Callable\n   |                             ^^^^^^^^\n 9 | from pathlib import Path\n10 | from typing import TYPE_CHECKING\n   |\nhelp: Move into type-checking block\n\nTRY003 Avoid specifying long messages outside the exception class\n  --> run_environment_studio_switcheroo.py:46:11\n   |\n44 |           else:\n45 |               return module.launch_environment_studio\n46 |       raise ModuleNotFoundError(\n   |  ___________^\n47 | |         \"Unable to import Environment Studio \u00e2\u20ac\u201c verify that dependencies are installed in the \"\n48 | |         \"active virtual environment.\"\n49 | |     ) from last_error\n   | |_____^\n   |\n\nEM101 Exception must not use a string literal, assign to variable first\n  --> run_environment_studio_switcheroo.py:47:9\n   |\n45 |               return module.launch_environment_studio\n46 |       raise ModuleNotFoundError(\n47 | /         \"Unable to import Environment Studio \u00e2\u20ac\u201c verify that dependencies are installed in the \"\n48 | |         \"active virtual environment.\"\n   | |_____________________________________^\n49 |       ) from last_error\n   |\nhelp: Assign to variable; remove string literal\n\nRUF001 String contains ambiguous `\u00e2\u20ac\u201c` (EN DASH). Did you mean `-` (HYPHEN-MINUS)?\n  --> run_environment_studio_switcheroo.py:47:46\n   |\n45 |             return module.launch_environment_studio\n46 |     raise ModuleNotFoundError(\n47 |         \"Unable to import Environment Studio \u00e2\u20ac\u201c verify that dependencies are installed in the \"\n   |                                              ^\n48 |         \"active virtual environment.\"\n49 |     ) from last_error\n   |\n\nE501 Line too long (94 > 88)\n  --> run_environment_studio_switcheroo.py:47:89\n   |\n45 |             return module.launch_environment_studio\n46 |     raise ModuleNotFoundError(\n47 |         \"Unable to import Environment Studio \u00e2\u20ac\u201c verify that dependencies are installed in the \"\n   |                                                                                         ^^^^^^\n48 |         \"active virtual environment.\"\n49 |     ) from last_error\n   |\n\nE501 Line too long (100 > 88)\n  --> run_environment_studio_switcheroo.py:69:89\n   |\n68 |     policy_command = \"Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass\"\n69 |     activate_command = f\".\\\\{activate_ps.relative_to(WORKSPACE_ROOT).as_posix().replace('/', '\\\\')}\"\n   |                                                                                         ^^^^^^^^^^^^\n70 |     print(\"[EnvironmentStudio] PowerShell may block Activate.ps1. If so, run:\", flush=True)\n71 |     print(f\"[EnvironmentStudio]   {policy_command}\", flush=True)\n   |\n\ninvalid-syntax: Cannot use an escape sequence (backslash) in f-strings on Python 3.11 (syntax was added in Python 3.12)\n  --> run_environment_studio_switcheroo.py:69:95\n   |\n68 |     policy_command = \"Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass\"\n69 |     activate_command = f\".\\\\{activate_ps.relative_to(WORKSPACE_ROOT).as_posix().replace('/', '\\\\')}\"\n   |                                                                                               ^\n70 |     print(\"[EnvironmentStudio] PowerShell may block Activate.ps1. If so, run:\", flush=True)\n71 |     print(f\"[EnvironmentStudio]   {policy_command}\", flush=True)\n   |\n\ninvalid-syntax: Cannot use an escape sequence (backslash) in f-strings on Python 3.11 (syntax was added in Python 3.12)\n  --> run_environment_studio_switcheroo.py:69:96\n   |\n68 |     policy_command = \"Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass\"\n69 |     activate_command = f\".\\\\{activate_ps.relative_to(WORKSPACE_ROOT).as_posix().replace('/', '\\\\')}\"\n   |                                                                                                ^\n70 |     print(\"[EnvironmentStudio] PowerShell may block Activate.ps1. If so, run:\", flush=True)\n71 |     print(f\"[EnvironmentStudio]   {policy_command}\", flush=True)\n   |\n\nE501 Line too long (91 > 88)\n  --> run_environment_studio_switcheroo.py:70:89\n   |\n68 |     policy_command = \"Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass\"\n69 |     activate_command = f\".\\\\{activate_ps.relative_to(WORKSPACE_ROOT).as_posix().replace('/', '\\\\')}\"\n70 |     print(\"[EnvironmentStudio] PowerShell may block Activate.ps1. If so, run:\", flush=True)\n   |                                                                                         ^^^\n71 |     print(f\"[EnvironmentStudio]   {policy_command}\", flush=True)\n72 |     print(f\"[EnvironmentStudio]   {activate_command}\", flush=True)\n   |\n\nFound 9 errors.\nNo fixes available (2 hidden fixes can be enabled with the `--unsafe-fixes` option).\n",
                "tool": "ruff_fix",
                "tool_module": "ruff",
                "tool_version": "ruff 0.14.4"
            },
            "exit": "exit 1",
            "message": "ruff_fix failed for x_0_run_all_x (exit 1)\ncwd: C:\\x_runner_x\\x_0_run_all_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311\nstarted_at: 2025-11-10T06:10:47.298451+00:00\nduration: 0.134s\ntool_version: ruff 0.14.4\nstdout:\nTC003 Move standard library import `collections.abc.Callable` into a type-checking block\n  --> run_environment_studio_switcheroo.py:8:29\n   |\n 6 | import os\n 7 | import sys\n\u2026\nstderr:\n<empty>",
            "repo": "x_0_run_all_x",
            "repo_path": "C:\\x_runner_x\\x_0_run_all_x",
            "stderr_preview": null,
            "stdout_preview": "TC003 Move standard library import `collections.abc.Callable` into a type-checking block\n  --> run_environment_studio_switcheroo.py:8:29\n   |\n 6 | import os\n 7 | import sys\n\u2026",
            "suggested_action": "Investigate",
            "summary": "ruff_fix failed for x_0_run_all_x (exit 1) cwd: C:\\x_runner_x\\x_0_run_all_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --targe\u2026",
            "tool": "ruff_fix",
            "tool_version": "ruff 0.14.4"
        },
        {
            "captured_at": "2025-11-10T06:11:17.313861+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "black",
                    ".",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311",
                    "--check",
                    "--diff"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff",
                "cwd": "C:\\x_runner_x\\x_legatus_capsula_calculus_x",
                "duration_seconds": 1.7991934000165202,
                "ended_at": "2025-11-10T06:11:17.313861+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "esp32/__init__.py",
                    "esp32/firmware_stub.py",
                    "inference/__init__.py",
                    "inference/capture.py",
                    "inference/inference_service.py",
                    "inference/model_loader.py",
                    "inference/postprocess.py",
                    "inference/session.py",
                    "tests/__init__.py",
                    "tests/test_postprocess.py",
                    "tests/test_service.py"
                ],
                "repo": "x_legatus_capsula_calculus_x",
                "repo_hash": "517039f08465b425b47feefd8493c14880b76b54feb9cc5df0a2215229701a37",
                "repo_path": "C:\\x_runner_x\\x_legatus_capsula_calculus_x",
                "started_at": "2025-11-10T06:11:15.514668+00:00",
                "stderr": "would reformat C:\\x_runner_x\\x_legatus_capsula_calculus_x\\tests\\test_service.py\nwould reformat C:\\x_runner_x\\x_legatus_capsula_calculus_x\\tests\\test_postprocess.py\n\nOh no! \\U0001f4a5 \\U0001f494 \\U0001f4a5\n2 files would be reformatted, 9 files would be left unchanged.\n",
                "stdout": "--- C:\\x_runner_x\\x_legatus_capsula_calculus_x\\tests\\test_service.py\t2025-11-09 20:50:33.138147+00:00\n+++ C:\\x_runner_x\\x_legatus_capsula_calculus_x\\tests\\test_service.py\t2025-11-10 06:11:16.979540+00:00\n@@ -1,9 +1,10 @@\n from fastapi.testclient import TestClient\n from inference.inference_service import app\n \n client = TestClient(app)\n+\n \n def test_start_and_status():\n     r = client.post(\"/start\", json={})\n     assert r.status_code == 200\n     s = client.get(\"/status\")\n--- C:\\x_runner_x\\x_legatus_capsula_calculus_x\\tests\\test_postprocess.py\t2025-11-09 20:50:33.002979+00:00\n+++ C:\\x_runner_x\\x_legatus_capsula_calculus_x\\tests\\test_postprocess.py\t2025-11-10 06:11:17.018720+00:00\n@@ -28,13 +28,11 @@\n     score = overlap_cluster_score(dets, overlap_iou=0.1)\n     assert 0 < score < 1\n \n \n def test_aggregate_ok():\n-    dets = [\n-        PPDetection(bbox=(i * 15, 0, 12, 12), confidence=0.9) for i in range(5)\n-    ]\n+    dets = [PPDetection(bbox=(i * 15, 0, 12, 12), confidence=0.9) for i in range(5)]\n     count, conf, reason = aggregate_count_and_confidence(dets)\n     assert count == 5\n     assert conf > 0.5\n     assert reason == \"ok\"\n \n",
                "tool": "black",
                "tool_module": "black",
                "tool_version": "python -m black, 25.11.0 (compiled: yes)\nPython (CPython) 3.14.0"
            },
            "exit": "exit 1",
            "message": "black failed for x_legatus_capsula_calculus_x (exit 1)\ncwd: C:\\x_runner_x\\x_legatus_capsula_calculus_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff\nstarted_at: 2025-11-10T06:11:15.514668+00:00\nduration: 1.799s\ntool_version: python -m black, 25.11.0 (compiled: yes)\nPython (CPython) 3.14.0\nstdout:\n--- C:\\x_runner_x\\x_legatus_capsula_calculus_x\\tests\\test_service.py\t2025-11-09 20:50:33.138147+00:00\n+++ C:\\x_runner_x\\x_legatus_capsula_calculus_x\\tests\\test_service.py\t2025-11-10 06:11:16.979540+00:00\n@@ -1,9 +1,10 @@\n from fastapi.testclient import TestClient\n from inference.inference_service import app\n\u2026\nstderr:\nwould reformat C:\\x_runner_x\\x_legatus_capsula_calculus_x\\tests\\test_service.py\nwould reformat C:\\x_runner_x\\x_legatus_capsula_calculus_x\\tests\\test_postprocess.py\n\nOh no! \\U0001f4a5 \\U0001f494 \\U0001f4a5\n2 files would be reformatted, 9 files would be left unchanged.",
            "repo": "x_legatus_capsula_calculus_x",
            "repo_path": "C:\\x_runner_x\\x_legatus_capsula_calculus_x",
            "stderr_preview": "would reformat C:\\x_runner_x\\x_legatus_capsula_calculus_x\\tests\\test_service.py\nwould reformat C:\\x_runner_x\\x_legatus_capsula_calculus_x\\tests\\test_postprocess.py\n\nOh no! \\U0001f4a5 \\U0001f494 \\U0001f4a5\n2 files would be reformatted, 9 files would be left unchanged.",
            "stdout_preview": "--- C:\\x_runner_x\\x_legatus_capsula_calculus_x\\tests\\test_service.py\t2025-11-09 20:50:33.138147+00:00\n+++ C:\\x_runner_x\\x_legatus_capsula_calculus_x\\tests\\test_service.py\t2025-11-10 06:11:16.979540+00:00\n@@ -1,9 +1,10 @@\n from fastapi.testclient import TestClient\n from inference.inference_service import app\n\u2026",
            "suggested_action": "Investigate",
            "summary": "black failed for x_legatus_capsula_calculus_x (exit 1) cwd: C:\\x_runner_x\\x_legatus_capsula_calculus_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --\u2026",
            "tool": "black",
            "tool_version": "python -m black, 25.11.0 (compiled: yes)\nPython (CPython) 3.14.0"
        },
        {
            "captured_at": "2025-11-10T06:11:18.118642+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m mypy --package x_legatus_capsula_calculus_x --strict --no-warn-unused-configs --show-error-codes --warn-return-any --warn-unreachable --disallow-any-unimported --disallow-any-expr --disallow-any-decorated --disallow-any-explicit",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "mypy",
                    "--package",
                    "x_legatus_capsula_calculus_x",
                    "--strict",
                    "--no-warn-unused-configs",
                    "--show-error-codes",
                    "--warn-return-any",
                    "--warn-unreachable",
                    "--disallow-any-unimported",
                    "--disallow-any-expr",
                    "--disallow-any-decorated",
                    "--disallow-any-explicit"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m mypy --package x_legatus_capsula_calculus_x --strict --no-warn-unused-configs --show-error-codes --warn-return-any --warn-unreachable --disallow-any-unimported --disallow-any-expr --disallow-any-decorated --disallow-any-explicit",
                "cwd": "C:\\x_runner_x\\x_legatus_capsula_calculus_x",
                "duration_seconds": 0.6631707000196911,
                "ended_at": "2025-11-10T06:11:18.118642+00:00",
                "exit": 2,
                "failed_files": [],
                "files_checked": [
                    "esp32/__init__.py",
                    "esp32/firmware_stub.py",
                    "inference/__init__.py",
                    "inference/capture.py",
                    "inference/inference_service.py",
                    "inference/model_loader.py",
                    "inference/postprocess.py",
                    "inference/session.py",
                    "tests/__init__.py",
                    "tests/test_postprocess.py",
                    "tests/test_service.py"
                ],
                "repo": "x_legatus_capsula_calculus_x",
                "repo_hash": "517039f08465b425b47feefd8493c14880b76b54feb9cc5df0a2215229701a37",
                "repo_path": "C:\\x_runner_x\\x_legatus_capsula_calculus_x",
                "started_at": "2025-11-10T06:11:17.455469+00:00",
                "stderr": "",
                "stdout": "inference\\capture.py:17: error: Cannot find implementation or library stub for module named \"cv2\"  [import-not-found]\ninference\\capture.py:17: note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports\ninference\\inference_service.py:17: error: Skipping analyzing \"numpy\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\ninference\\inference_service.py:18: error: Skipping analyzing \"fastapi\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\ninference\\inference_service.py:19: error: Skipping analyzing \"pydantic\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\ninference\\inference_service.py:115: error: Skipping analyzing \"uvicorn\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\ninference\\postprocess.py: error: Source file found twice under different module names: \"x_legatus_capsula_calculus_x.inference.postprocess\" and \"inference.postprocess\"\nFound 6 errors in 3 files (errors prevented further checking)\n",
                "tool": "mypy",
                "tool_module": "mypy",
                "tool_version": "mypy 1.18.2 (compiled: yes)"
            },
            "exit": "exit 2",
            "message": "mypy failed for x_legatus_capsula_calculus_x (exit 2)\ncwd: C:\\x_runner_x\\x_legatus_capsula_calculus_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m mypy --package x_legatus_capsula_calculus_x --strict --no-warn-unused-configs --show-error-codes --warn-return-any --warn-unreachable --disallow-any-unimported --disallow-any-expr --disallow-any-decorated --disallow-any-explicit\nstarted_at: 2025-11-10T06:11:17.455469+00:00\nduration: 0.663s\ntool_version: mypy 1.18.2 (compiled: yes)\nstdout:\ninference\\capture.py:17: error: Cannot find implementation or library stub for module named \"cv2\"  [import-not-found]\ninference\\capture.py:17: note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports\ninference\\inference_service.py:17: error: Skipping analyzing \"numpy\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\ninference\\inference_service.py:18: error: Skipping analyzing \"fastapi\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\ninference\\inference_service.py:19: error: Skipping analyzing \"pydantic\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\n\u2026\nstderr:\n<empty>",
            "repo": "x_legatus_capsula_calculus_x",
            "repo_path": "C:\\x_runner_x\\x_legatus_capsula_calculus_x",
            "stderr_preview": null,
            "stdout_preview": "inference\\capture.py:17: error: Cannot find implementation or library stub for module named \"cv2\"  [import-not-found]\ninference\\capture.py:17: note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports\ninference\\inference_service.py:17: error: Skipping analyzing \"numpy\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\ninference\\inference_service.py:18: error: Skipping analyzing \"fastapi\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\ninference\\inference_service.py:19: error: Skipping analyzing \"pydantic\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\n\u2026",
            "suggested_action": "Investigate",
            "summary": "mypy failed for x_legatus_capsula_calculus_x (exit 2) cwd: C:\\x_runner_x\\x_legatus_capsula_calculus_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m mypy --package x_legatus_capsula_calculus_x --strict --no-w\u2026",
            "tool": "mypy",
            "tool_version": "mypy 1.18.2 (compiled: yes)"
        },
        {
            "captured_at": "2025-11-10T06:11:17.449867+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "ruff",
                    "check",
                    ".",
                    "--select",
                    "ALL",
                    "--ignore",
                    "D,COM812,ISC001,T20",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
                "cwd": "C:\\x_runner_x\\x_legatus_capsula_calculus_x",
                "duration_seconds": 0.13277719996403903,
                "ended_at": "2025-11-10T06:11:17.449867+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "esp32/__init__.py",
                    "esp32/firmware_stub.py",
                    "inference/__init__.py",
                    "inference/capture.py",
                    "inference/inference_service.py",
                    "inference/model_loader.py",
                    "inference/postprocess.py",
                    "inference/session.py",
                    "tests/__init__.py",
                    "tests/test_postprocess.py",
                    "tests/test_service.py"
                ],
                "repo": "x_legatus_capsula_calculus_x",
                "repo_hash": "517039f08465b425b47feefd8493c14880b76b54feb9cc5df0a2215229701a37",
                "repo_path": "C:\\x_runner_x\\x_legatus_capsula_calculus_x",
                "started_at": "2025-11-10T06:11:17.317089+00:00",
                "stderr": "",
                "stdout": "PLW0603 Using the global statement to update `LED_STATE` is discouraged\n  --> esp32\\firmware_stub.py:17:12\n   |\n16 | def set_led(state: str) -> None:\n17 |     global LED_STATE\n   |            ^^^^^^^^^\n18 |     LED_STATE = state\n19 |     # In firmware: update RGB LED pattern\n   |\n\nSIM105 Use `contextlib.suppress(KeyboardInterrupt)` instead of `try`-`except`-`pass`\n  --> esp32\\firmware_stub.py:59:5\n   |\n57 |       sys.stdout.write(json.dumps({\"evt\": \"READY\"}) + \"\\n\")\n58 |       sys.stdout.flush()\n59 | /     try:\n60 | |         main()\n61 | |     except KeyboardInterrupt:\n62 | |         pass\n   | |____________^\n   |\nhelp: Replace `try`-`except`-`pass` with `with contextlib.suppress(KeyboardInterrupt): ...`\n\nTC003 Move standard library import `collections.abc.Iterator` into a type-checking block\n  --> inference\\capture.py:13:29\n   |\n12 | import time\n13 | from collections.abc import Iterator\n   |                             ^^^^^^^^\n14 | from pathlib import Path\n15 | from typing import Final\n   |\nhelp: Move into type-checking block\n\nE501 Line too long (90 > 88)\n --> inference\\inference_service.py:8:89\n  |\n6 | - POST /stop\n7 |\n8 | This is a stub that wires model->postprocess->session updates, using a dummy frame source.\n  |                                                                                         ^^\n9 | \"\"\"\n  |\n\nPLW0602 Using global for `_state` but no assignment is done\n  --> inference\\inference_service.py:55:12\n   |\n54 | def _worker_loop() -> None:\n55 |     global _state, _model, _run_flag\n   |            ^^^^^^\n56 |     while _run_flag:\n57 |         frame = _fake_frame()\n   |\n\nPLW0602 Using global for `_model` but no assignment is done\n  --> inference\\inference_service.py:55:20\n   |\n54 | def _worker_loop() -> None:\n55 |     global _state, _model, _run_flag\n   |                    ^^^^^^\n56 |     while _run_flag:\n57 |         frame = _fake_frame()\n   |\n\nPLW0602 Using global for `_run_flag` but no assignment is done\n  --> inference\\inference_service.py:55:28\n   |\n54 | def _worker_loop() -> None:\n55 |     global _state, _model, _run_flag\n   |                            ^^^^^^^^^\n56 |     while _run_flag:\n57 |         frame = _fake_frame()\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `4` with a constant variable\n  --> inference\\inference_service.py:64:30\n   |\n62 |             # Ensure exactly four floats; pad with zeros if shorter, truncate if longer.\n63 |             floats: list[float] = [float(x) for x in list(raw_bbox)[:4]]\n64 |             if len(floats) < 4:\n   |                              ^\n65 |                 floats.extend([0.0] * (4 - len(floats)))\n66 |             bbox4_typed = cast(\n   |\n\nPLW0603 Using the global statement to update `_model` is discouraged\n  --> inference\\inference_service.py:83:12\n   |\n81 | @app.post(\"/start\")\n82 | def start(req: StartRequest) -> dict[str, bool]:\n83 |     global _model, _run_flag, _thread, _state\n   |            ^^^^^^\n84 |     if _run_flag:\n85 |         return {\"ok\": True}\n   |\n\nPLW0603 Using the global statement to update `_run_flag` is discouraged\n  --> inference\\inference_service.py:83:20\n   |\n81 | @app.post(\"/start\")\n82 | def start(req: StartRequest) -> dict[str, bool]:\n83 |     global _model, _run_flag, _thread, _state\n   |                    ^^^^^^^^^\n84 |     if _run_flag:\n85 |         return {\"ok\": True}\n   |\n\nPLW0603 Using the global statement to update `_thread` is discouraged\n  --> inference\\inference_service.py:83:31\n   |\n81 | @app.post(\"/start\")\n82 | def start(req: StartRequest) -> dict[str, bool]:\n83 |     global _model, _run_flag, _thread, _state\n   |                               ^^^^^^^\n84 |     if _run_flag:\n85 |         return {\"ok\": True}\n   |\n\nPLW0602 Using global for `_state` but no assignment is done\n  --> inference\\inference_service.py:83:40\n   |\n81 | @app.post(\"/start\")\n82 | def start(req: StartRequest) -> dict[str, bool]:\n83 |     global _model, _run_flag, _thread, _state\n   |                                        ^^^^^^\n84 |     if _run_flag:\n85 |         return {\"ok\": True}\n   |\n\nPLW0603 Using the global statement to update `_run_flag` is discouraged\n   --> inference\\inference_service.py:107:12\n    |\n105 | @app.post(\"/stop\")\n106 | def stop() -> dict[str, bool]:\n107 |     global _run_flag, _thread\n    |            ^^^^^^^^^\n108 |     _run_flag = False\n109 |     if _thread is not None:\n    |\n\nPLW0602 Using global for `_thread` but no assignment is done\n   --> inference\\inference_service.py:107:23\n    |\n105 | @app.post(\"/stop\")\n106 | def stop() -> dict[str, bool]:\n107 |     global _run_flag, _thread\n    |                       ^^^^^^^\n108 |     _run_flag = False\n109 |     if _thread is not None:\n    |\n\nANN204 Missing return type annotation for special method `__init__`\n  --> inference\\model_loader.py:21:9\n   |\n20 | class Model:\n21 |     def __init__(self, path: str):\n   |         ^^^^^^^^\n22 |         self.path = path\n23 |         # In a real implementation: load ONNX Runtime session.\n   |\nhelp: Add return type annotation: `None`\n\nANN001 Missing type annotation for function argument `frame`\n  --> inference\\model_loader.py:25:21\n   |\n23 |         # In a real implementation: load ONNX Runtime session.\n24 |\n25 |     def infer(self, frame) -> list[Detection]:\n   |                     ^^^^^\n26 |         # Stub: randomly generate a handful of detections\n27 |         h, w = frame.shape[:2]\n   |\n\nS311 Standard pseudo-random generators are not suitable for cryptographic purposes\n  --> inference\\model_loader.py:28:15\n   |\n26 |         # Stub: randomly generate a handful of detections\n27 |         h, w = frame.shape[:2]\n28 |         num = random.randint(5, 12)\n   |               ^^^^^^^^^^^^^^^^^^^^^\n29 |         out: list[Detection] = []\n30 |         for _ in range(num):\n   |\n\nS311 Standard pseudo-random generators are not suitable for cryptographic purposes\n  --> inference\\model_loader.py:31:18\n   |\n29 |         out: list[Detection] = []\n30 |         for _ in range(num):\n31 |             bw = random.randint(18, 42)\n   |                  ^^^^^^^^^^^^^^^^^^^^^^\n32 |             bh = random.randint(18, 42)\n33 |             x = random.randint(0, max(0, w - bw - 1))\n   |\n\nS311 Standard pseudo-random generators are not suitable for cryptographic purposes\n  --> inference\\model_loader.py:32:18\n   |\n30 |         for _ in range(num):\n31 |             bw = random.randint(18, 42)\n32 |             bh = random.randint(18, 42)\n   |                  ^^^^^^^^^^^^^^^^^^^^^^\n33 |             x = random.randint(0, max(0, w - bw - 1))\n34 |             y = random.randint(0, max(0, h - bh - 1))\n   |\n\nS311 Standard pseudo-random generators are not suitable for cryptographic purposes\n  --> inference\\model_loader.py:33:17\n   |\n31 |             bw = random.randint(18, 42)\n32 |             bh = random.randint(18, 42)\n33 |             x = random.randint(0, max(0, w - bw - 1))\n   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n34 |             y = random.randint(0, max(0, h - bh - 1))\n35 |             conf = random.uniform(0.6, 0.98)\n   |\n\nS311 Standard pseudo-random generators are not suitable for cryptographic purposes\n  --> inference\\model_loader.py:34:17\n   |\n32 |             bh = random.randint(18, 42)\n33 |             x = random.randint(0, max(0, w - bw - 1))\n34 |             y = random.randint(0, max(0, h - bh - 1))\n   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n35 |             conf = random.uniform(0.6, 0.98)\n36 |             out.append(Detection(bbox=(x, y, bw, bh), confidence=conf, mask=None))\n   |\n\nS311 Standard pseudo-random generators are not suitable for cryptographic purposes\n  --> inference\\model_loader.py:35:20\n   |\n33 |             x = random.randint(0, max(0, w - bw - 1))\n34 |             y = random.randint(0, max(0, h - bh - 1))\n35 |             conf = random.uniform(0.6, 0.98)\n   |                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n36 |             out.append(Detection(bbox=(x, y, bw, bh), confidence=conf, mask=None))\n37 |         return out\n   |\n\nE501 Line too long (99 > 88)\n  --> inference\\session.py:9:89\n   |\n 7 | - counted (final stable count)\n 8 |\n 9 | A simple stabilization logic: require K consecutive frames with same count & confidence>=threshold.\n   |                                                                                         ^^^^^^^^^^^\n10 | \"\"\"\n   |\n\nANN201 Missing return type annotation for public function `update`\n  --> inference\\session.py:28:9\n   |\n26 |     STABLE_REQUIRED: int = 8\n27 |\n28 |     def update(self, count: int | None, confidence: float, reason: str):\n   |         ^^^^^^\n29 |         self.current_count = count\n30 |         self.current_confidence = confidence\n   |\nhelp: Add return type annotation: `None`\n\nANN201 Missing return type annotation for public function `request_shuffle`\n  --> inference\\session.py:55:9\n   |\n53 |             self.stable_frames = 0\n54 |\n55 |     def request_shuffle(self):\n   |         ^^^^^^^^^^^^^^^\n56 |         self.state = \"uncertain\"\n57 |         self.stable_frames = 0\n   |\nhelp: Add return type annotation: `None`\n\nANN201 Missing return type annotation for public function `reset`\n  --> inference\\session.py:59:9\n   |\n57 |         self.stable_frames = 0\n58 |\n59 |     def reset(self):\n   |         ^^^^^\n60 |         self.state = \"idle\"\n61 |         self.current_count = None\n   |\nhelp: Add return type annotation: `None`\n\nANN201 Missing return type annotation for public function `test_iou_basic`\n  --> tests\\test_postprocess.py:9:5\n   |\n 9 | def test_iou_basic():\n   |     ^^^^^^^^^^^^^^\n10 |     a = (0, 0, 10, 10)\n11 |     b = (5, 5, 10, 10)\n   |\nhelp: Add return type annotation: `None`\n\nS101 Use of `assert` detected\n  --> tests\\test_postprocess.py:13:5\n   |\n11 |     b = (5, 5, 10, 10)\n12 |     val = iou(a, b)\n13 |     assert 0 < val < 1\n   |     ^^^^^^\n   |\n\nANN201 Missing return type annotation for public function `test_no_overlap`\n  --> tests\\test_postprocess.py:16:5\n   |\n16 | def test_no_overlap():\n   |     ^^^^^^^^^^^^^^^\n17 |     a = (0, 0, 10, 10)\n18 |     b = (20, 20, 5, 5)\n   |\nhelp: Add return type annotation: `None`\n\nS101 Use of `assert` detected\n  --> tests\\test_postprocess.py:19:5\n   |\n17 |     a = (0, 0, 10, 10)\n18 |     b = (20, 20, 5, 5)\n19 |     assert iou(a, b) == 0\n   |     ^^^^^^\n   |\n\nANN201 Missing return type annotation for public function `test_overlap_cluster_score`\n  --> tests\\test_postprocess.py:22:5\n   |\n22 | def test_overlap_cluster_score():\n   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^\n23 |     dets = [\n24 |         PPDetection(bbox=(0, 0, 10, 10), confidence=0.9),\n   |\nhelp: Add return type annotation: `None`\n\nS101 Use of `assert` detected\n  --> tests\\test_postprocess.py:29:5\n   |\n27 |     ]\n28 |     score = overlap_cluster_score(dets, overlap_iou=0.1)\n29 |     assert 0 < score < 1\n   |     ^^^^^^\n   |\n\nANN201 Missing return type annotation for public function `test_aggregate_ok`\n  --> tests\\test_postprocess.py:32:5\n   |\n32 | def test_aggregate_ok():\n   |     ^^^^^^^^^^^^^^^^^\n33 |     dets = [\n34 |         PPDetection(bbox=(i * 15, 0, 12, 12), confidence=0.9) for i in range(5)\n   |\nhelp: Add return type annotation: `None`\n\nS101 Use of `assert` detected\n  --> tests\\test_postprocess.py:37:5\n   |\n35 |     ]\n36 |     count, conf, reason = aggregate_count_and_confidence(dets)\n37 |     assert count == 5\n   |     ^^^^^^\n38 |     assert conf > 0.5\n39 |     assert reason == \"ok\"\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `5` with a constant variable\n  --> tests\\test_postprocess.py:37:21\n   |\n35 |     ]\n36 |     count, conf, reason = aggregate_count_and_confidence(dets)\n37 |     assert count == 5\n   |                     ^\n38 |     assert conf > 0.5\n39 |     assert reason == \"ok\"\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_postprocess.py:38:5\n   |\n36 |     count, conf, reason = aggregate_count_and_confidence(dets)\n37 |     assert count == 5\n38 |     assert conf > 0.5\n   |     ^^^^^^\n39 |     assert reason == \"ok\"\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `0.5` with a constant variable\n  --> tests\\test_postprocess.py:38:19\n   |\n36 |     count, conf, reason = aggregate_count_and_confidence(dets)\n37 |     assert count == 5\n38 |     assert conf > 0.5\n   |                   ^^^\n39 |     assert reason == \"ok\"\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_postprocess.py:39:5\n   |\n37 |     assert count == 5\n38 |     assert conf > 0.5\n39 |     assert reason == \"ok\"\n   |     ^^^^^^\n   |\n\nANN201 Missing return type annotation for public function `test_aggregate_ambiguous`\n  --> tests\\test_postprocess.py:42:5\n   |\n42 | def test_aggregate_ambiguous():\n   |     ^^^^^^^^^^^^^^^^^^^^^^^^\n43 |     dets = [\n44 |         PPDetection(bbox=(0, 0, 20, 20), confidence=0.9),\n   |\nhelp: Add return type annotation: `None`\n\nRUF059 Unpacked variable `conf` is never used\n  --> tests\\test_postprocess.py:48:12\n   |\n46 |         PPDetection(bbox=(10, 10, 20, 20), confidence=0.88),\n47 |     ]\n48 |     count, conf, reason = aggregate_count_and_confidence(dets, max_overlap_fraction=0.1)\n   |            ^^^^\n49 |     assert count is None\n50 |     assert reason == \"cluster-ambiguous\"\n   |\nhelp: Prefix it with an underscore or any other dummy variable pattern\n\nS101 Use of `assert` detected\n  --> tests\\test_postprocess.py:49:5\n   |\n47 |     ]\n48 |     count, conf, reason = aggregate_count_and_confidence(dets, max_overlap_fraction=0.1)\n49 |     assert count is None\n   |     ^^^^^^\n50 |     assert reason == \"cluster-ambiguous\"\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_postprocess.py:50:5\n   |\n48 |     count, conf, reason = aggregate_count_and_confidence(dets, max_overlap_fraction=0.1)\n49 |     assert count is None\n50 |     assert reason == \"cluster-ambiguous\"\n   |     ^^^^^^\n   |\n\nANN201 Missing return type annotation for public function `test_start_and_status`\n --> tests\\test_service.py:6:5\n  |\n4 | client = TestClient(app)\n5 |\n6 | def test_start_and_status():\n  |     ^^^^^^^^^^^^^^^^^^^^^\n7 |     r = client.post(\"/start\", json={})\n8 |     assert r.status_code == 200\n  |\nhelp: Add return type annotation: `None`\n\nS101 Use of `assert` detected\n  --> tests\\test_service.py:8:5\n   |\n 6 | def test_start_and_status():\n 7 |     r = client.post(\"/start\", json={})\n 8 |     assert r.status_code == 200\n   |     ^^^^^^\n 9 |     s = client.get(\"/status\")\n10 |     assert s.status_code == 200\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `200` with a constant variable\n  --> tests\\test_service.py:8:29\n   |\n 6 | def test_start_and_status():\n 7 |     r = client.post(\"/start\", json={})\n 8 |     assert r.status_code == 200\n   |                             ^^^\n 9 |     s = client.get(\"/status\")\n10 |     assert s.status_code == 200\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_service.py:10:5\n   |\n 8 |     assert r.status_code == 200\n 9 |     s = client.get(\"/status\")\n10 |     assert s.status_code == 200\n   |     ^^^^^^\n11 |     body = s.json()\n12 |     assert \"state\" in body\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `200` with a constant variable\n  --> tests\\test_service.py:10:29\n   |\n 8 |     assert r.status_code == 200\n 9 |     s = client.get(\"/status\")\n10 |     assert s.status_code == 200\n   |                             ^^^\n11 |     body = s.json()\n12 |     assert \"state\" in body\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_service.py:12:5\n   |\n10 |     assert s.status_code == 200\n11 |     body = s.json()\n12 |     assert \"state\" in body\n   |     ^^^^^^\n13 |     assert \"confidence\" in body\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_service.py:13:5\n   |\n11 |     body = s.json()\n12 |     assert \"state\" in body\n13 |     assert \"confidence\" in body\n   |     ^^^^^^\n   |\n\nFound 49 errors.\nNo fixes available (13 hidden fixes can be enabled with the `--unsafe-fixes` option).\n",
                "tool": "ruff_check",
                "tool_module": "ruff",
                "tool_version": "ruff 0.14.4"
            },
            "exit": "exit 1",
            "message": "ruff_check failed for x_legatus_capsula_calculus_x (exit 1)\ncwd: C:\\x_runner_x\\x_legatus_capsula_calculus_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311\nstarted_at: 2025-11-10T06:11:17.317089+00:00\nduration: 0.133s\ntool_version: ruff 0.14.4\nstdout:\nPLW0603 Using the global statement to update `LED_STATE` is discouraged\n  --> esp32\\firmware_stub.py:17:12\n   |\n16 | def set_led(state: str) -> None:\n17 |     global LED_STATE\n\u2026\nstderr:\n<empty>",
            "repo": "x_legatus_capsula_calculus_x",
            "repo_path": "C:\\x_runner_x\\x_legatus_capsula_calculus_x",
            "stderr_preview": null,
            "stdout_preview": "PLW0603 Using the global statement to update `LED_STATE` is discouraged\n  --> esp32\\firmware_stub.py:17:12\n   |\n16 | def set_led(state: str) -> None:\n17 |     global LED_STATE\n\u2026",
            "suggested_action": "Investigate",
            "summary": "ruff_check failed for x_legatus_capsula_calculus_x (exit 1) cwd: C:\\x_runner_x\\x_legatus_capsula_calculus_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T2\u2026",
            "tool": "ruff_check",
            "tool_version": "ruff 0.14.4"
        },
        {
            "captured_at": "2025-11-10T06:11:15.508068+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "ruff",
                    "check",
                    ".",
                    "--fix",
                    "--select",
                    "ALL",
                    "--ignore",
                    "D,COM812,ISC001,T20",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
                "cwd": "C:\\x_runner_x\\x_legatus_capsula_calculus_x",
                "duration_seconds": 0.2234722000430338,
                "ended_at": "2025-11-10T06:11:15.508068+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "esp32/__init__.py",
                    "esp32/firmware_stub.py",
                    "inference/__init__.py",
                    "inference/capture.py",
                    "inference/inference_service.py",
                    "inference/model_loader.py",
                    "inference/postprocess.py",
                    "inference/session.py",
                    "tests/__init__.py",
                    "tests/test_postprocess.py",
                    "tests/test_service.py"
                ],
                "repo": "x_legatus_capsula_calculus_x",
                "repo_hash": "517039f08465b425b47feefd8493c14880b76b54feb9cc5df0a2215229701a37",
                "repo_path": "C:\\x_runner_x\\x_legatus_capsula_calculus_x",
                "started_at": "2025-11-10T06:11:15.284603+00:00",
                "stderr": "",
                "stdout": "PLW0603 Using the global statement to update `LED_STATE` is discouraged\n  --> esp32\\firmware_stub.py:17:12\n   |\n16 | def set_led(state: str) -> None:\n17 |     global LED_STATE\n   |            ^^^^^^^^^\n18 |     LED_STATE = state\n19 |     # In firmware: update RGB LED pattern\n   |\n\nSIM105 Use `contextlib.suppress(KeyboardInterrupt)` instead of `try`-`except`-`pass`\n  --> esp32\\firmware_stub.py:59:5\n   |\n57 |       sys.stdout.write(json.dumps({\"evt\": \"READY\"}) + \"\\n\")\n58 |       sys.stdout.flush()\n59 | /     try:\n60 | |         main()\n61 | |     except KeyboardInterrupt:\n62 | |         pass\n   | |____________^\n   |\nhelp: Replace `try`-`except`-`pass` with `with contextlib.suppress(KeyboardInterrupt): ...`\n\nTC003 Move standard library import `collections.abc.Iterator` into a type-checking block\n  --> inference\\capture.py:13:29\n   |\n12 | import time\n13 | from collections.abc import Iterator\n   |                             ^^^^^^^^\n14 | from pathlib import Path\n15 | from typing import Final\n   |\nhelp: Move into type-checking block\n\nE501 Line too long (90 > 88)\n --> inference\\inference_service.py:8:89\n  |\n6 | - POST /stop\n7 |\n8 | This is a stub that wires model->postprocess->session updates, using a dummy frame source.\n  |                                                                                         ^^\n9 | \"\"\"\n  |\n\nPLW0602 Using global for `_state` but no assignment is done\n  --> inference\\inference_service.py:55:12\n   |\n54 | def _worker_loop() -> None:\n55 |     global _state, _model, _run_flag\n   |            ^^^^^^\n56 |     while _run_flag:\n57 |         frame = _fake_frame()\n   |\n\nPLW0602 Using global for `_model` but no assignment is done\n  --> inference\\inference_service.py:55:20\n   |\n54 | def _worker_loop() -> None:\n55 |     global _state, _model, _run_flag\n   |                    ^^^^^^\n56 |     while _run_flag:\n57 |         frame = _fake_frame()\n   |\n\nPLW0602 Using global for `_run_flag` but no assignment is done\n  --> inference\\inference_service.py:55:28\n   |\n54 | def _worker_loop() -> None:\n55 |     global _state, _model, _run_flag\n   |                            ^^^^^^^^^\n56 |     while _run_flag:\n57 |         frame = _fake_frame()\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `4` with a constant variable\n  --> inference\\inference_service.py:64:30\n   |\n62 |             # Ensure exactly four floats; pad with zeros if shorter, truncate if longer.\n63 |             floats: list[float] = [float(x) for x in list(raw_bbox)[:4]]\n64 |             if len(floats) < 4:\n   |                              ^\n65 |                 floats.extend([0.0] * (4 - len(floats)))\n66 |             bbox4_typed = cast(\n   |\n\nPLW0603 Using the global statement to update `_model` is discouraged\n  --> inference\\inference_service.py:83:12\n   |\n81 | @app.post(\"/start\")\n82 | def start(req: StartRequest) -> dict[str, bool]:\n83 |     global _model, _run_flag, _thread, _state\n   |            ^^^^^^\n84 |     if _run_flag:\n85 |         return {\"ok\": True}\n   |\n\nPLW0603 Using the global statement to update `_run_flag` is discouraged\n  --> inference\\inference_service.py:83:20\n   |\n81 | @app.post(\"/start\")\n82 | def start(req: StartRequest) -> dict[str, bool]:\n83 |     global _model, _run_flag, _thread, _state\n   |                    ^^^^^^^^^\n84 |     if _run_flag:\n85 |         return {\"ok\": True}\n   |\n\nPLW0603 Using the global statement to update `_thread` is discouraged\n  --> inference\\inference_service.py:83:31\n   |\n81 | @app.post(\"/start\")\n82 | def start(req: StartRequest) -> dict[str, bool]:\n83 |     global _model, _run_flag, _thread, _state\n   |                               ^^^^^^^\n84 |     if _run_flag:\n85 |         return {\"ok\": True}\n   |\n\nPLW0602 Using global for `_state` but no assignment is done\n  --> inference\\inference_service.py:83:40\n   |\n81 | @app.post(\"/start\")\n82 | def start(req: StartRequest) -> dict[str, bool]:\n83 |     global _model, _run_flag, _thread, _state\n   |                                        ^^^^^^\n84 |     if _run_flag:\n85 |         return {\"ok\": True}\n   |\n\nPLW0603 Using the global statement to update `_run_flag` is discouraged\n   --> inference\\inference_service.py:107:12\n    |\n105 | @app.post(\"/stop\")\n106 | def stop() -> dict[str, bool]:\n107 |     global _run_flag, _thread\n    |            ^^^^^^^^^\n108 |     _run_flag = False\n109 |     if _thread is not None:\n    |\n\nPLW0602 Using global for `_thread` but no assignment is done\n   --> inference\\inference_service.py:107:23\n    |\n105 | @app.post(\"/stop\")\n106 | def stop() -> dict[str, bool]:\n107 |     global _run_flag, _thread\n    |                       ^^^^^^^\n108 |     _run_flag = False\n109 |     if _thread is not None:\n    |\n\nANN204 Missing return type annotation for special method `__init__`\n  --> inference\\model_loader.py:21:9\n   |\n20 | class Model:\n21 |     def __init__(self, path: str):\n   |         ^^^^^^^^\n22 |         self.path = path\n23 |         # In a real implementation: load ONNX Runtime session.\n   |\nhelp: Add return type annotation: `None`\n\nANN001 Missing type annotation for function argument `frame`\n  --> inference\\model_loader.py:25:21\n   |\n23 |         # In a real implementation: load ONNX Runtime session.\n24 |\n25 |     def infer(self, frame) -> list[Detection]:\n   |                     ^^^^^\n26 |         # Stub: randomly generate a handful of detections\n27 |         h, w = frame.shape[:2]\n   |\n\nS311 Standard pseudo-random generators are not suitable for cryptographic purposes\n  --> inference\\model_loader.py:28:15\n   |\n26 |         # Stub: randomly generate a handful of detections\n27 |         h, w = frame.shape[:2]\n28 |         num = random.randint(5, 12)\n   |               ^^^^^^^^^^^^^^^^^^^^^\n29 |         out: list[Detection] = []\n30 |         for _ in range(num):\n   |\n\nS311 Standard pseudo-random generators are not suitable for cryptographic purposes\n  --> inference\\model_loader.py:31:18\n   |\n29 |         out: list[Detection] = []\n30 |         for _ in range(num):\n31 |             bw = random.randint(18, 42)\n   |                  ^^^^^^^^^^^^^^^^^^^^^^\n32 |             bh = random.randint(18, 42)\n33 |             x = random.randint(0, max(0, w - bw - 1))\n   |\n\nS311 Standard pseudo-random generators are not suitable for cryptographic purposes\n  --> inference\\model_loader.py:32:18\n   |\n30 |         for _ in range(num):\n31 |             bw = random.randint(18, 42)\n32 |             bh = random.randint(18, 42)\n   |                  ^^^^^^^^^^^^^^^^^^^^^^\n33 |             x = random.randint(0, max(0, w - bw - 1))\n34 |             y = random.randint(0, max(0, h - bh - 1))\n   |\n\nS311 Standard pseudo-random generators are not suitable for cryptographic purposes\n  --> inference\\model_loader.py:33:17\n   |\n31 |             bw = random.randint(18, 42)\n32 |             bh = random.randint(18, 42)\n33 |             x = random.randint(0, max(0, w - bw - 1))\n   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n34 |             y = random.randint(0, max(0, h - bh - 1))\n35 |             conf = random.uniform(0.6, 0.98)\n   |\n\nS311 Standard pseudo-random generators are not suitable for cryptographic purposes\n  --> inference\\model_loader.py:34:17\n   |\n32 |             bh = random.randint(18, 42)\n33 |             x = random.randint(0, max(0, w - bw - 1))\n34 |             y = random.randint(0, max(0, h - bh - 1))\n   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n35 |             conf = random.uniform(0.6, 0.98)\n36 |             out.append(Detection(bbox=(x, y, bw, bh), confidence=conf, mask=None))\n   |\n\nS311 Standard pseudo-random generators are not suitable for cryptographic purposes\n  --> inference\\model_loader.py:35:20\n   |\n33 |             x = random.randint(0, max(0, w - bw - 1))\n34 |             y = random.randint(0, max(0, h - bh - 1))\n35 |             conf = random.uniform(0.6, 0.98)\n   |                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n36 |             out.append(Detection(bbox=(x, y, bw, bh), confidence=conf, mask=None))\n37 |         return out\n   |\n\nE501 Line too long (99 > 88)\n  --> inference\\session.py:9:89\n   |\n 7 | - counted (final stable count)\n 8 |\n 9 | A simple stabilization logic: require K consecutive frames with same count & confidence>=threshold.\n   |                                                                                         ^^^^^^^^^^^\n10 | \"\"\"\n   |\n\nANN201 Missing return type annotation for public function `update`\n  --> inference\\session.py:28:9\n   |\n26 |     STABLE_REQUIRED: int = 8\n27 |\n28 |     def update(self, count: int | None, confidence: float, reason: str):\n   |         ^^^^^^\n29 |         self.current_count = count\n30 |         self.current_confidence = confidence\n   |\nhelp: Add return type annotation: `None`\n\nANN201 Missing return type annotation for public function `request_shuffle`\n  --> inference\\session.py:55:9\n   |\n53 |             self.stable_frames = 0\n54 |\n55 |     def request_shuffle(self):\n   |         ^^^^^^^^^^^^^^^\n56 |         self.state = \"uncertain\"\n57 |         self.stable_frames = 0\n   |\nhelp: Add return type annotation: `None`\n\nANN201 Missing return type annotation for public function `reset`\n  --> inference\\session.py:59:9\n   |\n57 |         self.stable_frames = 0\n58 |\n59 |     def reset(self):\n   |         ^^^^^\n60 |         self.state = \"idle\"\n61 |         self.current_count = None\n   |\nhelp: Add return type annotation: `None`\n\nANN201 Missing return type annotation for public function `test_iou_basic`\n  --> tests\\test_postprocess.py:9:5\n   |\n 9 | def test_iou_basic():\n   |     ^^^^^^^^^^^^^^\n10 |     a = (0, 0, 10, 10)\n11 |     b = (5, 5, 10, 10)\n   |\nhelp: Add return type annotation: `None`\n\nS101 Use of `assert` detected\n  --> tests\\test_postprocess.py:13:5\n   |\n11 |     b = (5, 5, 10, 10)\n12 |     val = iou(a, b)\n13 |     assert 0 < val < 1\n   |     ^^^^^^\n   |\n\nANN201 Missing return type annotation for public function `test_no_overlap`\n  --> tests\\test_postprocess.py:16:5\n   |\n16 | def test_no_overlap():\n   |     ^^^^^^^^^^^^^^^\n17 |     a = (0, 0, 10, 10)\n18 |     b = (20, 20, 5, 5)\n   |\nhelp: Add return type annotation: `None`\n\nS101 Use of `assert` detected\n  --> tests\\test_postprocess.py:19:5\n   |\n17 |     a = (0, 0, 10, 10)\n18 |     b = (20, 20, 5, 5)\n19 |     assert iou(a, b) == 0\n   |     ^^^^^^\n   |\n\nANN201 Missing return type annotation for public function `test_overlap_cluster_score`\n  --> tests\\test_postprocess.py:22:5\n   |\n22 | def test_overlap_cluster_score():\n   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^\n23 |     dets = [\n24 |         PPDetection(bbox=(0, 0, 10, 10), confidence=0.9),\n   |\nhelp: Add return type annotation: `None`\n\nS101 Use of `assert` detected\n  --> tests\\test_postprocess.py:29:5\n   |\n27 |     ]\n28 |     score = overlap_cluster_score(dets, overlap_iou=0.1)\n29 |     assert 0 < score < 1\n   |     ^^^^^^\n   |\n\nANN201 Missing return type annotation for public function `test_aggregate_ok`\n  --> tests\\test_postprocess.py:32:5\n   |\n32 | def test_aggregate_ok():\n   |     ^^^^^^^^^^^^^^^^^\n33 |     dets = [\n34 |         PPDetection(bbox=(i * 15, 0, 12, 12), confidence=0.9) for i in range(5)\n   |\nhelp: Add return type annotation: `None`\n\nS101 Use of `assert` detected\n  --> tests\\test_postprocess.py:37:5\n   |\n35 |     ]\n36 |     count, conf, reason = aggregate_count_and_confidence(dets)\n37 |     assert count == 5\n   |     ^^^^^^\n38 |     assert conf > 0.5\n39 |     assert reason == \"ok\"\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `5` with a constant variable\n  --> tests\\test_postprocess.py:37:21\n   |\n35 |     ]\n36 |     count, conf, reason = aggregate_count_and_confidence(dets)\n37 |     assert count == 5\n   |                     ^\n38 |     assert conf > 0.5\n39 |     assert reason == \"ok\"\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_postprocess.py:38:5\n   |\n36 |     count, conf, reason = aggregate_count_and_confidence(dets)\n37 |     assert count == 5\n38 |     assert conf > 0.5\n   |     ^^^^^^\n39 |     assert reason == \"ok\"\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `0.5` with a constant variable\n  --> tests\\test_postprocess.py:38:19\n   |\n36 |     count, conf, reason = aggregate_count_and_confidence(dets)\n37 |     assert count == 5\n38 |     assert conf > 0.5\n   |                   ^^^\n39 |     assert reason == \"ok\"\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_postprocess.py:39:5\n   |\n37 |     assert count == 5\n38 |     assert conf > 0.5\n39 |     assert reason == \"ok\"\n   |     ^^^^^^\n   |\n\nANN201 Missing return type annotation for public function `test_aggregate_ambiguous`\n  --> tests\\test_postprocess.py:42:5\n   |\n42 | def test_aggregate_ambiguous():\n   |     ^^^^^^^^^^^^^^^^^^^^^^^^\n43 |     dets = [\n44 |         PPDetection(bbox=(0, 0, 20, 20), confidence=0.9),\n   |\nhelp: Add return type annotation: `None`\n\nRUF059 Unpacked variable `conf` is never used\n  --> tests\\test_postprocess.py:48:12\n   |\n46 |         PPDetection(bbox=(10, 10, 20, 20), confidence=0.88),\n47 |     ]\n48 |     count, conf, reason = aggregate_count_and_confidence(dets, max_overlap_fraction=0.1)\n   |            ^^^^\n49 |     assert count is None\n50 |     assert reason == \"cluster-ambiguous\"\n   |\nhelp: Prefix it with an underscore or any other dummy variable pattern\n\nS101 Use of `assert` detected\n  --> tests\\test_postprocess.py:49:5\n   |\n47 |     ]\n48 |     count, conf, reason = aggregate_count_and_confidence(dets, max_overlap_fraction=0.1)\n49 |     assert count is None\n   |     ^^^^^^\n50 |     assert reason == \"cluster-ambiguous\"\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_postprocess.py:50:5\n   |\n48 |     count, conf, reason = aggregate_count_and_confidence(dets, max_overlap_fraction=0.1)\n49 |     assert count is None\n50 |     assert reason == \"cluster-ambiguous\"\n   |     ^^^^^^\n   |\n\nANN201 Missing return type annotation for public function `test_start_and_status`\n --> tests\\test_service.py:6:5\n  |\n4 | client = TestClient(app)\n5 |\n6 | def test_start_and_status():\n  |     ^^^^^^^^^^^^^^^^^^^^^\n7 |     r = client.post(\"/start\", json={})\n8 |     assert r.status_code == 200\n  |\nhelp: Add return type annotation: `None`\n\nS101 Use of `assert` detected\n  --> tests\\test_service.py:8:5\n   |\n 6 | def test_start_and_status():\n 7 |     r = client.post(\"/start\", json={})\n 8 |     assert r.status_code == 200\n   |     ^^^^^^\n 9 |     s = client.get(\"/status\")\n10 |     assert s.status_code == 200\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `200` with a constant variable\n  --> tests\\test_service.py:8:29\n   |\n 6 | def test_start_and_status():\n 7 |     r = client.post(\"/start\", json={})\n 8 |     assert r.status_code == 200\n   |                             ^^^\n 9 |     s = client.get(\"/status\")\n10 |     assert s.status_code == 200\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_service.py:10:5\n   |\n 8 |     assert r.status_code == 200\n 9 |     s = client.get(\"/status\")\n10 |     assert s.status_code == 200\n   |     ^^^^^^\n11 |     body = s.json()\n12 |     assert \"state\" in body\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `200` with a constant variable\n  --> tests\\test_service.py:10:29\n   |\n 8 |     assert r.status_code == 200\n 9 |     s = client.get(\"/status\")\n10 |     assert s.status_code == 200\n   |                             ^^^\n11 |     body = s.json()\n12 |     assert \"state\" in body\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_service.py:12:5\n   |\n10 |     assert s.status_code == 200\n11 |     body = s.json()\n12 |     assert \"state\" in body\n   |     ^^^^^^\n13 |     assert \"confidence\" in body\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_service.py:13:5\n   |\n11 |     body = s.json()\n12 |     assert \"state\" in body\n13 |     assert \"confidence\" in body\n   |     ^^^^^^\n   |\n\nFound 49 errors.\nNo fixes available (13 hidden fixes can be enabled with the `--unsafe-fixes` option).\n",
                "tool": "ruff_fix",
                "tool_module": "ruff",
                "tool_version": "ruff 0.14.4"
            },
            "exit": "exit 1",
            "message": "ruff_fix failed for x_legatus_capsula_calculus_x (exit 1)\ncwd: C:\\x_runner_x\\x_legatus_capsula_calculus_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311\nstarted_at: 2025-11-10T06:11:15.284603+00:00\nduration: 0.223s\ntool_version: ruff 0.14.4\nstdout:\nPLW0603 Using the global statement to update `LED_STATE` is discouraged\n  --> esp32\\firmware_stub.py:17:12\n   |\n16 | def set_led(state: str) -> None:\n17 |     global LED_STATE\n\u2026\nstderr:\n<empty>",
            "repo": "x_legatus_capsula_calculus_x",
            "repo_path": "C:\\x_runner_x\\x_legatus_capsula_calculus_x",
            "stderr_preview": null,
            "stdout_preview": "PLW0603 Using the global statement to update `LED_STATE` is discouraged\n  --> esp32\\firmware_stub.py:17:12\n   |\n16 | def set_led(state: str) -> None:\n17 |     global LED_STATE\n\u2026",
            "suggested_action": "Investigate",
            "summary": "ruff_fix failed for x_legatus_capsula_calculus_x (exit 1) cwd: C:\\x_runner_x\\x_legatus_capsula_calculus_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC00\u2026",
            "tool": "ruff_fix",
            "tool_version": "ruff 0.14.4"
        },
        {
            "captured_at": "2025-11-10T06:11:20.740137+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "black",
                    ".",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311",
                    "--check",
                    "--diff"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff",
                "cwd": "C:\\x_runner_x\\x_legatus_celer_notitia_x",
                "duration_seconds": 1.7967246000189334,
                "ended_at": "2025-11-10T06:11:20.740137+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "firmware/__init__.py",
                    "firmware/boot.py",
                    "firmware/config_store.py",
                    "firmware/input_handler.py",
                    "firmware/main.py",
                    "firmware/models.py",
                    "firmware/mp_compat.py",
                    "firmware/ota.py",
                    "firmware/render.py",
                    "firmware/server.py",
                    "firmware/sync.py",
                    "firmware/task_store.py",
                    "firmware/wifi_manager.py"
                ],
                "repo": "x_legatus_celer_notitia_x",
                "repo_hash": "f830f8f7aa4a7fccdcc102c2a3689abc23006fa42a966b243b1e5e8c99159f55",
                "repo_path": "C:\\x_runner_x\\x_legatus_celer_notitia_x",
                "started_at": "2025-11-10T06:11:18.943413+00:00",
                "stderr": "would reformat C:\\x_runner_x\\x_legatus_celer_notitia_x\\firmware\\boot.py\nwould reformat C:\\x_runner_x\\x_legatus_celer_notitia_x\\firmware\\main.py\nwould reformat C:\\x_runner_x\\x_legatus_celer_notitia_x\\firmware\\server.py\n\nOh no! \\U0001f4a5 \\U0001f494 \\U0001f4a5\n3 files would be reformatted, 11 files would be left unchanged.\n",
                "stdout": "--- C:\\x_runner_x\\x_legatus_celer_notitia_x\\firmware\\boot.py\t2025-11-08 18:58:08.605487+00:00\n+++ C:\\x_runner_x\\x_legatus_celer_notitia_x\\firmware\\boot.py\t2025-11-10 06:11:20.283326+00:00\n@@ -1,9 +1,10 @@\n try:\n     import machine  # type: ignore\n     import micropython  # type: ignore\n except ImportError:  # pragma: no cover\n+\n     class _PinStub:\n         IN = 0\n         PULL_UP = 0\n \n         def __init__(self, *_args, **_kwargs) -> None:\n--- C:\\x_runner_x\\x_legatus_celer_notitia_x\\firmware\\main.py\t2025-11-08 19:07:36.646180+00:00\n+++ C:\\x_runner_x\\x_legatus_celer_notitia_x\\firmware\\main.py\t2025-11-10 06:11:20.492903+00:00\n@@ -30,11 +30,13 @@\n         delta, pressed = handler.poll()\n         if delta:\n             index = (index + delta) % max(len(tasks), 1)\n             if tasks:\n                 task = tasks[index]\n-                renderer.draw_task(task.get(\"label\", \"Task\"), get_streak(store, task.get(\"id\", \"\")))\n+                renderer.draw_task(\n+                    task.get(\"label\", \"Task\"), get_streak(store, task.get(\"id\", \"\"))\n+                )\n         if pressed and tasks:\n             task = tasks[index]\n             task_id = task.get(\"id\", \"\")\n             entry = store.record(task_id, battery_mv=read_battery())\n             renderer.draw_status(\"Logged\")\n--- C:\\x_runner_x\\x_legatus_celer_notitia_x\\firmware\\server.py\t2025-11-08 18:58:09.200609+00:00\n+++ C:\\x_runner_x\\x_legatus_celer_notitia_x\\firmware\\server.py\t2025-11-10 06:11:20.494120+00:00\n@@ -115,15 +115,17 @@\n         persist_config(self.config)\n         self.store.update_deck(payload)\n         return self._status(HTTP_NO_CONTENT)\n \n     def _handle_deck_get(self) -> bytes:\n-        body_bytes = json.dumps({\n-            \"version\": self.config.get(\"deck\", {}).get(\"version\", 0),\n-            \"tasks\": self.config.get(\"deck\", {}).get(\"tasks\", []),\n-            \"last_sync_seq\": self.config.get(\"last_sync_seq\", 0),\n-        }).encode()\n+        body_bytes = json.dumps(\n+            {\n+                \"version\": self.config.get(\"deck\", {}).get(\"version\", 0),\n+                \"tasks\": self.config.get(\"deck\", {}).get(\"tasks\", []),\n+                \"last_sync_seq\": self.config.get(\"last_sync_seq\", 0),\n+            }\n+        ).encode()\n         return self._json(HTTP_OK, body_bytes)\n \n     def _handle_entries(self, path: str) -> bytes:\n         since = 0\n         if \"?\" in path:\n",
                "tool": "black",
                "tool_module": "black",
                "tool_version": "python -m black, 25.11.0 (compiled: yes)\nPython (CPython) 3.14.0"
            },
            "exit": "exit 1",
            "message": "black failed for x_legatus_celer_notitia_x (exit 1)\ncwd: C:\\x_runner_x\\x_legatus_celer_notitia_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff\nstarted_at: 2025-11-10T06:11:18.943413+00:00\nduration: 1.797s\ntool_version: python -m black, 25.11.0 (compiled: yes)\nPython (CPython) 3.14.0\nstdout:\n--- C:\\x_runner_x\\x_legatus_celer_notitia_x\\firmware\\boot.py\t2025-11-08 18:58:08.605487+00:00\n+++ C:\\x_runner_x\\x_legatus_celer_notitia_x\\firmware\\boot.py\t2025-11-10 06:11:20.283326+00:00\n@@ -1,9 +1,10 @@\n try:\n     import machine  # type: ignore\n\u2026\nstderr:\nwould reformat C:\\x_runner_x\\x_legatus_celer_notitia_x\\firmware\\boot.py\nwould reformat C:\\x_runner_x\\x_legatus_celer_notitia_x\\firmware\\main.py\nwould reformat C:\\x_runner_x\\x_legatus_celer_notitia_x\\firmware\\server.py\n\nOh no! \\U0001f4a5 \\U0001f494 \\U0001f4a5\n\u2026",
            "repo": "x_legatus_celer_notitia_x",
            "repo_path": "C:\\x_runner_x\\x_legatus_celer_notitia_x",
            "stderr_preview": "would reformat C:\\x_runner_x\\x_legatus_celer_notitia_x\\firmware\\boot.py\nwould reformat C:\\x_runner_x\\x_legatus_celer_notitia_x\\firmware\\main.py\nwould reformat C:\\x_runner_x\\x_legatus_celer_notitia_x\\firmware\\server.py\n\nOh no! \\U0001f4a5 \\U0001f494 \\U0001f4a5\n\u2026",
            "stdout_preview": "--- C:\\x_runner_x\\x_legatus_celer_notitia_x\\firmware\\boot.py\t2025-11-08 18:58:08.605487+00:00\n+++ C:\\x_runner_x\\x_legatus_celer_notitia_x\\firmware\\boot.py\t2025-11-10 06:11:20.283326+00:00\n@@ -1,9 +1,10 @@\n try:\n     import machine  # type: ignore\n\u2026",
            "suggested_action": "Investigate",
            "summary": "black failed for x_legatus_celer_notitia_x (exit 1) cwd: C:\\x_runner_x\\x_legatus_celer_notitia_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff s\u2026",
            "tool": "black",
            "tool_version": "python -m black, 25.11.0 (compiled: yes)\nPython (CPython) 3.14.0"
        },
        {
            "captured_at": "2025-11-10T06:11:29.979664+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m mypy --package x_legatus_celer_notitia_x --strict --no-warn-unused-configs --show-error-codes --warn-return-any --warn-unreachable --disallow-any-unimported --disallow-any-expr --disallow-any-decorated --disallow-any-explicit",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "mypy",
                    "--package",
                    "x_legatus_celer_notitia_x",
                    "--strict",
                    "--no-warn-unused-configs",
                    "--show-error-codes",
                    "--warn-return-any",
                    "--warn-unreachable",
                    "--disallow-any-unimported",
                    "--disallow-any-expr",
                    "--disallow-any-decorated",
                    "--disallow-any-explicit"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m mypy --package x_legatus_celer_notitia_x --strict --no-warn-unused-configs --show-error-codes --warn-return-any --warn-unreachable --disallow-any-unimported --disallow-any-expr --disallow-any-decorated --disallow-any-explicit",
                "cwd": "C:\\x_runner_x\\x_legatus_celer_notitia_x",
                "duration_seconds": 9.089474299980793,
                "ended_at": "2025-11-10T06:11:29.979664+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "firmware/__init__.py",
                    "firmware/boot.py",
                    "firmware/config_store.py",
                    "firmware/input_handler.py",
                    "firmware/main.py",
                    "firmware/models.py",
                    "firmware/mp_compat.py",
                    "firmware/ota.py",
                    "firmware/render.py",
                    "firmware/server.py",
                    "firmware/sync.py",
                    "firmware/task_store.py",
                    "firmware/wifi_manager.py"
                ],
                "repo": "x_legatus_celer_notitia_x",
                "repo_hash": "f830f8f7aa4a7fccdcc102c2a3689abc23006fa42a966b243b1e5e8c99159f55",
                "repo_path": "C:\\x_runner_x\\x_legatus_celer_notitia_x",
                "started_at": "2025-11-10T06:11:20.890192+00:00",
                "stderr": "",
                "stdout": "firmware\\render.py:4: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\render.py:13: error: Expression has type \"Any\"  [misc]\nfirmware\\render.py:14: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\render.py:14: error: Expression has type \"Any\"  [misc]\nfirmware\\render.py:14: note: Error code \"misc\" not covered by \"type: ignore\" comment\nfirmware\\render.py:19: error: Expression has type \"Any\"  [misc]\nfirmware\\render.py:20: error: Expression has type \"Any\"  [misc]\nfirmware\\render.py:21: error: Expression has type \"Any\"  [misc]\nfirmware\\render.py:22: error: Expression has type \"Any\"  [misc]\nfirmware\\render.py:26: error: Expression has type \"Any\"  [misc]\nfirmware\\render.py:27: error: Expression has type \"Any\"  [misc]\nfirmware\\render.py:28: error: Expression has type \"Any\"  [misc]\nfirmware\\boot.py:9: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]\nfirmware\\boot.py:16: error: Expression type contains \"Any\" (has type \"type[_PinStub]\")  [misc]\nfirmware\\boot.py:21: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\boot.py:22: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\boot.py:24: error: Expression has type \"Any\"  [misc]\nfirmware\\boot.py:25: error: Expression has type \"Any\"  [misc]\nfirmware\\boot.py:29: error: Expression has type \"Any\"  [misc]\nfirmware\\boot.py:31: error: Expression has type \"Any\"  [misc]\nfirmware\\boot.py:32: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\boot.py:32: error: Expression has type \"Any\"  [misc]\nfirmware\\boot.py:32: note: Error code \"misc\" not covered by \"type: ignore\" comment\nfirmware\\wifi_manager.py:2: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\wifi_manager.py:6: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\wifi_manager.py:7: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\wifi_manager.py:14: error: Expression has type \"Any\"  [misc]\nfirmware\\wifi_manager.py:16: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\wifi_manager.py:16: error: Expression has type \"Any\"  [misc]\nfirmware\\wifi_manager.py:16: note: Error code \"misc\" not covered by \"type: ignore\" comment\nfirmware\\wifi_manager.py:17: error: Expression has type \"Any\"  [misc]\nfirmware\\wifi_manager.py:18: error: Expression has type \"Any\"  [misc]\nfirmware\\wifi_manager.py:19: error: Expression has type \"Any\"  [misc]\nfirmware\\wifi_manager.py:21: error: Expression has type \"Any\"  [misc]\nfirmware\\wifi_manager.py:23: error: Expression has type \"Any\"  [misc]\nfirmware\\wifi_manager.py:26: error: Returning Any from function declared to return \"bool\"  [no-any-return]\nfirmware\\wifi_manager.py:26: error: Expression has type \"Any\"  [misc]\nfirmware\\wifi_manager.py:30: error: Expression has type \"Any\"  [misc]\nfirmware\\wifi_manager.py:32: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\wifi_manager.py:32: error: Expression has type \"Any\"  [misc]\nfirmware\\wifi_manager.py:32: note: Error code \"misc\" not covered by \"type: ignore\" comment\nfirmware\\wifi_manager.py:33: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nfirmware\\wifi_manager.py:33: error: Expression has type \"Any\"  [misc]\nfirmware\\wifi_manager.py:34: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nfirmware\\wifi_manager.py:36: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nfirmware\\wifi_manager.py:36: error: Expression has type \"Any\"  [misc]\nfirmware\\wifi_manager.py:37: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nfirmware\\wifi_manager.py:42: error: Expression has type \"Any\"  [misc]\nfirmware\\wifi_manager.py:44: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\wifi_manager.py:44: error: Expression has type \"Any\"  [misc]\nfirmware\\wifi_manager.py:44: note: Error code \"misc\" not covered by \"type: ignore\" comment\nfirmware\\wifi_manager.py:45: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nfirmware\\wifi_manager.py:45: error: Expression has type \"Any\"  [misc]\nfirmware\\wifi_manager.py:46: error: Expression has type \"Any\"  [misc]\nfirmware\\wifi_manager.py:46: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nfirmware\\input_handler.py:2: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\input_handler.py:6: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\input_handler.py:7: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\input_handler.py:18: error: Expression has type \"Any\"  [misc]\nfirmware\\input_handler.py:19: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\input_handler.py:19: error: Expression has type \"Any\"  [misc]\nfirmware\\input_handler.py:19: note: Error code \"misc\" not covered by \"type: ignore\" comment\nfirmware\\input_handler.py:20: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\input_handler.py:20: error: Expression has type \"Any\"  [misc]\nfirmware\\input_handler.py:20: note: Error code \"misc\" not covered by \"type: ignore\" comment\nfirmware\\input_handler.py:21: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\input_handler.py:21: error: Expression has type \"Any\"  [misc]\nfirmware\\input_handler.py:21: note: Error code \"misc\" not covered by \"type: ignore\" comment\nfirmware\\input_handler.py:31: error: Expression has type \"Any\"  [misc]\nfirmware\\input_handler.py:32: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\input_handler.py:32: error: Expression has type \"Any\"  [misc]\nfirmware\\input_handler.py:32: note: Error code \"misc\" not covered by \"type: ignore\" comment\nfirmware\\input_handler.py:33: error: Expression has type \"Any\"  [misc]\nfirmware\\input_handler.py:34: error: Expression has type \"Any\"  [misc]\nfirmware\\input_handler.py:34: error: Expression type contains \"Any\" (has type \"Any | bool\")  [misc]\nfirmware\\input_handler.py:36: error: Expression has type \"Any\"  [misc]\nfirmware\\input_handler.py:36: error: Expression type contains \"Any\" (has type \"Any | bool\")  [misc]\nfirmware\\input_handler.py:39: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\input_handler.py:39: error: Expression has type \"Any\"  [misc]\nfirmware\\input_handler.py:39: note: Error code \"misc\" not covered by \"type: ignore\" comment\nfirmware\\input_handler.py:39: error: Expression type contains \"Any\" (has type \"Literal[False] | Any\")  [misc]\nfirmware\\input_handler.py:41: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nfirmware\\input_handler.py:42: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nfirmware\\task_store.py:2: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\task_store.py:3: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\task_store.py:13: error: Missing type parameters for generic type \"dict\"  [type-arg]\nfirmware\\task_store.py:14: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nfirmware\\task_store.py:15: error: Need type annotation for \"entries\" (hint: \"entries: list[<type>] = ...\")  [var-annotated]\nfirmware\\task_store.py:19: error: Missing type parameters for generic type \"dict\"  [type-arg]\nfirmware\\task_store.py:26: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\task_store.py:36: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\task_store.py:41: error: Expression has type \"Any\"  [misc]\nfirmware\\task_store.py:42: error: Expression type contains \"Any\" (has type \"list[Any]\")  [misc]\nfirmware\\task_store.py:42: error: Expression has type \"Any\"  [misc]\nfirmware\\task_store.py:43: error: Expression has type \"Any\"  [misc]\nfirmware\\task_store.py:47: error: Missing type parameters for generic type \"dict\"  [type-arg]\nfirmware\\task_store.py:56: error: Expression type contains \"Any\" (has type \"list[Any]\")  [misc]\nfirmware\\task_store.py:57: error: Expression type contains \"Any\" (has type \"list[Any]\")  [misc]\nfirmware\\task_store.py:58: error: Expression type contains \"Any\" (has type \"list[Any]\")  [misc]\nfirmware\\task_store.py:62: error: Missing type parameters for generic type \"list\"  [type-arg]\nfirmware\\task_store.py:63: error: Expression has type \"Any\"  [misc]\nfirmware\\task_store.py:63: error: Expression type contains \"Any\" (has type \"list[Any]\")  [misc]\nfirmware\\task_store.py:65: error: Missing type parameters for generic type \"dict\"  [type-arg]\nfirmware\\task_store.py:68: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\task_store.py:69: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nfirmware\\ota.py:4: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\ota.py:8: error: Expression has type \"Any\"  [misc]\nfirmware\\ota.py:9: error: Expression has type \"Any\"  [misc]\nfirmware\\ota.py:10: error: Expression has type \"Any\"  [misc]\nfirmware\\ota.py:11: error: Returning Any from function declared to return \"bool\"  [no-any-return]\nfirmware\\ota.py:11: error: Expression has type \"Any\"  [misc]\nfirmware\\config_store.py:2: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\config_store.py:3: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\config_store.py:4: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\config_store.py:31: error: Missing type parameters for generic type \"dict\"  [type-arg]\nfirmware\\config_store.py:33: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\config_store.py:34: error: Returning Any from function declared to return \"dict[Any, Any]\"  [no-any-return]\nfirmware\\config_store.py:34: error: Expression has type \"Any\"  [misc]\nfirmware\\config_store.py:37: error: Incompatible types in assignment (expression has type \"str\", target has type \"int | dict[str, object] | dict[str, None] | None\")  [assignment]\nfirmware\\config_store.py:38: error: Incompatible types in assignment (expression has type \"str\", target has type \"int | dict[str, object] | dict[str, None] | None\")  [assignment]\nfirmware\\config_store.py:43: error: Missing type parameters for generic type \"dict\"  [type-arg]\nfirmware\\config_store.py:46: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\config_store.py:47: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nfirmware\\config_store.py:52: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nfirmware\\config_store.py:53: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nfirmware\\config_store.py:54: error: Returning Any from function declared to return \"str\"  [no-any-return]\nfirmware\\config_store.py:54: error: Expression has type \"Any\"  [misc]\nfirmware\\config_store.py:55: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nfirmware\\config_store.py:56: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nfirmware\\config_store.py:57: error: Expression has type \"Any\"  [misc]\nfirmware\\config_store.py:58: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nfirmware\\config_store.py:59: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nfirmware\\config_store.py:60: error: Expression has type \"Any\"  [misc]\nfirmware\\sync.py:4: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\sync.py:9: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\sync.py:14: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\sync.py:26: error: Expression has type \"Any\"  [misc]\nfirmware\\sync.py:29: error: Expression has type \"Any\"  [misc]\nfirmware\\sync.py:31: error: Missing type parameters for generic type \"list\"  [type-arg]\nfirmware\\sync.py:34: error: Statement is unreachable  [unreachable]\nfirmware\\sync.py:39: error: Statement is unreachable  [unreachable]\nfirmware\\sync.py:43: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]\nfirmware\\sync.py:46: error: Expression has type \"Any\"  [misc]\nfirmware\\sync.py:47: error: Expression has type \"Any\"  [misc]\nfirmware\\sync.py:48: error: Expression has type \"Any\"  [misc]\nfirmware\\sync.py:49: error: Expression has type \"Any\"  [misc]\nfirmware\\sync.py:52: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:4: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\server.py:9: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\server.py:11: error: Cannot find implementation or library stub for module named \"config_store\"  [import-not-found]\nfirmware\\server.py:12: error: Cannot find implementation or library stub for module named \"task_store\"  [import-not-found]\nfirmware\\server.py:23: error: Argument 3 to \"__init__\" becomes \"Any\" due to an unfollowed import  [no-any-unimported]\nfirmware\\server.py:23: error: Missing type parameters for generic type \"dict\"  [type-arg]\nfirmware\\server.py:24: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nfirmware\\server.py:25: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:29: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:29: error: Expression type contains \"Any\" (has type \"Callable[[Any, Any], Coroutine[Any, Any, None]]\")  [misc]\nfirmware\\server.py:33: error: Statement is unreachable  [unreachable]\nfirmware\\server.py:39: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:40: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:41: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:42: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:45: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:48: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nfirmware\\server.py:48: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:49: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nfirmware\\server.py:50: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:52: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\server.py:52: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:52: note: Error code \"misc\" not covered by \"type: ignore\" comment\nfirmware\\server.py:56: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:57: error: Expression type contains \"Any\" (has type \"Literal[True] | Any\")  [misc]\nfirmware\\server.py:57: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:59: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:60: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nfirmware\\server.py:60: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:61: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nfirmware\\server.py:61: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:64: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:65: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:66: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:67: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nfirmware\\server.py:68: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:70: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\server.py:70: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:70: note: Error code \"misc\" not covered by \"type: ignore\" comment\nfirmware\\server.py:73: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nfirmware\\server.py:73: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:74: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nfirmware\\server.py:75: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:76: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nfirmware\\server.py:76: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:77: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nfirmware\\server.py:78: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:100: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nfirmware\\server.py:101: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nfirmware\\server.py:101: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nfirmware\\server.py:101: error: Expression type contains \"Any\" (has type \"Any | bool\")  [misc]\nfirmware\\server.py:103: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nfirmware\\server.py:103: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:104: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:104: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nfirmware\\server.py:104: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nfirmware\\server.py:105: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:105: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nfirmware\\server.py:105: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nfirmware\\server.py:106: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nfirmware\\server.py:106: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nfirmware\\server.py:107: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nfirmware\\server.py:107: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:108: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nfirmware\\server.py:109: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:109: error: Expression type contains \"Any\" (has type \"dict[str, Any | None]\")  [misc]\nfirmware\\server.py:109: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nfirmware\\server.py:109: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nfirmware\\server.py:110: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:113: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nfirmware\\server.py:114: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nfirmware\\server.py:115: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nfirmware\\server.py:116: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:116: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nfirmware\\server.py:120: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:120: error: Expression type contains \"Any\" (has type \"dict[str, Any]\")  [misc]\nfirmware\\server.py:121: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nfirmware\\server.py:121: error: Expression type contains \"Any\" (has type \"Any | dict[Never, Never]\")  [misc]\nfirmware\\server.py:121: error: No overload variant of \"get\" of \"dict\" matches argument types \"str\", \"int\"  [call-overload]\nfirmware\\server.py:121: note: Possible overload variants:\nfirmware\\server.py:121: note:     def get(self, Never, None = ..., /) -> None\nfirmware\\server.py:121: note:     def get(self, Never, Never, /) -> Never\nfirmware\\server.py:121: note:     def [_T] get(self, Never, _T, /) -> _T\nfirmware\\server.py:121: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:122: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nfirmware\\server.py:122: error: Expression type contains \"Any\" (has type \"Any | dict[Never, Never]\")  [misc]\nfirmware\\server.py:122: error: No overload variant of \"get\" of \"dict\" matches argument types \"str\", \"list[Never]\"  [call-overload]\nfirmware\\server.py:122: note: Possible overload variants:\nfirmware\\server.py:122: note:     def get(self, Never, None = ..., /) -> None\nfirmware\\server.py:122: note:     def get(self, Never, Never, /) -> Never\nfirmware\\server.py:122: note:     def [_T] get(self, Never, _T, /) -> _T\nfirmware\\server.py:122: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:123: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nfirmware\\server.py:123: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:125: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:137: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:138: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:138: error: Expression type contains \"Any\" (has type \"dict[str, Any]\")  [misc]\nfirmware\\server.py:139: error: Expression has type \"Any\"  [misc]\nfirmware\\server.py:141: error: Missing type parameters for generic type \"dict\"  [type-arg]\nfirmware\\server.py:145: error: Returning Any from function declared to return \"dict[Any, Any]\"  [no-any-return]\nfirmware\\server.py:145: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:4: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\main.py:9: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\main.py:11: error: Cannot find implementation or library stub for module named \"wifi_manager\"  [import-not-found]\nfirmware\\main.py:11: note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports\nfirmware\\main.py:12: error: Cannot find implementation or library stub for module named \"config_store\"  [import-not-found]\nfirmware\\main.py:13: error: Cannot find implementation or library stub for module named \"input_handler\"  [import-not-found]\nfirmware\\main.py:14: error: Cannot find implementation or library stub for module named \"render\"  [import-not-found]\nfirmware\\main.py:15: error: Cannot find implementation or library stub for module named \"server\"  [import-not-found]\nfirmware\\main.py:16: error: Cannot find implementation or library stub for module named \"sync\"  [import-not-found]\nfirmware\\main.py:17: error: Cannot find implementation or library stub for module named \"task_store\"  [import-not-found]\nfirmware\\main.py:22: error: Argument 1 to \"handle_input\" becomes \"Any\" due to an unfollowed import  [no-any-unimported]\nfirmware\\main.py:22: error: Argument 2 to \"handle_input\" becomes \"Any\" due to an unfollowed import  [no-any-unimported]\nfirmware\\main.py:22: error: Missing type parameters for generic type \"dict\"  [type-arg]\nfirmware\\main.py:23: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:25: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:27: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nfirmware\\main.py:27: error: Expression type contains \"Any\" (has type \"Any | dict[Never, Never]\")  [misc]\nfirmware\\main.py:27: error: No overload variant of \"get\" of \"dict\" matches argument types \"str\", \"list[Never]\"  [call-overload]\nfirmware\\main.py:27: note: Possible overload variants:\nfirmware\\main.py:27: note:     def get(self, Never, None = ..., /) -> None\nfirmware\\main.py:27: note:     def get(self, Never, Never, /) -> Never\nfirmware\\main.py:27: note:     def [_T] get(self, Never, _T, /) -> _T\nfirmware\\main.py:27: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:28: error: Expression type contains \"Any\" (has type \"Literal[False] | Any\")  [misc]\nfirmware\\main.py:28: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:30: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:31: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:32: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:33: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:34: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:35: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:36: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:37: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:38: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:39: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:40: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:41: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:44: error: Argument 1 to \"get_streak\" becomes \"Any\" due to an unfollowed import  [no-any-unimported]\nfirmware\\main.py:48: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:48: error: Expression type contains \"Any\" (has type \"reversed[Any]\")  [misc]\nfirmware\\main.py:49: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:57: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:57: error: Expression type contains \"Any\" (has type \"Any | bool\")  [misc]\nfirmware\\main.py:58: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\main.py:58: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:58: note: Error code \"misc\" not covered by \"type: ignore\" comment\nfirmware\\main.py:59: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:63: error: Argument 1 to \"fetch_pending\" becomes \"Any\" due to an unfollowed import  [no-any-unimported]\nfirmware\\main.py:63: error: Missing type parameters for generic type \"list\"  [type-arg]\nfirmware\\main.py:64: error: Returning Any from function declared to return \"list[Any]\"  [no-any-return]\nfirmware\\main.py:64: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:68: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:69: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:70: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:71: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:72: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:74: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:75: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:76: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:78: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:80: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:82: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:86: error: Missing type parameters for generic type \"list\"  [type-arg]\nfirmware\\main.py:87: error: Expression type contains \"Any\" (has type \"list[Any]\")  [misc]\nfirmware\\main.py:89: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:89: error: Expression type contains \"Any\" (has type \"Generator[Any, None, None]\")  [misc]\nfirmware\\main.py:89: error: Expression type contains \"Any\" (has type \"list[Any]\")  [misc]\nfirmware\\main.py:90: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:91: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:93: error: Missing type parameters for generic type \"list\"  [type-arg]\nfirmware\\main.py:94: error: Expression type contains \"Any\" (has type \"list[Any]\")  [misc]\nfirmware\\main.py:94: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:96: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:96: error: Expression type contains \"Any\" (has type \"Callable[[], list[Any]]\")  [misc]\nfirmware\\main.py:96: error: Expression type contains \"Any\" (has type \"Callable[[list[Any]], None]\")  [misc]\nfirmware\\main.py:97: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:101: error: Expression has type \"Any\"  [misc]\nFound 300 errors in 10 files (checked 16 source files)\n",
                "tool": "mypy",
                "tool_module": "mypy",
                "tool_version": "mypy 1.18.2 (compiled: yes)"
            },
            "exit": "exit 1",
            "message": "mypy failed for x_legatus_celer_notitia_x (exit 1)\ncwd: C:\\x_runner_x\\x_legatus_celer_notitia_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m mypy --package x_legatus_celer_notitia_x --strict --no-warn-unused-configs --show-error-codes --warn-return-any --warn-unreachable --disallow-any-unimported --disallow-any-expr --disallow-any-decorated --disallow-any-explicit\nstarted_at: 2025-11-10T06:11:20.890192+00:00\nduration: 9.089s\ntool_version: mypy 1.18.2 (compiled: yes)\nstdout:\nfirmware\\render.py:4: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\render.py:13: error: Expression has type \"Any\"  [misc]\nfirmware\\render.py:14: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\render.py:14: error: Expression has type \"Any\"  [misc]\nfirmware\\render.py:14: note: Error code \"misc\" not covered by \"type: ignore\" comment\n\u2026\nstderr:\n<empty>",
            "repo": "x_legatus_celer_notitia_x",
            "repo_path": "C:\\x_runner_x\\x_legatus_celer_notitia_x",
            "stderr_preview": null,
            "stdout_preview": "firmware\\render.py:4: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\render.py:13: error: Expression has type \"Any\"  [misc]\nfirmware\\render.py:14: error: Unused \"type: ignore\" comment  [unused-ignore]\nfirmware\\render.py:14: error: Expression has type \"Any\"  [misc]\nfirmware\\render.py:14: note: Error code \"misc\" not covered by \"type: ignore\" comment\n\u2026",
            "suggested_action": "Investigate",
            "summary": "mypy failed for x_legatus_celer_notitia_x (exit 1) cwd: C:\\x_runner_x\\x_legatus_celer_notitia_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m mypy --package x_legatus_celer_notitia_x --strict --no-warn-unuse\u2026",
            "tool": "mypy",
            "tool_version": "mypy 1.18.2 (compiled: yes)"
        },
        {
            "captured_at": "2025-11-10T06:11:20.879402+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "ruff",
                    "check",
                    ".",
                    "--select",
                    "ALL",
                    "--ignore",
                    "D,COM812,ISC001,T20",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
                "cwd": "C:\\x_runner_x\\x_legatus_celer_notitia_x",
                "duration_seconds": 0.1357410000055097,
                "ended_at": "2025-11-10T06:11:20.879402+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "firmware/__init__.py",
                    "firmware/boot.py",
                    "firmware/config_store.py",
                    "firmware/input_handler.py",
                    "firmware/main.py",
                    "firmware/models.py",
                    "firmware/mp_compat.py",
                    "firmware/ota.py",
                    "firmware/render.py",
                    "firmware/server.py",
                    "firmware/sync.py",
                    "firmware/task_store.py",
                    "firmware/wifi_manager.py"
                ],
                "repo": "x_legatus_celer_notitia_x",
                "repo_hash": "f830f8f7aa4a7fccdcc102c2a3689abc23006fa42a966b243b1e5e8c99159f55",
                "repo_path": "C:\\x_runner_x\\x_legatus_celer_notitia_x",
                "started_at": "2025-11-10T06:11:20.743663+00:00",
                "stderr": "",
                "stdout": "PGH003 Use specific rule codes when ignoring type issues\n --> firmware\\boot.py:2:21\n  |\n1 | try:\n2 |     import machine  # type: ignore\n  |                     ^^^^^^^^^^^^^^\n3 |     import micropython  # type: ignore\n4 | except ImportError:  # pragma: no cover\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\boot.py:3:25\n  |\n1 | try:\n2 |     import machine  # type: ignore\n3 |     import micropython  # type: ignore\n  |                         ^^^^^^^^^^^^^^\n4 | except ImportError:  # pragma: no cover\n5 |     class _PinStub:\n  |\n\nANN002 Missing type annotation for `*_args`\n  --> firmware\\boot.py:9:28\n   |\n 7 |         PULL_UP = 0\n 8 |\n 9 |         def __init__(self, *_args, **_kwargs) -> None:\n   |                            ^^^^^^\n10 |             self._value = 1\n   |\n\nANN003 Missing type annotation for `**_kwargs`\n  --> firmware\\boot.py:9:36\n   |\n 7 |         PULL_UP = 0\n 8 |\n 9 |         def __init__(self, *_args, **_kwargs) -> None:\n   |                                    ^^^^^^^^^\n10 |             self._value = 1\n   |\n\nANN002 Missing type annotation for `*_args`\n  --> firmware\\boot.py:18:30\n   |\n16 |         Pin = _PinStub\n17 |\n18 |         def lightsleep(self, *_args, **_kwargs) -> None:  # type: ignore[no-untyped-def]\n   |                              ^^^^^^\n19 |             return None\n   |\n\nANN003 Missing type annotation for `**_kwargs`\n  --> firmware\\boot.py:18:38\n   |\n16 |         Pin = _PinStub\n17 |\n18 |         def lightsleep(self, *_args, **_kwargs) -> None:  # type: ignore[no-untyped-def]\n   |                                      ^^^^^^^^^\n19 |             return None\n   |\n\nPGH003 Use specific rule codes when ignoring type issues\n  --> firmware\\boot.py:21:31\n   |\n19 |             return None\n20 |\n21 |     machine = _MachineStub()  # type: ignore\n   |                               ^^^^^^^^^^^^^^\n22 |     micropython = None  # type: ignore\n   |\n\nPGH003 Use specific rule codes when ignoring type issues\n  --> firmware\\boot.py:22:25\n   |\n21 |     machine = _MachineStub()  # type: ignore\n22 |     micropython = None  # type: ignore\n   |                         ^^^^^^^^^^^^^^\n23 |\n24 | if micropython:\n   |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\config_store.py:2:18\n  |\n1 | try:\n2 |     import json  # type: ignore\n  |                  ^^^^^^^^^^^^^^\n3 |     import os  # type: ignore\n4 |     import secrets  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\config_store.py:3:16\n  |\n1 | try:\n2 |     import json  # type: ignore\n3 |     import os  # type: ignore\n  |                ^^^^^^^^^^^^^^\n4 |     import secrets  # type: ignore\n5 | except ImportError:  # pragma: no cover\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\config_store.py:4:21\n  |\n2 |     import json  # type: ignore\n3 |     import os  # type: ignore\n4 |     import secrets  # type: ignore\n  |                     ^^^^^^^^^^^^^^\n5 | except ImportError:  # pragma: no cover\n6 |     import ujson as json  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\config_store.py:6:27\n  |\n4 |     import secrets  # type: ignore\n5 | except ImportError:  # pragma: no cover\n6 |     import ujson as json  # type: ignore\n  |                           ^^^^^^^^^^^^^^\n7 |     import uos as os  # type: ignore\n8 |     import urandom as secrets  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\config_store.py:7:23\n  |\n5 | except ImportError:  # pragma: no cover\n6 |     import ujson as json  # type: ignore\n7 |     import uos as os  # type: ignore\n  |                       ^^^^^^^^^^^^^^\n8 |     import urandom as secrets  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n  --> firmware\\config_store.py:8:32\n   |\n 6 |     import ujson as json  # type: ignore\n 7 |     import uos as os  # type: ignore\n 8 |     import urandom as secrets  # type: ignore\n   |                                ^^^^^^^^^^^^^^\n 9 |\n10 | CONFIG_PATH = \"/config/device.json\"\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `2` with a constant variable\n  --> firmware\\config_store.py:24:43\n   |\n22 | def _ensure_dir(path: str) -> None:\n23 |     parts = path.rsplit(\"/\", 1)\n24 |     directory = parts[0] if len(parts) == 2 else \"/\"\n   |                                           ^\n25 |     try:\n26 |         os.mkdir(directory)\n   |\n\nSIM105 Use `contextlib.suppress(OSError)` instead of `try`-`except`-`pass`\n  --> firmware\\config_store.py:25:5\n   |\n23 |       parts = path.rsplit(\"/\", 1)\n24 |       directory = parts[0] if len(parts) == 2 else \"/\"\n25 | /     try:\n26 | |         os.mkdir(directory)\n27 | |     except OSError:\n28 | |         pass\n   | |____________^\n   |\nhelp: Replace `try`-`except`-`pass` with `with contextlib.suppress(OSError): ...`\n\nPTH123 `open()` should be replaced by `Path.open()`\n  --> firmware\\config_store.py:33:14\n   |\n31 | def load_config(path: str = CONFIG_PATH) -> dict:\n32 |     try:\n33 |         with open(path) as fp:  # type: ignore\n   |              ^^^^\n34 |             return json.load(fp)\n35 |     except OSError:\n   |\nhelp: Replace with `Path.open()`\n\nPGH003 Use specific rule codes when ignoring type issues\n  --> firmware\\config_store.py:33:33\n   |\n31 | def load_config(path: str = CONFIG_PATH) -> dict:\n32 |     try:\n33 |         with open(path) as fp:  # type: ignore\n   |                                 ^^^^^^^^^^^^^^\n34 |             return json.load(fp)\n35 |     except OSError:\n   |\n\nPTH123 `open()` should be replaced by `Path.open()`\n  --> firmware\\config_store.py:46:10\n   |\n44 |     _ensure_dir(path)\n45 |     tmp_path = path + \".tmp\"\n46 |     with open(tmp_path, \"w\") as fp:  # type: ignore\n   |          ^^^^\n47 |         json.dump(config, fp)\n48 |     os.rename(tmp_path, path)\n   |\nhelp: Replace with `Path.open()`\n\nPGH003 Use specific rule codes when ignoring type issues\n  --> firmware\\config_store.py:46:38\n   |\n44 |     _ensure_dir(path)\n45 |     tmp_path = path + \".tmp\"\n46 |     with open(tmp_path, \"w\") as fp:  # type: ignore\n   |                                      ^^^^^^^^^^^^^^\n47 |         json.dump(config, fp)\n48 |     os.rename(tmp_path, path)\n   |\n\nUP031 Use format specifiers instead of percent format\n  --> firmware\\config_store.py:57:24\n   |\n55 |     urandom_fn = getattr(secrets, \"urandom\", None)\n56 |     if urandom_fn:\n57 |         return \"\".join(\"%02x\" % b for b in urandom_fn(length))\n   |                        ^^^^^^^^^^\n58 |     getrandbits = getattr(secrets, \"getrandbits\", None)\n59 |     if getrandbits:\n   |\nhelp: Replace with format specifiers\n\nUP031 Use format specifiers instead of percent format\n  --> firmware\\config_store.py:60:24\n   |\n58 |     getrandbits = getattr(secrets, \"getrandbits\", None)\n59 |     if getrandbits:\n60 |         return \"\".join(\"%02x\" % getrandbits(8) for _ in range(length))\n   |                        ^^^^^^^^^^^^^^^^^^^^^^^\n61 |     raise RuntimeError(\"no entropy source\")\n   |\nhelp: Replace with format specifiers\n\nTRY003 Avoid specifying long messages outside the exception class\n  --> firmware\\config_store.py:61:11\n   |\n59 |     if getrandbits:\n60 |         return \"\".join(\"%02x\" % getrandbits(8) for _ in range(length))\n61 |     raise RuntimeError(\"no entropy source\")\n   |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n   |\n\nEM101 Exception must not use a string literal, assign to variable first\n  --> firmware\\config_store.py:61:24\n   |\n59 |     if getrandbits:\n60 |         return \"\".join(\"%02x\" % getrandbits(8) for _ in range(length))\n61 |     raise RuntimeError(\"no entropy source\")\n   |                        ^^^^^^^^^^^^^^^^^^^\n   |\nhelp: Assign to variable; remove string literal\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\input_handler.py:2:18\n  |\n1 | try:\n2 |     import time  # type: ignore\n  |                  ^^^^^^^^^^^^^^\n3 |\n4 |     import machine  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\input_handler.py:4:21\n  |\n2 |     import time  # type: ignore\n3 |\n4 |     import machine  # type: ignore\n  |                     ^^^^^^^^^^^^^^\n5 | except ImportError:  # pragma: no cover\n6 |     machine = None  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\input_handler.py:6:21\n  |\n4 |     import machine  # type: ignore\n5 | except ImportError:  # pragma: no cover\n6 |     machine = None  # type: ignore\n  |                     ^^^^^^^^^^^^^^\n7 |     import time  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\input_handler.py:7:18\n  |\n5 | except ImportError:  # pragma: no cover\n6 |     machine = None  # type: ignore\n7 |     import time  # type: ignore\n  |                  ^^^^^^^^^^^^^^\n8 |\n9 | ROT_A_PIN = 32\n  |\n\nPLR2004 Magic value used in comparison, consider replacing `0b10` with a constant variable\n  --> firmware\\input_handler.py:36:31\n   |\n34 |                 if state == 0b01 and self._last_state == 0b00:\n35 |                     delta = 1\n36 |                 elif state == 0b10 and self._last_state == 0b00:\n   |                               ^^^^\n37 |                     delta = -1\n38 |                 self._last_state = state\n   |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\main.py:2:33\n  |\n1 | try:\n2 |     import uasyncio as asyncio  # type: ignore\n  |                                 ^^^^^^^^^^^^^^\n3 | except ImportError:  # pragma: no cover\n4 |     import asyncio  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\main.py:4:21\n  |\n2 |     import uasyncio as asyncio  # type: ignore\n3 | except ImportError:  # pragma: no cover\n4 |     import asyncio  # type: ignore\n  |                     ^^^^^^^^^^^^^^\n5 |\n6 | try:\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\main.py:7:21\n  |\n6 | try:\n7 |     import machine  # type: ignore\n  |                     ^^^^^^^^^^^^^^\n8 | except ImportError:  # pragma: no cover\n9 |     machine = None  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n  --> firmware\\main.py:9:21\n   |\n 7 |     import machine  # type: ignore\n 8 | except ImportError:  # pragma: no cover\n 9 |     machine = None  # type: ignore\n   |                     ^^^^^^^^^^^^^^\n10 |\n11 | import wifi_manager\n   |\n\nE501 Line too long (100 > 88)\n  --> firmware\\main.py:35:89\n   |\n33 |             if tasks:\n34 |                 task = tasks[index]\n35 |                 renderer.draw_task(task.get(\"label\", \"Task\"), get_streak(store, task.get(\"id\", \"\")))\n   |                                                                                         ^^^^^^^^^^^^\n36 |         if pressed and tasks:\n37 |             task = tasks[index]\n   |\n\nF841 Local variable `entry` is assigned to but never used\n  --> firmware\\main.py:39:13\n   |\n37 |             task = tasks[index]\n38 |             task_id = task.get(\"id\", \"\")\n39 |             entry = store.record(task_id, battery_mv=read_battery())\n   |             ^^^^^\n40 |             renderer.draw_status(\"Logged\")\n41 |         await asyncio.sleep(0.1)\n   |\nhelp: Remove assignment to unused variable `entry`\n\nSIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`\n  --> firmware\\main.py:81:5\n   |\n80 |       sync_client = SyncClient(SYNC_ENDPOINT, config.get(\"device_id\", \"\"))\n81 | /     try:\n82 | |         await sync_client.connect()\n83 | |     except Exception:\n84 | |         pass\n   | |____________^\n85 |\n86 |       def ack(entries: list) -> None:\n   |\nhelp: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`\n\nS110 `try`-`except`-`pass` detected, consider logging the exception\n  --> firmware\\main.py:83:5\n   |\n81 |       try:\n82 |           await sync_client.connect()\n83 | /     except Exception:\n84 | |         pass\n   | |____________^\n85 |\n86 |       def ack(entries: list) -> None:\n   |\n\nBLE001 Do not catch blind exception: `Exception`\n  --> firmware\\main.py:83:12\n   |\n81 |     try:\n82 |         await sync_client.connect()\n83 |     except Exception:\n   |            ^^^^^^^^^\n84 |         pass\n   |\n\nRUF006 Store a reference to the return value of `asyncio.create_task`\n  --> firmware\\main.py:96:5\n   |\n94 |         return fetch_pending(store, config.get(\"last_sync_seq\", 0))\n95 |\n96 |     asyncio.create_task(periodic_flush(sync_client, pending_wrapper, ack))\n   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n97 |     await handle_input(store, renderer, config)\n   |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\ota.py:2:33\n  |\n1 | try:\n2 |     import uhashlib as hashlib  # type: ignore\n  |                                 ^^^^^^^^^^^^^^\n3 | except ImportError:  # pragma: no cover\n4 |     import hashlib  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\ota.py:4:21\n  |\n2 |     import uhashlib as hashlib  # type: ignore\n3 | except ImportError:  # pragma: no cover\n4 |     import hashlib  # type: ignore\n  |                     ^^^^^^^^^^^^^^\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\render.py:2:22\n  |\n1 | try:\n2 |     import framebuf  # type: ignore\n  |                      ^^^^^^^^^^^^^^\n3 | except ImportError:  # pragma: no cover\n4 |     framebuf = None  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\render.py:4:22\n  |\n2 |     import framebuf  # type: ignore\n3 | except ImportError:  # pragma: no cover\n4 |     framebuf = None  # type: ignore\n  |                      ^^^^^^^^^^^^^^\n5 |\n6 | DISPLAY_WIDTH = 200\n  |\n\nE501 Line too long (108 > 88)\n  --> firmware\\render.py:14:89\n   |\n12 | \u00e2\u20ac\u00a6     self._buffer = bytearray(DISPLAY_WIDTH * DISPLAY_HEIGHT // 8)\n13 | \u00e2\u20ac\u00a6     if framebuf:\n14 | \u00e2\u20ac\u00a6         self._fb = framebuf.FrameBuffer(self._buffer, DISPLAY_WIDTH, DISPLAY_HEIGHT, framebuf.MONO_HLSB)  # type: ignore[attr-define\u00e2\u20ac\u00a6\n   |                                                                                       ^^^^^^^^^^^^^^^^^^^^\n15 | \u00e2\u20ac\u00a6     else:\n16 | \u00e2\u20ac\u00a6         self._fb = None\n   |\n\nUP031 Use format specifiers instead of percent format\n  --> firmware\\render.py:22:27\n   |\n20 |             self._fb.fill(0)\n21 |             self._fb.text(label[:12], 10, 20, 1)\n22 |             self._fb.text(\"Streak: %d\" % streak, 10, 60, 1)\n   |                           ^^^^^^^^^^^^\n23 |         # TODO: send buffer to e-paper controller\n   |\nhelp: Replace with format specifiers\n\nTD002 Missing author in TODO; try: `# TODO(<author_name>): ...` or `# TODO @<author_name>: ...`\n  --> firmware\\render.py:23:11\n   |\n21 |             self._fb.text(label[:12], 10, 20, 1)\n22 |             self._fb.text(\"Streak: %d\" % streak, 10, 60, 1)\n23 |         # TODO: send buffer to e-paper controller\n   |           ^^^^\n24 |\n25 |     def draw_status(self, message: str) -> None:\n   |\n\nTD003 Missing issue link for this TODO\n  --> firmware\\render.py:23:11\n   |\n21 |             self._fb.text(label[:12], 10, 20, 1)\n22 |             self._fb.text(\"Streak: %d\" % streak, 10, 60, 1)\n23 |         # TODO: send buffer to e-paper controller\n   |           ^^^^\n24 |\n25 |     def draw_status(self, message: str) -> None:\n   |\n\nFIX002 Line contains TODO, consider resolving the issue\n  --> firmware\\render.py:23:11\n   |\n21 |             self._fb.text(label[:12], 10, 20, 1)\n22 |             self._fb.text(\"Streak: %d\" % streak, 10, 60, 1)\n23 |         # TODO: send buffer to e-paper controller\n   |           ^^^^\n24 |\n25 |     def draw_status(self, message: str) -> None:\n   |\n\nTD002 Missing author in TODO; try: `# TODO(<author_name>): ...` or `# TODO @<author_name>: ...`\n  --> firmware\\render.py:29:11\n   |\n27 |             self._fb.fill(0)\n28 |             self._fb.text(message[:18], 10, 20, 1)\n29 |         # TODO: send buffer to e-paper controller\n   |           ^^^^\n   |\n\nTD003 Missing issue link for this TODO\n  --> firmware\\render.py:29:11\n   |\n27 |             self._fb.fill(0)\n28 |             self._fb.text(message[:18], 10, 20, 1)\n29 |         # TODO: send buffer to e-paper controller\n   |           ^^^^\n   |\n\nFIX002 Line contains TODO, consider resolving the issue\n  --> firmware\\render.py:29:11\n   |\n27 |             self._fb.fill(0)\n28 |             self._fb.text(message[:18], 10, 20, 1)\n29 |         # TODO: send buffer to e-paper controller\n   |           ^^^^\n   |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\server.py:2:33\n  |\n1 | try:\n2 |     import uasyncio as asyncio  # type: ignore\n  |                                 ^^^^^^^^^^^^^^\n3 | except ImportError:  # pragma: no cover\n4 |     import asyncio  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\server.py:4:21\n  |\n2 |     import uasyncio as asyncio  # type: ignore\n3 | except ImportError:  # pragma: no cover\n4 |     import asyncio  # type: ignore\n  |                     ^^^^^^^^^^^^^^\n5 |\n6 | try:\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\server.py:7:27\n  |\n6 | try:\n7 |     import ujson as json  # type: ignore\n  |                           ^^^^^^^^^^^^^^\n8 | except ImportError:  # pragma: no cover\n9 |     import json  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n  --> firmware\\server.py:9:18\n   |\n 7 |     import ujson as json  # type: ignore\n 8 | except ImportError:  # pragma: no cover\n 9 |     import json  # type: ignore\n   |                  ^^^^^^^^^^^^^^\n10 |\n11 | from config_store import persist_config\n   |\n\nS104 Possible binding to all interfaces\n  --> firmware\\server.py:28:39\n   |\n26 |         self._server = None\n27 |\n28 |     async def start(self, host: str = \"0.0.0.0\", port: int = 80) -> None:\n   |                                       ^^^^^^^^^\n29 |         self._server = await asyncio.start_server(self._handle_client, host, port)\n   |\n\nC901 `_handle_client` is too complex (11 > 10)\n  --> firmware\\server.py:37:15\n   |\n35 |             self._server = None\n36 |\n37 |     async def _handle_client(self, reader, writer) -> None:  # type: ignore[no-untyped-def]\n   |               ^^^^^^^^^^^^^^\n38 |         try:\n39 |             request_line = await reader.readline()\n   |\n\nPLR0912 Too many branches (13 > 12)\n  --> firmware\\server.py:37:15\n   |\n35 |             self._server = None\n36 |\n37 |     async def _handle_client(self, reader, writer) -> None:  # type: ignore[no-untyped-def]\n   |               ^^^^^^^^^^^^^^\n38 |         try:\n39 |             request_line = await reader.readline()\n   |\n\nANN001 Missing type annotation for function argument `reader`\n  --> firmware\\server.py:37:36\n   |\n35 |             self._server = None\n36 |\n37 |     async def _handle_client(self, reader, writer) -> None:  # type: ignore[no-untyped-def]\n   |                                    ^^^^^^\n38 |         try:\n39 |             request_line = await reader.readline()\n   |\n\nANN001 Missing type annotation for function argument `writer`\n  --> firmware\\server.py:37:44\n   |\n35 |             self._server = None\n36 |\n37 |     async def _handle_client(self, reader, writer) -> None:  # type: ignore[no-untyped-def]\n   |                                            ^^^^^^\n38 |         try:\n39 |             request_line = await reader.readline()\n   |\n\nS110 `try`-`except`-`pass` detected, consider logging the exception\n  --> firmware\\server.py:79:13\n   |\n77 |                   if wait_closed:\n78 |                       await wait_closed()\n79 | /             except Exception:\n80 | |                 pass\n   | |____________________^\n81 |\n82 |       async def _route(self, method: str, path: str, body: bytes) -> bytes:\n   |\n\nBLE001 Do not catch blind exception: `Exception`\n  --> firmware\\server.py:79:20\n   |\n77 |                 if wait_closed:\n78 |                     await wait_closed()\n79 |             except Exception:\n   |                    ^^^^^^^^^\n80 |                 pass\n   |\n\nPLR0911 Too many return statements (8 > 6)\n  --> firmware\\server.py:82:15\n   |\n80 |                 pass\n81 |\n82 |     async def _route(self, method: str, path: str, body: bytes) -> bytes:\n   |               ^^^^^^\n83 |         if path.startswith(\"/v1/pair\"):\n84 |             if method != \"POST\":\n   |\n\nBLE001 Do not catch blind exception: `Exception`\n   --> firmware\\server.py:146:16\n    |\n144 |         try:\n145 |             return json.loads(body.decode())\n146 |         except Exception:\n    |                ^^^^^^^^^\n147 |             return {}\n    |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\sync.py:2:33\n  |\n1 | try:\n2 |     import uasyncio as asyncio  # type: ignore\n  |                                 ^^^^^^^^^^^^^^\n3 | except ImportError:  # pragma: no cover\n4 |     import asyncio  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\sync.py:4:21\n  |\n2 |     import uasyncio as asyncio  # type: ignore\n3 | except ImportError:  # pragma: no cover\n4 |     import asyncio  # type: ignore\n  |                     ^^^^^^^^^^^^^^\n5 |\n6 | try:\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\sync.py:7:27\n  |\n6 | try:\n7 |     import ujson as json  # type: ignore\n  |                           ^^^^^^^^^^^^^^\n8 | except ImportError:  # pragma: no cover\n9 |     import json  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n  --> firmware\\sync.py:9:18\n   |\n 7 |     import ujson as json  # type: ignore\n 8 | except ImportError:  # pragma: no cover\n 9 |     import json  # type: ignore\n   |                  ^^^^^^^^^^^^^^\n10 |\n11 | try:\n   |\n\nPGH003 Use specific rule codes when ignoring type issues\n  --> firmware\\sync.py:12:45\n   |\n11 | try:\n12 |     import uwebsockets.client as ws_client  # type: ignore\n   |                                             ^^^^^^^^^^^^^^\n13 | except ImportError:  # pragma: no cover\n14 |     ws_client = None  # type: ignore\n   |\n\nPGH003 Use specific rule codes when ignoring type issues\n  --> firmware\\sync.py:14:23\n   |\n12 |     import uwebsockets.client as ws_client  # type: ignore\n13 | except ImportError:  # pragma: no cover\n14 |     ws_client = None  # type: ignore\n   |                       ^^^^^^^^^^^^^^\n15 |\n16 | SYNC_INTERVAL = 60\n   |\n\nTRY003 Avoid specifying long messages outside the exception class\n  --> firmware\\sync.py:27:19\n   |\n25 |     async def connect(self) -> None:\n26 |         if ws_client is None:\n27 |             raise RuntimeError(\"websocket client unavailable\")\n   |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n28 |         headers = {\"Authorization\": \"Bearer \" + self.token}\n29 |         self._ws = await ws_client.connect(self.endpoint, headers=headers)\n   |\n\nEM101 Exception must not use a string literal, assign to variable first\n  --> firmware\\sync.py:27:32\n   |\n25 |     async def connect(self) -> None:\n26 |         if ws_client is None:\n27 |             raise RuntimeError(\"websocket client unavailable\")\n   |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n28 |         headers = {\"Authorization\": \"Bearer \" + self.token}\n29 |         self._ws = await ws_client.connect(self.endpoint, headers=headers)\n   |\nhelp: Assign to variable; remove string literal\n\nANN001 Missing type annotation for function argument `fetch_entries`\n  --> firmware\\sync.py:43:46\n   |\n43 | async def periodic_flush(client: SyncClient, fetch_entries, ack_callback) -> None:\n   |                                              ^^^^^^^^^^^^^\n44 |     while True:\n45 |         try:\n   |\n\nANN001 Missing type annotation for function argument `ack_callback`\n  --> firmware\\sync.py:43:61\n   |\n43 | async def periodic_flush(client: SyncClient, fetch_entries, ack_callback) -> None:\n   |                                                             ^^^^^^^^^^^^\n44 |     while True:\n45 |         try:\n   |\n\nS110 `try`-`except`-`pass` detected, consider logging the exception\n  --> firmware\\sync.py:50:9\n   |\n48 |                   await client.send_entries(entries)\n49 |                   ack_callback(entries)\n50 | /         except Exception:  # pragma: no cover\n51 | |             pass\n   | |________________^\n52 |           await asyncio.sleep(SYNC_INTERVAL)\n   |\n\nBLE001 Do not catch blind exception: `Exception`\n  --> firmware\\sync.py:50:16\n   |\n48 |                 await client.send_entries(entries)\n49 |                 ack_callback(entries)\n50 |         except Exception:  # pragma: no cover\n   |                ^^^^^^^^^\n51 |             pass\n52 |         await asyncio.sleep(SYNC_INTERVAL)\n   |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\task_store.py:2:18\n  |\n1 | try:\n2 |     import json  # type: ignore\n  |                  ^^^^^^^^^^^^^^\n3 |     import time  # type: ignore\n4 | except ImportError:  # pragma: no cover\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\task_store.py:3:18\n  |\n1 | try:\n2 |     import json  # type: ignore\n3 |     import time  # type: ignore\n  |                  ^^^^^^^^^^^^^^\n4 | except ImportError:  # pragma: no cover\n5 |     import ujson as json  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\task_store.py:5:27\n  |\n3 |     import time  # type: ignore\n4 | except ImportError:  # pragma: no cover\n5 |     import ujson as json  # type: ignore\n  |                           ^^^^^^^^^^^^^^\n6 |     import utime as time  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\task_store.py:6:27\n  |\n4 | except ImportError:  # pragma: no cover\n5 |     import ujson as json  # type: ignore\n6 |     import utime as time  # type: ignore\n  |                           ^^^^^^^^^^^^^^\n7 |\n8 | BUFFER_PATH = \"/data/entries.jsonl\"\n  |\n\nPLR2004 Magic value used in comparison, consider replacing `2` with a constant variable\n  --> firmware\\task_store.py:24:47\n   |\n22 |     def _ensure_dir(self) -> None:\n23 |         parts = BUFFER_PATH.rsplit(\"/\", 1)\n24 |         directory = parts[0] if len(parts) == 2 else \"/\"\n   |                                               ^\n25 |         try:\n26 |             import os  # type: ignore\n   |\n\nPLC0415 `import` should be at the top-level of a file\n  --> firmware\\task_store.py:26:13\n   |\n24 |         directory = parts[0] if len(parts) == 2 else \"/\"\n25 |         try:\n26 |             import os  # type: ignore\n   |             ^^^^^^^^^\n27 |         except ImportError:  # pragma: no cover\n28 |             import uos as os  # type: ignore\n   |\n\nPGH003 Use specific rule codes when ignoring type issues\n  --> firmware\\task_store.py:26:24\n   |\n24 |         directory = parts[0] if len(parts) == 2 else \"/\"\n25 |         try:\n26 |             import os  # type: ignore\n   |                        ^^^^^^^^^^^^^^\n27 |         except ImportError:  # pragma: no cover\n28 |             import uos as os  # type: ignore\n   |\n\nPLC0415 `import` should be at the top-level of a file\n  --> firmware\\task_store.py:28:13\n   |\n26 |             import os  # type: ignore\n27 |         except ImportError:  # pragma: no cover\n28 |             import uos as os  # type: ignore\n   |             ^^^^^^^^^^^^^^^^\n29 |         try:\n30 |             os.mkdir(directory)\n   |\n\nPGH003 Use specific rule codes when ignoring type issues\n  --> firmware\\task_store.py:28:31\n   |\n26 |             import os  # type: ignore\n27 |         except ImportError:  # pragma: no cover\n28 |             import uos as os  # type: ignore\n   |                               ^^^^^^^^^^^^^^\n29 |         try:\n30 |             os.mkdir(directory)\n   |\n\nSIM105 Use `contextlib.suppress(OSError)` instead of `try`-`except`-`pass`\n  --> firmware\\task_store.py:29:9\n   |\n27 |           except ImportError:  # pragma: no cover\n28 |               import uos as os  # type: ignore\n29 | /         try:\n30 | |             os.mkdir(directory)\n31 | |         except OSError:\n32 | |             pass\n   | |________________^\n33 |\n34 |       def _load_entries(self) -> None:\n   |\nhelp: Replace `try`-`except`-`pass` with `with contextlib.suppress(OSError): ...`\n\nPTH123 `open()` should be replaced by `Path.open()`\n  --> firmware\\task_store.py:36:18\n   |\n34 |     def _load_entries(self) -> None:\n35 |         try:\n36 |             with open(BUFFER_PATH) as fp:  # type: ignore\n   |                  ^^^^\n37 |                 for line in fp:\n38 |                     line = line.strip()\n   |\nhelp: Replace with `Path.open()`\n\nPGH003 Use specific rule codes when ignoring type issues\n  --> firmware\\task_store.py:36:44\n   |\n34 |     def _load_entries(self) -> None:\n35 |         try:\n36 |             with open(BUFFER_PATH) as fp:  # type: ignore\n   |                                            ^^^^^^^^^^^^^^\n37 |                 for line in fp:\n38 |                     line = line.strip()\n   |\n\nPLW2901 `for` loop variable `line` overwritten by assignment target\n  --> firmware\\task_store.py:38:21\n   |\n36 |             with open(BUFFER_PATH) as fp:  # type: ignore\n37 |                 for line in fp:\n38 |                     line = line.strip()\n   |                     ^^^^\n39 |                     if not line:\n40 |                         continue\n   |\n\nPTH123 `open()` should be replaced by `Path.open()`\n  --> firmware\\task_store.py:68:18\n   |\n66 |         self._ensure_dir()\n67 |         try:\n68 |             with open(BUFFER_PATH, \"a\") as fp:  # type: ignore\n   |                  ^^^^\n69 |                 fp.write(json.dumps(entry) + \"\\n\")\n70 |         except OSError:\n   |\nhelp: Replace with `Path.open()`\n\nPGH003 Use specific rule codes when ignoring type issues\n  --> firmware\\task_store.py:68:49\n   |\n66 |         self._ensure_dir()\n67 |         try:\n68 |             with open(BUFFER_PATH, \"a\") as fp:  # type: ignore\n   |                                                 ^^^^^^^^^^^^^^\n69 |                 fp.write(json.dumps(entry) + \"\\n\")\n70 |         except OSError:\n   |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\wifi_manager.py:2:18\n  |\n1 | try:\n2 |     import time  # type: ignore\n  |                  ^^^^^^^^^^^^^^\n3 |\n4 |     import network  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\wifi_manager.py:4:21\n  |\n2 |     import time  # type: ignore\n3 |\n4 |     import network  # type: ignore\n  |                     ^^^^^^^^^^^^^^\n5 | except ImportError:  # pragma: no cover\n6 |     network = None  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\wifi_manager.py:6:21\n  |\n4 |     import network  # type: ignore\n5 | except ImportError:  # pragma: no cover\n6 |     network = None  # type: ignore\n  |                     ^^^^^^^^^^^^^^\n7 |     import time  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\wifi_manager.py:7:18\n  |\n5 | except ImportError:  # pragma: no cover\n6 |     network = None  # type: ignore\n7 |     import time  # type: ignore\n  |                  ^^^^^^^^^^^^^^\n8 |\n9 | STA_RETRIES = 12\n  |\n\nFBT003 Boolean positional value in function call\n  --> firmware\\wifi_manager.py:18:21\n   |\n16 |     wlan = network.WLAN(network.STA_IF)  # type: ignore[attr-defined]\n17 |     if not wlan.active():\n18 |         wlan.active(True)\n   |                     ^^^^\n19 |     if wlan.isconnected():\n20 |         return True\n   |\n\nS107 Possible hardcoded password assigned to function default: \"password\"\n  --> firmware\\wifi_manager.py:29:58\n   |\n29 | def start_ap(ssid: str = \"LegatusSetup\", password: str = \"12345678\") -> None:\n   |                                                          ^^^^^^^^^^\n30 |     if network is None:\n31 |         return\n   |\n\nFBT003 Boolean positional value in function call\n  --> firmware\\wifi_manager.py:38:18\n   |\n36 |     activate = getattr(ap, \"active\", None)\n37 |     if activate:\n38 |         activate(True)\n   |                  ^^^^\n   |\n\nFound 98 errors.\nNo fixes available (8 hidden fixes can be enabled with the `--unsafe-fixes` option).\n",
                "tool": "ruff_check",
                "tool_module": "ruff",
                "tool_version": "ruff 0.14.4"
            },
            "exit": "exit 1",
            "message": "ruff_check failed for x_legatus_celer_notitia_x (exit 1)\ncwd: C:\\x_runner_x\\x_legatus_celer_notitia_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311\nstarted_at: 2025-11-10T06:11:20.743663+00:00\nduration: 0.136s\ntool_version: ruff 0.14.4\nstdout:\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\boot.py:2:21\n  |\n1 | try:\n2 |     import machine  # type: ignore\n\u2026\nstderr:\n<empty>",
            "repo": "x_legatus_celer_notitia_x",
            "repo_path": "C:\\x_runner_x\\x_legatus_celer_notitia_x",
            "stderr_preview": null,
            "stdout_preview": "PGH003 Use specific rule codes when ignoring type issues\n --> firmware\\boot.py:2:21\n  |\n1 | try:\n2 |     import machine  # type: ignore\n\u2026",
            "suggested_action": "Investigate",
            "summary": "ruff_check failed for x_legatus_celer_notitia_x (exit 1) cwd: C:\\x_runner_x\\x_legatus_celer_notitia_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --li\u2026",
            "tool": "ruff_check",
            "tool_version": "ruff 0.14.4"
        },
        {
            "captured_at": "2025-11-10T06:11:18.930866+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "ruff",
                    "check",
                    ".",
                    "--fix",
                    "--select",
                    "ALL",
                    "--ignore",
                    "D,COM812,ISC001,T20",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
                "cwd": "C:\\x_runner_x\\x_legatus_celer_notitia_x",
                "duration_seconds": 0.11939150001853704,
                "ended_at": "2025-11-10T06:11:18.930866+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "firmware/__init__.py",
                    "firmware/boot.py",
                    "firmware/config_store.py",
                    "firmware/input_handler.py",
                    "firmware/main.py",
                    "firmware/models.py",
                    "firmware/mp_compat.py",
                    "firmware/ota.py",
                    "firmware/render.py",
                    "firmware/server.py",
                    "firmware/sync.py",
                    "firmware/task_store.py",
                    "firmware/wifi_manager.py"
                ],
                "repo": "x_legatus_celer_notitia_x",
                "repo_hash": "f830f8f7aa4a7fccdcc102c2a3689abc23006fa42a966b243b1e5e8c99159f55",
                "repo_path": "C:\\x_runner_x\\x_legatus_celer_notitia_x",
                "started_at": "2025-11-10T06:11:18.811475+00:00",
                "stderr": "",
                "stdout": "PGH003 Use specific rule codes when ignoring type issues\n --> firmware\\boot.py:2:21\n  |\n1 | try:\n2 |     import machine  # type: ignore\n  |                     ^^^^^^^^^^^^^^\n3 |     import micropython  # type: ignore\n4 | except ImportError:  # pragma: no cover\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\boot.py:3:25\n  |\n1 | try:\n2 |     import machine  # type: ignore\n3 |     import micropython  # type: ignore\n  |                         ^^^^^^^^^^^^^^\n4 | except ImportError:  # pragma: no cover\n5 |     class _PinStub:\n  |\n\nANN002 Missing type annotation for `*_args`\n  --> firmware\\boot.py:9:28\n   |\n 7 |         PULL_UP = 0\n 8 |\n 9 |         def __init__(self, *_args, **_kwargs) -> None:\n   |                            ^^^^^^\n10 |             self._value = 1\n   |\n\nANN003 Missing type annotation for `**_kwargs`\n  --> firmware\\boot.py:9:36\n   |\n 7 |         PULL_UP = 0\n 8 |\n 9 |         def __init__(self, *_args, **_kwargs) -> None:\n   |                                    ^^^^^^^^^\n10 |             self._value = 1\n   |\n\nANN002 Missing type annotation for `*_args`\n  --> firmware\\boot.py:18:30\n   |\n16 |         Pin = _PinStub\n17 |\n18 |         def lightsleep(self, *_args, **_kwargs) -> None:  # type: ignore[no-untyped-def]\n   |                              ^^^^^^\n19 |             return None\n   |\n\nANN003 Missing type annotation for `**_kwargs`\n  --> firmware\\boot.py:18:38\n   |\n16 |         Pin = _PinStub\n17 |\n18 |         def lightsleep(self, *_args, **_kwargs) -> None:  # type: ignore[no-untyped-def]\n   |                                      ^^^^^^^^^\n19 |             return None\n   |\n\nPGH003 Use specific rule codes when ignoring type issues\n  --> firmware\\boot.py:21:31\n   |\n19 |             return None\n20 |\n21 |     machine = _MachineStub()  # type: ignore\n   |                               ^^^^^^^^^^^^^^\n22 |     micropython = None  # type: ignore\n   |\n\nPGH003 Use specific rule codes when ignoring type issues\n  --> firmware\\boot.py:22:25\n   |\n21 |     machine = _MachineStub()  # type: ignore\n22 |     micropython = None  # type: ignore\n   |                         ^^^^^^^^^^^^^^\n23 |\n24 | if micropython:\n   |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\config_store.py:2:18\n  |\n1 | try:\n2 |     import json  # type: ignore\n  |                  ^^^^^^^^^^^^^^\n3 |     import os  # type: ignore\n4 |     import secrets  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\config_store.py:3:16\n  |\n1 | try:\n2 |     import json  # type: ignore\n3 |     import os  # type: ignore\n  |                ^^^^^^^^^^^^^^\n4 |     import secrets  # type: ignore\n5 | except ImportError:  # pragma: no cover\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\config_store.py:4:21\n  |\n2 |     import json  # type: ignore\n3 |     import os  # type: ignore\n4 |     import secrets  # type: ignore\n  |                     ^^^^^^^^^^^^^^\n5 | except ImportError:  # pragma: no cover\n6 |     import ujson as json  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\config_store.py:6:27\n  |\n4 |     import secrets  # type: ignore\n5 | except ImportError:  # pragma: no cover\n6 |     import ujson as json  # type: ignore\n  |                           ^^^^^^^^^^^^^^\n7 |     import uos as os  # type: ignore\n8 |     import urandom as secrets  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\config_store.py:7:23\n  |\n5 | except ImportError:  # pragma: no cover\n6 |     import ujson as json  # type: ignore\n7 |     import uos as os  # type: ignore\n  |                       ^^^^^^^^^^^^^^\n8 |     import urandom as secrets  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n  --> firmware\\config_store.py:8:32\n   |\n 6 |     import ujson as json  # type: ignore\n 7 |     import uos as os  # type: ignore\n 8 |     import urandom as secrets  # type: ignore\n   |                                ^^^^^^^^^^^^^^\n 9 |\n10 | CONFIG_PATH = \"/config/device.json\"\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `2` with a constant variable\n  --> firmware\\config_store.py:24:43\n   |\n22 | def _ensure_dir(path: str) -> None:\n23 |     parts = path.rsplit(\"/\", 1)\n24 |     directory = parts[0] if len(parts) == 2 else \"/\"\n   |                                           ^\n25 |     try:\n26 |         os.mkdir(directory)\n   |\n\nSIM105 Use `contextlib.suppress(OSError)` instead of `try`-`except`-`pass`\n  --> firmware\\config_store.py:25:5\n   |\n23 |       parts = path.rsplit(\"/\", 1)\n24 |       directory = parts[0] if len(parts) == 2 else \"/\"\n25 | /     try:\n26 | |         os.mkdir(directory)\n27 | |     except OSError:\n28 | |         pass\n   | |____________^\n   |\nhelp: Replace `try`-`except`-`pass` with `with contextlib.suppress(OSError): ...`\n\nPTH123 `open()` should be replaced by `Path.open()`\n  --> firmware\\config_store.py:33:14\n   |\n31 | def load_config(path: str = CONFIG_PATH) -> dict:\n32 |     try:\n33 |         with open(path) as fp:  # type: ignore\n   |              ^^^^\n34 |             return json.load(fp)\n35 |     except OSError:\n   |\nhelp: Replace with `Path.open()`\n\nPGH003 Use specific rule codes when ignoring type issues\n  --> firmware\\config_store.py:33:33\n   |\n31 | def load_config(path: str = CONFIG_PATH) -> dict:\n32 |     try:\n33 |         with open(path) as fp:  # type: ignore\n   |                                 ^^^^^^^^^^^^^^\n34 |             return json.load(fp)\n35 |     except OSError:\n   |\n\nPTH123 `open()` should be replaced by `Path.open()`\n  --> firmware\\config_store.py:46:10\n   |\n44 |     _ensure_dir(path)\n45 |     tmp_path = path + \".tmp\"\n46 |     with open(tmp_path, \"w\") as fp:  # type: ignore\n   |          ^^^^\n47 |         json.dump(config, fp)\n48 |     os.rename(tmp_path, path)\n   |\nhelp: Replace with `Path.open()`\n\nPGH003 Use specific rule codes when ignoring type issues\n  --> firmware\\config_store.py:46:38\n   |\n44 |     _ensure_dir(path)\n45 |     tmp_path = path + \".tmp\"\n46 |     with open(tmp_path, \"w\") as fp:  # type: ignore\n   |                                      ^^^^^^^^^^^^^^\n47 |         json.dump(config, fp)\n48 |     os.rename(tmp_path, path)\n   |\n\nUP031 Use format specifiers instead of percent format\n  --> firmware\\config_store.py:57:24\n   |\n55 |     urandom_fn = getattr(secrets, \"urandom\", None)\n56 |     if urandom_fn:\n57 |         return \"\".join(\"%02x\" % b for b in urandom_fn(length))\n   |                        ^^^^^^^^^^\n58 |     getrandbits = getattr(secrets, \"getrandbits\", None)\n59 |     if getrandbits:\n   |\nhelp: Replace with format specifiers\n\nUP031 Use format specifiers instead of percent format\n  --> firmware\\config_store.py:60:24\n   |\n58 |     getrandbits = getattr(secrets, \"getrandbits\", None)\n59 |     if getrandbits:\n60 |         return \"\".join(\"%02x\" % getrandbits(8) for _ in range(length))\n   |                        ^^^^^^^^^^^^^^^^^^^^^^^\n61 |     raise RuntimeError(\"no entropy source\")\n   |\nhelp: Replace with format specifiers\n\nTRY003 Avoid specifying long messages outside the exception class\n  --> firmware\\config_store.py:61:11\n   |\n59 |     if getrandbits:\n60 |         return \"\".join(\"%02x\" % getrandbits(8) for _ in range(length))\n61 |     raise RuntimeError(\"no entropy source\")\n   |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n   |\n\nEM101 Exception must not use a string literal, assign to variable first\n  --> firmware\\config_store.py:61:24\n   |\n59 |     if getrandbits:\n60 |         return \"\".join(\"%02x\" % getrandbits(8) for _ in range(length))\n61 |     raise RuntimeError(\"no entropy source\")\n   |                        ^^^^^^^^^^^^^^^^^^^\n   |\nhelp: Assign to variable; remove string literal\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\input_handler.py:2:18\n  |\n1 | try:\n2 |     import time  # type: ignore\n  |                  ^^^^^^^^^^^^^^\n3 |\n4 |     import machine  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\input_handler.py:4:21\n  |\n2 |     import time  # type: ignore\n3 |\n4 |     import machine  # type: ignore\n  |                     ^^^^^^^^^^^^^^\n5 | except ImportError:  # pragma: no cover\n6 |     machine = None  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\input_handler.py:6:21\n  |\n4 |     import machine  # type: ignore\n5 | except ImportError:  # pragma: no cover\n6 |     machine = None  # type: ignore\n  |                     ^^^^^^^^^^^^^^\n7 |     import time  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\input_handler.py:7:18\n  |\n5 | except ImportError:  # pragma: no cover\n6 |     machine = None  # type: ignore\n7 |     import time  # type: ignore\n  |                  ^^^^^^^^^^^^^^\n8 |\n9 | ROT_A_PIN = 32\n  |\n\nPLR2004 Magic value used in comparison, consider replacing `0b10` with a constant variable\n  --> firmware\\input_handler.py:36:31\n   |\n34 |                 if state == 0b01 and self._last_state == 0b00:\n35 |                     delta = 1\n36 |                 elif state == 0b10 and self._last_state == 0b00:\n   |                               ^^^^\n37 |                     delta = -1\n38 |                 self._last_state = state\n   |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\main.py:2:33\n  |\n1 | try:\n2 |     import uasyncio as asyncio  # type: ignore\n  |                                 ^^^^^^^^^^^^^^\n3 | except ImportError:  # pragma: no cover\n4 |     import asyncio  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\main.py:4:21\n  |\n2 |     import uasyncio as asyncio  # type: ignore\n3 | except ImportError:  # pragma: no cover\n4 |     import asyncio  # type: ignore\n  |                     ^^^^^^^^^^^^^^\n5 |\n6 | try:\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\main.py:7:21\n  |\n6 | try:\n7 |     import machine  # type: ignore\n  |                     ^^^^^^^^^^^^^^\n8 | except ImportError:  # pragma: no cover\n9 |     machine = None  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n  --> firmware\\main.py:9:21\n   |\n 7 |     import machine  # type: ignore\n 8 | except ImportError:  # pragma: no cover\n 9 |     machine = None  # type: ignore\n   |                     ^^^^^^^^^^^^^^\n10 |\n11 | import wifi_manager\n   |\n\nE501 Line too long (100 > 88)\n  --> firmware\\main.py:35:89\n   |\n33 |             if tasks:\n34 |                 task = tasks[index]\n35 |                 renderer.draw_task(task.get(\"label\", \"Task\"), get_streak(store, task.get(\"id\", \"\")))\n   |                                                                                         ^^^^^^^^^^^^\n36 |         if pressed and tasks:\n37 |             task = tasks[index]\n   |\n\nF841 Local variable `entry` is assigned to but never used\n  --> firmware\\main.py:39:13\n   |\n37 |             task = tasks[index]\n38 |             task_id = task.get(\"id\", \"\")\n39 |             entry = store.record(task_id, battery_mv=read_battery())\n   |             ^^^^^\n40 |             renderer.draw_status(\"Logged\")\n41 |         await asyncio.sleep(0.1)\n   |\nhelp: Remove assignment to unused variable `entry`\n\nSIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`\n  --> firmware\\main.py:81:5\n   |\n80 |       sync_client = SyncClient(SYNC_ENDPOINT, config.get(\"device_id\", \"\"))\n81 | /     try:\n82 | |         await sync_client.connect()\n83 | |     except Exception:\n84 | |         pass\n   | |____________^\n85 |\n86 |       def ack(entries: list) -> None:\n   |\nhelp: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`\n\nS110 `try`-`except`-`pass` detected, consider logging the exception\n  --> firmware\\main.py:83:5\n   |\n81 |       try:\n82 |           await sync_client.connect()\n83 | /     except Exception:\n84 | |         pass\n   | |____________^\n85 |\n86 |       def ack(entries: list) -> None:\n   |\n\nBLE001 Do not catch blind exception: `Exception`\n  --> firmware\\main.py:83:12\n   |\n81 |     try:\n82 |         await sync_client.connect()\n83 |     except Exception:\n   |            ^^^^^^^^^\n84 |         pass\n   |\n\nRUF006 Store a reference to the return value of `asyncio.create_task`\n  --> firmware\\main.py:96:5\n   |\n94 |         return fetch_pending(store, config.get(\"last_sync_seq\", 0))\n95 |\n96 |     asyncio.create_task(periodic_flush(sync_client, pending_wrapper, ack))\n   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n97 |     await handle_input(store, renderer, config)\n   |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\ota.py:2:33\n  |\n1 | try:\n2 |     import uhashlib as hashlib  # type: ignore\n  |                                 ^^^^^^^^^^^^^^\n3 | except ImportError:  # pragma: no cover\n4 |     import hashlib  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\ota.py:4:21\n  |\n2 |     import uhashlib as hashlib  # type: ignore\n3 | except ImportError:  # pragma: no cover\n4 |     import hashlib  # type: ignore\n  |                     ^^^^^^^^^^^^^^\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\render.py:2:22\n  |\n1 | try:\n2 |     import framebuf  # type: ignore\n  |                      ^^^^^^^^^^^^^^\n3 | except ImportError:  # pragma: no cover\n4 |     framebuf = None  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\render.py:4:22\n  |\n2 |     import framebuf  # type: ignore\n3 | except ImportError:  # pragma: no cover\n4 |     framebuf = None  # type: ignore\n  |                      ^^^^^^^^^^^^^^\n5 |\n6 | DISPLAY_WIDTH = 200\n  |\n\nE501 Line too long (108 > 88)\n  --> firmware\\render.py:14:89\n   |\n12 | \u00e2\u20ac\u00a6     self._buffer = bytearray(DISPLAY_WIDTH * DISPLAY_HEIGHT // 8)\n13 | \u00e2\u20ac\u00a6     if framebuf:\n14 | \u00e2\u20ac\u00a6         self._fb = framebuf.FrameBuffer(self._buffer, DISPLAY_WIDTH, DISPLAY_HEIGHT, framebuf.MONO_HLSB)  # type: ignore[attr-define\u00e2\u20ac\u00a6\n   |                                                                                       ^^^^^^^^^^^^^^^^^^^^\n15 | \u00e2\u20ac\u00a6     else:\n16 | \u00e2\u20ac\u00a6         self._fb = None\n   |\n\nUP031 Use format specifiers instead of percent format\n  --> firmware\\render.py:22:27\n   |\n20 |             self._fb.fill(0)\n21 |             self._fb.text(label[:12], 10, 20, 1)\n22 |             self._fb.text(\"Streak: %d\" % streak, 10, 60, 1)\n   |                           ^^^^^^^^^^^^\n23 |         # TODO: send buffer to e-paper controller\n   |\nhelp: Replace with format specifiers\n\nTD002 Missing author in TODO; try: `# TODO(<author_name>): ...` or `# TODO @<author_name>: ...`\n  --> firmware\\render.py:23:11\n   |\n21 |             self._fb.text(label[:12], 10, 20, 1)\n22 |             self._fb.text(\"Streak: %d\" % streak, 10, 60, 1)\n23 |         # TODO: send buffer to e-paper controller\n   |           ^^^^\n24 |\n25 |     def draw_status(self, message: str) -> None:\n   |\n\nTD003 Missing issue link for this TODO\n  --> firmware\\render.py:23:11\n   |\n21 |             self._fb.text(label[:12], 10, 20, 1)\n22 |             self._fb.text(\"Streak: %d\" % streak, 10, 60, 1)\n23 |         # TODO: send buffer to e-paper controller\n   |           ^^^^\n24 |\n25 |     def draw_status(self, message: str) -> None:\n   |\n\nFIX002 Line contains TODO, consider resolving the issue\n  --> firmware\\render.py:23:11\n   |\n21 |             self._fb.text(label[:12], 10, 20, 1)\n22 |             self._fb.text(\"Streak: %d\" % streak, 10, 60, 1)\n23 |         # TODO: send buffer to e-paper controller\n   |           ^^^^\n24 |\n25 |     def draw_status(self, message: str) -> None:\n   |\n\nTD002 Missing author in TODO; try: `# TODO(<author_name>): ...` or `# TODO @<author_name>: ...`\n  --> firmware\\render.py:29:11\n   |\n27 |             self._fb.fill(0)\n28 |             self._fb.text(message[:18], 10, 20, 1)\n29 |         # TODO: send buffer to e-paper controller\n   |           ^^^^\n   |\n\nTD003 Missing issue link for this TODO\n  --> firmware\\render.py:29:11\n   |\n27 |             self._fb.fill(0)\n28 |             self._fb.text(message[:18], 10, 20, 1)\n29 |         # TODO: send buffer to e-paper controller\n   |           ^^^^\n   |\n\nFIX002 Line contains TODO, consider resolving the issue\n  --> firmware\\render.py:29:11\n   |\n27 |             self._fb.fill(0)\n28 |             self._fb.text(message[:18], 10, 20, 1)\n29 |         # TODO: send buffer to e-paper controller\n   |           ^^^^\n   |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\server.py:2:33\n  |\n1 | try:\n2 |     import uasyncio as asyncio  # type: ignore\n  |                                 ^^^^^^^^^^^^^^\n3 | except ImportError:  # pragma: no cover\n4 |     import asyncio  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\server.py:4:21\n  |\n2 |     import uasyncio as asyncio  # type: ignore\n3 | except ImportError:  # pragma: no cover\n4 |     import asyncio  # type: ignore\n  |                     ^^^^^^^^^^^^^^\n5 |\n6 | try:\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\server.py:7:27\n  |\n6 | try:\n7 |     import ujson as json  # type: ignore\n  |                           ^^^^^^^^^^^^^^\n8 | except ImportError:  # pragma: no cover\n9 |     import json  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n  --> firmware\\server.py:9:18\n   |\n 7 |     import ujson as json  # type: ignore\n 8 | except ImportError:  # pragma: no cover\n 9 |     import json  # type: ignore\n   |                  ^^^^^^^^^^^^^^\n10 |\n11 | from config_store import persist_config\n   |\n\nS104 Possible binding to all interfaces\n  --> firmware\\server.py:28:39\n   |\n26 |         self._server = None\n27 |\n28 |     async def start(self, host: str = \"0.0.0.0\", port: int = 80) -> None:\n   |                                       ^^^^^^^^^\n29 |         self._server = await asyncio.start_server(self._handle_client, host, port)\n   |\n\nC901 `_handle_client` is too complex (11 > 10)\n  --> firmware\\server.py:37:15\n   |\n35 |             self._server = None\n36 |\n37 |     async def _handle_client(self, reader, writer) -> None:  # type: ignore[no-untyped-def]\n   |               ^^^^^^^^^^^^^^\n38 |         try:\n39 |             request_line = await reader.readline()\n   |\n\nPLR0912 Too many branches (13 > 12)\n  --> firmware\\server.py:37:15\n   |\n35 |             self._server = None\n36 |\n37 |     async def _handle_client(self, reader, writer) -> None:  # type: ignore[no-untyped-def]\n   |               ^^^^^^^^^^^^^^\n38 |         try:\n39 |             request_line = await reader.readline()\n   |\n\nANN001 Missing type annotation for function argument `reader`\n  --> firmware\\server.py:37:36\n   |\n35 |             self._server = None\n36 |\n37 |     async def _handle_client(self, reader, writer) -> None:  # type: ignore[no-untyped-def]\n   |                                    ^^^^^^\n38 |         try:\n39 |             request_line = await reader.readline()\n   |\n\nANN001 Missing type annotation for function argument `writer`\n  --> firmware\\server.py:37:44\n   |\n35 |             self._server = None\n36 |\n37 |     async def _handle_client(self, reader, writer) -> None:  # type: ignore[no-untyped-def]\n   |                                            ^^^^^^\n38 |         try:\n39 |             request_line = await reader.readline()\n   |\n\nS110 `try`-`except`-`pass` detected, consider logging the exception\n  --> firmware\\server.py:79:13\n   |\n77 |                   if wait_closed:\n78 |                       await wait_closed()\n79 | /             except Exception:\n80 | |                 pass\n   | |____________________^\n81 |\n82 |       async def _route(self, method: str, path: str, body: bytes) -> bytes:\n   |\n\nBLE001 Do not catch blind exception: `Exception`\n  --> firmware\\server.py:79:20\n   |\n77 |                 if wait_closed:\n78 |                     await wait_closed()\n79 |             except Exception:\n   |                    ^^^^^^^^^\n80 |                 pass\n   |\n\nPLR0911 Too many return statements (8 > 6)\n  --> firmware\\server.py:82:15\n   |\n80 |                 pass\n81 |\n82 |     async def _route(self, method: str, path: str, body: bytes) -> bytes:\n   |               ^^^^^^\n83 |         if path.startswith(\"/v1/pair\"):\n84 |             if method != \"POST\":\n   |\n\nBLE001 Do not catch blind exception: `Exception`\n   --> firmware\\server.py:146:16\n    |\n144 |         try:\n145 |             return json.loads(body.decode())\n146 |         except Exception:\n    |                ^^^^^^^^^\n147 |             return {}\n    |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\sync.py:2:33\n  |\n1 | try:\n2 |     import uasyncio as asyncio  # type: ignore\n  |                                 ^^^^^^^^^^^^^^\n3 | except ImportError:  # pragma: no cover\n4 |     import asyncio  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\sync.py:4:21\n  |\n2 |     import uasyncio as asyncio  # type: ignore\n3 | except ImportError:  # pragma: no cover\n4 |     import asyncio  # type: ignore\n  |                     ^^^^^^^^^^^^^^\n5 |\n6 | try:\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\sync.py:7:27\n  |\n6 | try:\n7 |     import ujson as json  # type: ignore\n  |                           ^^^^^^^^^^^^^^\n8 | except ImportError:  # pragma: no cover\n9 |     import json  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n  --> firmware\\sync.py:9:18\n   |\n 7 |     import ujson as json  # type: ignore\n 8 | except ImportError:  # pragma: no cover\n 9 |     import json  # type: ignore\n   |                  ^^^^^^^^^^^^^^\n10 |\n11 | try:\n   |\n\nPGH003 Use specific rule codes when ignoring type issues\n  --> firmware\\sync.py:12:45\n   |\n11 | try:\n12 |     import uwebsockets.client as ws_client  # type: ignore\n   |                                             ^^^^^^^^^^^^^^\n13 | except ImportError:  # pragma: no cover\n14 |     ws_client = None  # type: ignore\n   |\n\nPGH003 Use specific rule codes when ignoring type issues\n  --> firmware\\sync.py:14:23\n   |\n12 |     import uwebsockets.client as ws_client  # type: ignore\n13 | except ImportError:  # pragma: no cover\n14 |     ws_client = None  # type: ignore\n   |                       ^^^^^^^^^^^^^^\n15 |\n16 | SYNC_INTERVAL = 60\n   |\n\nTRY003 Avoid specifying long messages outside the exception class\n  --> firmware\\sync.py:27:19\n   |\n25 |     async def connect(self) -> None:\n26 |         if ws_client is None:\n27 |             raise RuntimeError(\"websocket client unavailable\")\n   |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n28 |         headers = {\"Authorization\": \"Bearer \" + self.token}\n29 |         self._ws = await ws_client.connect(self.endpoint, headers=headers)\n   |\n\nEM101 Exception must not use a string literal, assign to variable first\n  --> firmware\\sync.py:27:32\n   |\n25 |     async def connect(self) -> None:\n26 |         if ws_client is None:\n27 |             raise RuntimeError(\"websocket client unavailable\")\n   |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n28 |         headers = {\"Authorization\": \"Bearer \" + self.token}\n29 |         self._ws = await ws_client.connect(self.endpoint, headers=headers)\n   |\nhelp: Assign to variable; remove string literal\n\nANN001 Missing type annotation for function argument `fetch_entries`\n  --> firmware\\sync.py:43:46\n   |\n43 | async def periodic_flush(client: SyncClient, fetch_entries, ack_callback) -> None:\n   |                                              ^^^^^^^^^^^^^\n44 |     while True:\n45 |         try:\n   |\n\nANN001 Missing type annotation for function argument `ack_callback`\n  --> firmware\\sync.py:43:61\n   |\n43 | async def periodic_flush(client: SyncClient, fetch_entries, ack_callback) -> None:\n   |                                                             ^^^^^^^^^^^^\n44 |     while True:\n45 |         try:\n   |\n\nS110 `try`-`except`-`pass` detected, consider logging the exception\n  --> firmware\\sync.py:50:9\n   |\n48 |                   await client.send_entries(entries)\n49 |                   ack_callback(entries)\n50 | /         except Exception:  # pragma: no cover\n51 | |             pass\n   | |________________^\n52 |           await asyncio.sleep(SYNC_INTERVAL)\n   |\n\nBLE001 Do not catch blind exception: `Exception`\n  --> firmware\\sync.py:50:16\n   |\n48 |                 await client.send_entries(entries)\n49 |                 ack_callback(entries)\n50 |         except Exception:  # pragma: no cover\n   |                ^^^^^^^^^\n51 |             pass\n52 |         await asyncio.sleep(SYNC_INTERVAL)\n   |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\task_store.py:2:18\n  |\n1 | try:\n2 |     import json  # type: ignore\n  |                  ^^^^^^^^^^^^^^\n3 |     import time  # type: ignore\n4 | except ImportError:  # pragma: no cover\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\task_store.py:3:18\n  |\n1 | try:\n2 |     import json  # type: ignore\n3 |     import time  # type: ignore\n  |                  ^^^^^^^^^^^^^^\n4 | except ImportError:  # pragma: no cover\n5 |     import ujson as json  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\task_store.py:5:27\n  |\n3 |     import time  # type: ignore\n4 | except ImportError:  # pragma: no cover\n5 |     import ujson as json  # type: ignore\n  |                           ^^^^^^^^^^^^^^\n6 |     import utime as time  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\task_store.py:6:27\n  |\n4 | except ImportError:  # pragma: no cover\n5 |     import ujson as json  # type: ignore\n6 |     import utime as time  # type: ignore\n  |                           ^^^^^^^^^^^^^^\n7 |\n8 | BUFFER_PATH = \"/data/entries.jsonl\"\n  |\n\nPLR2004 Magic value used in comparison, consider replacing `2` with a constant variable\n  --> firmware\\task_store.py:24:47\n   |\n22 |     def _ensure_dir(self) -> None:\n23 |         parts = BUFFER_PATH.rsplit(\"/\", 1)\n24 |         directory = parts[0] if len(parts) == 2 else \"/\"\n   |                                               ^\n25 |         try:\n26 |             import os  # type: ignore\n   |\n\nPLC0415 `import` should be at the top-level of a file\n  --> firmware\\task_store.py:26:13\n   |\n24 |         directory = parts[0] if len(parts) == 2 else \"/\"\n25 |         try:\n26 |             import os  # type: ignore\n   |             ^^^^^^^^^\n27 |         except ImportError:  # pragma: no cover\n28 |             import uos as os  # type: ignore\n   |\n\nPGH003 Use specific rule codes when ignoring type issues\n  --> firmware\\task_store.py:26:24\n   |\n24 |         directory = parts[0] if len(parts) == 2 else \"/\"\n25 |         try:\n26 |             import os  # type: ignore\n   |                        ^^^^^^^^^^^^^^\n27 |         except ImportError:  # pragma: no cover\n28 |             import uos as os  # type: ignore\n   |\n\nPLC0415 `import` should be at the top-level of a file\n  --> firmware\\task_store.py:28:13\n   |\n26 |             import os  # type: ignore\n27 |         except ImportError:  # pragma: no cover\n28 |             import uos as os  # type: ignore\n   |             ^^^^^^^^^^^^^^^^\n29 |         try:\n30 |             os.mkdir(directory)\n   |\n\nPGH003 Use specific rule codes when ignoring type issues\n  --> firmware\\task_store.py:28:31\n   |\n26 |             import os  # type: ignore\n27 |         except ImportError:  # pragma: no cover\n28 |             import uos as os  # type: ignore\n   |                               ^^^^^^^^^^^^^^\n29 |         try:\n30 |             os.mkdir(directory)\n   |\n\nSIM105 Use `contextlib.suppress(OSError)` instead of `try`-`except`-`pass`\n  --> firmware\\task_store.py:29:9\n   |\n27 |           except ImportError:  # pragma: no cover\n28 |               import uos as os  # type: ignore\n29 | /         try:\n30 | |             os.mkdir(directory)\n31 | |         except OSError:\n32 | |             pass\n   | |________________^\n33 |\n34 |       def _load_entries(self) -> None:\n   |\nhelp: Replace `try`-`except`-`pass` with `with contextlib.suppress(OSError): ...`\n\nPTH123 `open()` should be replaced by `Path.open()`\n  --> firmware\\task_store.py:36:18\n   |\n34 |     def _load_entries(self) -> None:\n35 |         try:\n36 |             with open(BUFFER_PATH) as fp:  # type: ignore\n   |                  ^^^^\n37 |                 for line in fp:\n38 |                     line = line.strip()\n   |\nhelp: Replace with `Path.open()`\n\nPGH003 Use specific rule codes when ignoring type issues\n  --> firmware\\task_store.py:36:44\n   |\n34 |     def _load_entries(self) -> None:\n35 |         try:\n36 |             with open(BUFFER_PATH) as fp:  # type: ignore\n   |                                            ^^^^^^^^^^^^^^\n37 |                 for line in fp:\n38 |                     line = line.strip()\n   |\n\nPLW2901 `for` loop variable `line` overwritten by assignment target\n  --> firmware\\task_store.py:38:21\n   |\n36 |             with open(BUFFER_PATH) as fp:  # type: ignore\n37 |                 for line in fp:\n38 |                     line = line.strip()\n   |                     ^^^^\n39 |                     if not line:\n40 |                         continue\n   |\n\nPTH123 `open()` should be replaced by `Path.open()`\n  --> firmware\\task_store.py:68:18\n   |\n66 |         self._ensure_dir()\n67 |         try:\n68 |             with open(BUFFER_PATH, \"a\") as fp:  # type: ignore\n   |                  ^^^^\n69 |                 fp.write(json.dumps(entry) + \"\\n\")\n70 |         except OSError:\n   |\nhelp: Replace with `Path.open()`\n\nPGH003 Use specific rule codes when ignoring type issues\n  --> firmware\\task_store.py:68:49\n   |\n66 |         self._ensure_dir()\n67 |         try:\n68 |             with open(BUFFER_PATH, \"a\") as fp:  # type: ignore\n   |                                                 ^^^^^^^^^^^^^^\n69 |                 fp.write(json.dumps(entry) + \"\\n\")\n70 |         except OSError:\n   |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\wifi_manager.py:2:18\n  |\n1 | try:\n2 |     import time  # type: ignore\n  |                  ^^^^^^^^^^^^^^\n3 |\n4 |     import network  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\wifi_manager.py:4:21\n  |\n2 |     import time  # type: ignore\n3 |\n4 |     import network  # type: ignore\n  |                     ^^^^^^^^^^^^^^\n5 | except ImportError:  # pragma: no cover\n6 |     network = None  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\wifi_manager.py:6:21\n  |\n4 |     import network  # type: ignore\n5 | except ImportError:  # pragma: no cover\n6 |     network = None  # type: ignore\n  |                     ^^^^^^^^^^^^^^\n7 |     import time  # type: ignore\n  |\n\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\wifi_manager.py:7:18\n  |\n5 | except ImportError:  # pragma: no cover\n6 |     network = None  # type: ignore\n7 |     import time  # type: ignore\n  |                  ^^^^^^^^^^^^^^\n8 |\n9 | STA_RETRIES = 12\n  |\n\nFBT003 Boolean positional value in function call\n  --> firmware\\wifi_manager.py:18:21\n   |\n16 |     wlan = network.WLAN(network.STA_IF)  # type: ignore[attr-defined]\n17 |     if not wlan.active():\n18 |         wlan.active(True)\n   |                     ^^^^\n19 |     if wlan.isconnected():\n20 |         return True\n   |\n\nS107 Possible hardcoded password assigned to function default: \"password\"\n  --> firmware\\wifi_manager.py:29:58\n   |\n29 | def start_ap(ssid: str = \"LegatusSetup\", password: str = \"12345678\") -> None:\n   |                                                          ^^^^^^^^^^\n30 |     if network is None:\n31 |         return\n   |\n\nFBT003 Boolean positional value in function call\n  --> firmware\\wifi_manager.py:38:18\n   |\n36 |     activate = getattr(ap, \"active\", None)\n37 |     if activate:\n38 |         activate(True)\n   |                  ^^^^\n   |\n\nFound 98 errors.\nNo fixes available (8 hidden fixes can be enabled with the `--unsafe-fixes` option).\n",
                "tool": "ruff_fix",
                "tool_module": "ruff",
                "tool_version": "ruff 0.14.4"
            },
            "exit": "exit 1",
            "message": "ruff_fix failed for x_legatus_celer_notitia_x (exit 1)\ncwd: C:\\x_runner_x\\x_legatus_celer_notitia_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311\nstarted_at: 2025-11-10T06:11:18.811475+00:00\nduration: 0.119s\ntool_version: ruff 0.14.4\nstdout:\nPGH003 Use specific rule codes when ignoring type issues\n --> firmware\\boot.py:2:21\n  |\n1 | try:\n2 |     import machine  # type: ignore\n\u2026\nstderr:\n<empty>",
            "repo": "x_legatus_celer_notitia_x",
            "repo_path": "C:\\x_runner_x\\x_legatus_celer_notitia_x",
            "stderr_preview": null,
            "stdout_preview": "PGH003 Use specific rule codes when ignoring type issues\n --> firmware\\boot.py:2:21\n  |\n1 | try:\n2 |     import machine  # type: ignore\n\u2026",
            "suggested_action": "Investigate",
            "summary": "ruff_fix failed for x_legatus_celer_notitia_x (exit 1) cwd: C:\\x_runner_x\\x_legatus_celer_notitia_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 \u2026",
            "tool": "ruff_fix",
            "tool_version": "ruff 0.14.4"
        },
        {
            "captured_at": "2025-11-10T06:11:43.516264+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "black",
                    ".",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311",
                    "--check",
                    "--diff"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff",
                "cwd": "C:\\x_runner_x\\x_legatus_tactica_impetus_x",
                "duration_seconds": 2.1390486999880522,
                "ended_at": "2025-11-10T06:11:43.516264+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "firmware/__init__.py",
                    "firmware/boot.py",
                    "firmware/lib/__init__.py",
                    "firmware/lib/mp_time.py",
                    "firmware/lib/types.py",
                    "firmware/lib/x_cls_calibrate_x.py",
                    "firmware/lib/x_cls_cfg_x.py",
                    "firmware/lib/x_cls_combo_segmenter_x.py",
                    "firmware/lib/x_cls_comm_uart_x.py",
                    "firmware/lib/x_cls_datalogger_x.py",
                    "firmware/lib/x_cls_display_tft_x.py",
                    "firmware/lib/x_cls_features_imu_x.py",
                    "firmware/lib/x_cls_filters_x.py",
                    "firmware/lib/x_cls_metrics_x.py",
                    "firmware/lib/x_cls_punch_classifier_x.py",
                    "firmware/lib/x_cls_punch_detector_x.py",
                    "firmware/lib/x_cls_sensor_bno055_x.py",
                    "firmware/main.py",
                    "firmware/secrets_template.py"
                ],
                "repo": "x_legatus_tactica_impetus_x",
                "repo_hash": "7b46d3be3aca6130625d7ec34c6659385442c290e75a52c8ab06c17ad5c5f920",
                "repo_path": "C:\\x_runner_x\\x_legatus_tactica_impetus_x",
                "started_at": "2025-11-10T06:11:41.377211+00:00",
                "stderr": "would reformat C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\lib\\mp_time.py\nwould reformat C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\boot.py\nwould reformat C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\lib\\x_cls_features_imu_x.py\nwould reformat C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\lib\\x_cls_punch_classifier_x.py\nwould reformat C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\lib\\x_cls_calibrate_x.py\nwould reformat C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\lib\\x_cls_display_tft_x.py\nwould reformat C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\lib\\x_cls_punch_detector_x.py\nwould reformat C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\main.py\n\nOh no! \\U0001f4a5 \\U0001f494 \\U0001f4a5\n8 files would be reformatted, 12 files would be left unchanged.\n",
                "stdout": "--- C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\lib\\mp_time.py\t2025-11-08 23:30:25.343348+00:00\n+++ C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\lib\\mp_time.py\t2025-11-10 06:11:42.972723+00:00\n@@ -17,10 +17,11 @@\n     def sleep_ms(ms: int) -> None:\n         _stdlib_time.sleep(ms / 1000.0)\n \n     def sleep(seconds: float) -> None:\n         _stdlib_time.sleep(seconds)\n+\n else:\n \n     def ticks_ms() -> int:\n         return int(_utime.ticks_ms())\n \n@@ -34,10 +35,11 @@\n         _utime.sleep_ms(ms)\n \n     def sleep(seconds: float) -> None:\n         _utime.sleep(seconds)\n \n+\n __all__ = [\n     \"sleep\",\n     \"sleep_ms\",\n     \"ticks_add\",\n     \"ticks_diff\",\n--- C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\boot.py\t2025-11-08 23:30:25.362772+00:00\n+++ C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\boot.py\t2025-11-10 06:11:43.011322+00:00\n@@ -85,11 +85,13 @@\n \n \n def _should_skip_wifi() -> bool:\n     if machine_module is None:\n         return True\n-    pin = machine_module.Pin(SAFE_MODE_PIN, machine_module.Pin.IN, machine_module.Pin.PULL_UP)\n+    pin = machine_module.Pin(\n+        SAFE_MODE_PIN, machine_module.Pin.IN, machine_module.Pin.PULL_UP\n+    )\n     sleep_ms(10)\n     return pin.value() == 0  # pressed\n \n \n if machine_module is not None:\n--- C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\lib\\x_cls_features_imu_x.py\t2025-11-08 23:27:46.501777+00:00\n+++ C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\lib\\x_cls_features_imu_x.py\t2025-11-10 06:11:43.038340+00:00\n@@ -45,11 +45,13 @@\n     if mag == 0:\n         return (0.0, 0.0, 0.0)\n     return (vector[0] / mag, vector[1] / mag, vector[2] / mag)\n \n \n-def gravity_aligned_components(linear_accel: Vector3, gravity: Vector3) -> tuple[float, Vector3]:\n+def gravity_aligned_components(\n+    linear_accel: Vector3, gravity: Vector3\n+) -> tuple[float, Vector3]:\n     g_unit = normalize(gravity)\n     # component along gravity\n     along = projection_onto(linear_accel, g_unit)\n     # component perpendicular via subtracting projection\n     parallel = (g_unit[0] * along, g_unit[1] * along, g_unit[2] * along)\n--- C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\lib\\x_cls_punch_classifier_x.py\t2025-11-08 23:30:25.357525+00:00\n+++ C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\lib\\x_cls_punch_classifier_x.py\t2025-11-10 06:11:43.061371+00:00\n@@ -15,11 +15,13 @@\n \n     def update_orientation(self, gravity: Vector3, forward_axis: Vector3) -> None:\n         self.gravity = gravity\n         self.forward_axis = features.normalize(forward_axis)\n         self.up_axis = features.normalize((-gravity[0], -gravity[1], -gravity[2]))\n-        self.lateral_axis = features.normalize(features.cross(self.up_axis, self.forward_axis))\n+        self.lateral_axis = features.normalize(\n+            features.cross(self.up_axis, self.forward_axis)\n+        )\n \n     def classify(self, event: PunchEvent) -> ClassificationPayload:\n         linear = event.get(\"linear_accel\")\n         gyro = event.get(\"gyro\")\n         linear_vec: Vector3 = linear if isinstance(linear, tuple) else (0.0, 0.0, 0.0)\n--- C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\lib\\x_cls_calibrate_x.py\t2025-11-08 23:30:25.366084+00:00\n+++ C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\lib\\x_cls_calibrate_x.py\t2025-11-10 06:11:43.067830+00:00\n@@ -48,11 +48,13 @@\n         self._last_ts = None\n         self.accel_samples = []\n         self.jerk_samples = []\n         self.omega_samples = []\n \n-    def add(self, ts_ms: int, linear_accel: Vector3, gravity: Vector3, gyro: Vector3) -> None:\n+    def add(\n+        self, ts_ms: int, linear_accel: Vector3, gravity: Vector3, gyro: Vector3\n+    ) -> None:\n         self._count += 1\n         self._sum_g[0] += gravity[0]\n         self._sum_g[1] += gravity[1]\n         self._sum_g[2] += gravity[2]\n         accel_mag = features.magnitude(linear_accel)\n--- C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\lib\\x_cls_display_tft_x.py\t2025-11-08 23:30:25.377498+00:00\n+++ C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\lib\\x_cls_display_tft_x.py\t2025-11-10 06:11:43.115718+00:00\n@@ -25,22 +25,24 @@\n except ImportError:  # pragma: no cover - running under CPython\n     _SPI = None\n     _Pin = None\n \n \n-class _Font(Protocol):\n-    ...\n+class _Font(Protocol): ...\n \n \n class _DisplayDriver(Protocol):\n     def init(self) -> None: ...\n \n     def fill(self, color: int) -> None: ...\n \n-    def fill_rect(self, x: int, y: int, width: int, height: int, color: int) -> None: ...\n+    def fill_rect(\n+        self, x: int, y: int, width: int, height: int, color: int\n+    ) -> None: ...\n \n     def text(self, font: _Font, text: str, x: int, y: int, color: int) -> None: ...\n+\n \n _COLOR_BLACK = 0x0000\n _COLOR_WHITE = 0xFFFF\n _COLOR_GREEN = 0x07E0\n _COLOR_RED = 0xF800\n@@ -59,11 +61,18 @@\n \n         assert _st7789 is not None\n         assert _SPI is not None\n         assert _Pin is not None\n \n-        spi = _SPI(1, baudrate=40_000_000, polarity=1, phase=1, sck=_Pin(18, _Pin.OUT), mosi=_Pin(19, _Pin.OUT))\n+        spi = _SPI(\n+            1,\n+            baudrate=40_000_000,\n+            polarity=1,\n+            phase=1,\n+            sck=_Pin(18, _Pin.OUT),\n+            mosi=_Pin(19, _Pin.OUT),\n+        )\n         self._tft = _st7789.ST7789(\n             spi,\n             135,\n             240,\n             reset=_Pin(23, _Pin.OUT),\n@@ -111,15 +120,21 @@\n             return\n         self._tft.fill_rect(0, 0, 240, 80, _COLOR_BLACK)\n         if self._font_big is not None:\n             self._draw_text(self._font_big, 10, 10, f\"{int(counts):03d}\", _COLOR_GREEN)\n         if self._font_small is not None:\n-            self._draw_text(self._font_small, 140, 16, f\"{last_type.upper():>8}\", _COLOR_WHITE)\n-            self._draw_text(self._font_small, 140, 40, f\"Conf {confidence:>4.2f}\", _COLOR_WHITE)\n+            self._draw_text(\n+                self._font_small, 140, 16, f\"{last_type.upper():>8}\", _COLOR_WHITE\n+            )\n+            self._draw_text(\n+                self._font_small, 140, 40, f\"Conf {confidence:>4.2f}\", _COLOR_WHITE\n+            )\n             self._tft.fill_rect(0, 80, 240, 40, _COLOR_BLACK)\n             self._draw_text(self._font_small, 10, 86, f\"SPM {spm:>5.1f}\", _COLOR_YELLOW)\n-            self._draw_text(self._font_small, 10, 106, f\"Peak {peak / 9.81:>5.2f}g\", _COLOR_YELLOW)\n+            self._draw_text(\n+                self._font_small, 10, 106, f\"Peak {peak / 9.81:>5.2f}g\", _COLOR_YELLOW\n+            )\n \n     def show_status(self, message: str, success: bool = True) -> None:\n         if not self.available:\n             return\n         color = _COLOR_GREEN if success else _COLOR_RED\n--- C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\lib\\x_cls_punch_detector_x.py\t2025-11-08 23:30:25.368611+00:00\n+++ C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\lib\\x_cls_punch_detector_x.py\t2025-11-10 06:11:43.171074+00:00\n@@ -75,19 +75,22 @@\n         self._omega_stats.add(omega_mag)\n \n     def thresholds(self) -> tuple[float, float, float]:\n         a = max(\n             float(self.cfg[\"accel_thresh_min\"]),\n-            self._accel_stats.mean + float(self.cfg[\"alpha_sigma\"]) * self._accel_stats.std(),\n+            self._accel_stats.mean\n+            + float(self.cfg[\"alpha_sigma\"]) * self._accel_stats.std(),\n         )\n         j = max(\n             float(self.cfg[\"jerk_thresh_min\"]),\n-            self._jerk_stats.mean + float(self.cfg[\"jerk_sigma\"]) * self._jerk_stats.std(),\n+            self._jerk_stats.mean\n+            + float(self.cfg[\"jerk_sigma\"]) * self._jerk_stats.std(),\n         )\n         o = max(\n             float(self.cfg[\"omega_thresh_min\"]),\n-            self._omega_stats.mean + float(self.cfg[\"omega_sigma\"]) * self._omega_stats.std(),\n+            self._omega_stats.mean\n+            + float(self.cfg[\"omega_sigma\"]) * self._omega_stats.std(),\n         )\n         return a, j, o\n \n     def update(\n         self,\n--- C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\main.py\t2025-11-08 23:30:25.402439+00:00\n+++ C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\main.py\t2025-11-10 06:11:43.253402+00:00\n@@ -39,11 +39,13 @@\n     def __init__(self, pin_no: int) -> None:\n         self._pin: _PinProtocol | None\n         if machine is None:\n             self._pin = None\n         else:\n-            self._pin = cast(\"_PinProtocol\", machine.Pin(pin_no, machine.Pin.IN, machine.Pin.PULL_UP))\n+            self._pin = cast(\n+                \"_PinProtocol\", machine.Pin(pin_no, machine.Pin.IN, machine.Pin.PULL_UP)\n+            )\n         self._last = 1\n \n     def pressed(self) -> bool:\n         if self._pin is None:\n             return False\n@@ -117,12 +119,20 @@\n \n     # Seed detector baselines with calibration samples\n     limit = len(calibrator.accel_samples)\n     for idx in range(limit):\n         accel = calibrator.accel_samples[idx]\n-        jerk = calibrator.jerk_samples[idx] if idx < len(calibrator.jerk_samples) else jerk_noise\n-        omega = calibrator.omega_samples[idx] if idx < len(calibrator.omega_samples) else omega_noise\n+        jerk = (\n+            calibrator.jerk_samples[idx]\n+            if idx < len(calibrator.jerk_samples)\n+            else jerk_noise\n+        )\n+        omega = (\n+            calibrator.omega_samples[idx]\n+            if idx < len(calibrator.omega_samples)\n+            else omega_noise\n+        )\n         detector.ingest_idle(accel, jerk, omega)\n \n     running = False\n     session_id = 0\n     log_timer = SimpleTimer(2000)\n@@ -153,11 +163,13 @@\n         dt_s = dt_ms / 1000.0 if dt_ms > 0 else sample_period / 1000.0\n         jerk = features.jerk(last_accel, linear, dt_s)\n         last_accel = linear\n \n         if not running:\n-            detector.ingest_idle(features.magnitude(linear), jerk, features.magnitude(gyro))\n+            detector.ingest_idle(\n+                features.magnitude(linear), jerk, features.magnitude(gyro)\n+            )\n \n         if start_button.pressed():\n             running = not running\n             if running:\n                 session_id += 1\n",
                "tool": "black",
                "tool_module": "black",
                "tool_version": "python -m black, 25.11.0 (compiled: yes)\nPython (CPython) 3.14.0"
            },
            "exit": "exit 1",
            "message": "black failed for x_legatus_tactica_impetus_x (exit 1)\ncwd: C:\\x_runner_x\\x_legatus_tactica_impetus_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff\nstarted_at: 2025-11-10T06:11:41.377211+00:00\nduration: 2.139s\ntool_version: python -m black, 25.11.0 (compiled: yes)\nPython (CPython) 3.14.0\nstdout:\n--- C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\lib\\mp_time.py\t2025-11-08 23:30:25.343348+00:00\n+++ C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\lib\\mp_time.py\t2025-11-10 06:11:42.972723+00:00\n@@ -17,10 +17,11 @@\n     def sleep_ms(ms: int) -> None:\n         _stdlib_time.sleep(ms / 1000.0)\n\u2026\nstderr:\nwould reformat C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\lib\\mp_time.py\nwould reformat C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\boot.py\nwould reformat C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\lib\\x_cls_features_imu_x.py\nwould reformat C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\lib\\x_cls_punch_classifier_x.py\nwould reformat C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\lib\\x_cls_calibrate_x.py\n\u2026",
            "repo": "x_legatus_tactica_impetus_x",
            "repo_path": "C:\\x_runner_x\\x_legatus_tactica_impetus_x",
            "stderr_preview": "would reformat C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\lib\\mp_time.py\nwould reformat C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\boot.py\nwould reformat C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\lib\\x_cls_features_imu_x.py\nwould reformat C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\lib\\x_cls_punch_classifier_x.py\nwould reformat C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\lib\\x_cls_calibrate_x.py\n\u2026",
            "stdout_preview": "--- C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\lib\\mp_time.py\t2025-11-08 23:30:25.343348+00:00\n+++ C:\\x_runner_x\\x_legatus_tactica_impetus_x\\firmware\\lib\\mp_time.py\t2025-11-10 06:11:42.972723+00:00\n@@ -17,10 +17,11 @@\n     def sleep_ms(ms: int) -> None:\n         _stdlib_time.sleep(ms / 1000.0)\n\u2026",
            "suggested_action": "Investigate",
            "summary": "black failed for x_legatus_tactica_impetus_x (exit 1) cwd: C:\\x_runner_x\\x_legatus_tactica_impetus_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --di\u2026",
            "tool": "black",
            "tool_version": "python -m black, 25.11.0 (compiled: yes)\nPython (CPython) 3.14.0"
        },
        {
            "captured_at": "2025-11-10T06:11:44.821755+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m mypy --package x_legatus_tactica_impetus_x --strict --no-warn-unused-configs --show-error-codes --warn-return-any --warn-unreachable --disallow-any-unimported --disallow-any-expr --disallow-any-decorated --disallow-any-explicit",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "mypy",
                    "--package",
                    "x_legatus_tactica_impetus_x",
                    "--strict",
                    "--no-warn-unused-configs",
                    "--show-error-codes",
                    "--warn-return-any",
                    "--warn-unreachable",
                    "--disallow-any-unimported",
                    "--disallow-any-expr",
                    "--disallow-any-decorated",
                    "--disallow-any-explicit"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m mypy --package x_legatus_tactica_impetus_x --strict --no-warn-unused-configs --show-error-codes --warn-return-any --warn-unreachable --disallow-any-unimported --disallow-any-expr --disallow-any-decorated --disallow-any-explicit",
                "cwd": "C:\\x_runner_x\\x_legatus_tactica_impetus_x",
                "duration_seconds": 1.1546347999828868,
                "ended_at": "2025-11-10T06:11:44.821755+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "firmware/__init__.py",
                    "firmware/boot.py",
                    "firmware/lib/__init__.py",
                    "firmware/lib/mp_time.py",
                    "firmware/lib/types.py",
                    "firmware/lib/x_cls_calibrate_x.py",
                    "firmware/lib/x_cls_cfg_x.py",
                    "firmware/lib/x_cls_combo_segmenter_x.py",
                    "firmware/lib/x_cls_comm_uart_x.py",
                    "firmware/lib/x_cls_datalogger_x.py",
                    "firmware/lib/x_cls_display_tft_x.py",
                    "firmware/lib/x_cls_features_imu_x.py",
                    "firmware/lib/x_cls_filters_x.py",
                    "firmware/lib/x_cls_metrics_x.py",
                    "firmware/lib/x_cls_punch_classifier_x.py",
                    "firmware/lib/x_cls_punch_detector_x.py",
                    "firmware/lib/x_cls_sensor_bno055_x.py",
                    "firmware/main.py",
                    "firmware/secrets_template.py"
                ],
                "repo": "x_legatus_tactica_impetus_x",
                "repo_hash": "7b46d3be3aca6130625d7ec34c6659385442c290e75a52c8ab06c17ad5c5f920",
                "repo_path": "C:\\x_runner_x\\x_legatus_tactica_impetus_x",
                "started_at": "2025-11-10T06:11:43.667121+00:00",
                "stderr": "",
                "stdout": "firmware\\main.py:8: error: Skipping analyzing \"machine\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\nfirmware\\main.py:12: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:14: error: Cannot find implementation or library stub for module named \"lib\"  [import-not-found]\nfirmware\\main.py:16: error: Cannot find implementation or library stub for module named \"lib.mp_time\"  [import-not-found]\nfirmware\\main.py:17: error: Cannot find implementation or library stub for module named \"lib.types\"  [import-not-found]\nfirmware\\main.py:18: error: Cannot find implementation or library stub for module named \"lib.x_cls_calibrate_x\"  [import-not-found]\nfirmware\\main.py:19: error: Cannot find implementation or library stub for module named \"lib.x_cls_combo_segmenter_x\"  [import-not-found]\nfirmware\\main.py:20: error: Cannot find implementation or library stub for module named \"lib.x_cls_comm_uart_x\"  [import-not-found]\nfirmware\\main.py:21: error: Cannot find implementation or library stub for module named \"lib.x_cls_datalogger_x\"  [import-not-found]\nfirmware\\main.py:22: error: Cannot find implementation or library stub for module named \"lib.x_cls_display_tft_x\"  [import-not-found]\nfirmware\\main.py:23: error: Cannot find implementation or library stub for module named \"lib.x_cls_filters_x\"  [import-not-found]\nfirmware\\main.py:24: error: Cannot find implementation or library stub for module named \"lib.x_cls_metrics_x\"  [import-not-found]\nfirmware\\main.py:25: error: Cannot find implementation or library stub for module named \"lib.x_cls_punch_classifier_x\"  [import-not-found]\nfirmware\\main.py:26: error: Cannot find implementation or library stub for module named \"lib.x_cls_punch_detector_x\"  [import-not-found]\nfirmware\\main.py:27: error: Cannot find implementation or library stub for module named \"lib.x_cls_sensor_bno055_x\"  [import-not-found]\nfirmware\\main.py:41: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:44: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:56: error: Return type becomes \"Any\" due to an unfollowed import  [no-any-unimported]\nfirmware\\main.py:57: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:59: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:60: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:61: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:62: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:63: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:64: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:67: error: Return type becomes \"tuple[Any, Any | None]\" due to an unfollowed import  [no-any-unimported]\nfirmware\\main.py:67: error: Argument 1 to \"_run_calibration\" becomes \"Any\" due to an unfollowed import  [no-any-unimported]\nfirmware\\main.py:67: error: Argument 2 to \"_run_calibration\" becomes \"Any\" due to an unfollowed import  [no-any-unimported]\nfirmware\\main.py:67: error: Argument 3 to \"_run_calibration\" becomes \"Any\" due to an unfollowed import  [no-any-unimported]\nfirmware\\main.py:72: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:73: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:74: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:76: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:77: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:78: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:79: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:80: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:81: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:82: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:86: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:87: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:88: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:88: error: Expression type contains \"Any\" (has type \"tuple[Any, Any]\")  [misc]\nfirmware\\main.py:91: error: Function is missing a return type annotation  [no-untyped-def]\nfirmware\\main.py:91: note: Use \"-> None\" if function does not return a value\nfirmware\\main.py:92: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:95: error: Type of variable becomes \"Any\" due to an unfollowed import  [no-any-unimported]\nfirmware\\main.py:95: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:96: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:97: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:98: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:99: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:100: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:101: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:102: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:103: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:104: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:105: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:110: error: Expression type contains \"Any\" (has type \"tuple[Any, Any | None]\")  [misc]\nfirmware\\main.py:110: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:110: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nfirmware\\main.py:111: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nfirmware\\main.py:113: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:114: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:115: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:116: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:119: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:121: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:122: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:123: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:124: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:128: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:132: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:133: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:136: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:137: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:140: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:142: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:143: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:144: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:145: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:150: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:154: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:158: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:164: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:165: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:166: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:167: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:169: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:170: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:173: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:174: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:175: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:176: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:182: error: Type of variable becomes \"Any | None\" due to an unfollowed import  [no-any-unimported]\nfirmware\\main.py:182: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:183: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:184: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:185: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:186: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:190: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nfirmware\\main.py:191: error: Type of variable becomes \"Any\" due to an unfollowed import  [no-any-unimported]\nfirmware\\main.py:191: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:192: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:193: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:194: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:195: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:196: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:197: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:198: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:199: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:201: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:202: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:204: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:205: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:206: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:207: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:208: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:209: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:210: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:211: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:212: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:214: error: Type of variable becomes \"Any\" due to an unfollowed import  [no-any-unimported]\nfirmware\\main.py:214: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nfirmware\\main.py:215: error: Expression type contains \"Any\" (has type \"tuple[str, Any]\")  [misc]\nfirmware\\main.py:215: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:216: error: Expression type contains \"Any\" (has type \"tuple[str, Any]\")  [misc]\nfirmware\\main.py:216: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:222: error: Expression type contains \"Any\" (has type \"tuple[str, Any]\")  [misc]\nfirmware\\main.py:222: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:223: error: Expression type contains \"Any\" (has type \"tuple[str, Any]\")  [misc]\nfirmware\\main.py:223: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:225: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:226: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:228: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:229: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:230: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:232: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:233: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:236: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:237: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:241: error: Call to untyped function \"main\" in typed context  [no-untyped-call]\nfirmware\\lib\\x_cls_display_tft_x.py:8: error: Skipping analyzing \"st7789\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\nfirmware\\lib\\x_cls_display_tft_x.py:13: error: Skipping analyzing \"vga1_8x8\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\nfirmware\\lib\\x_cls_display_tft_x.py:18: error: Skipping analyzing \"vga2_16x32\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\nfirmware\\lib\\x_cls_display_tft_x.py:23: error: Skipping analyzing \"machine\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\nfirmware\\lib\\x_cls_display_tft_x.py:52: error: Expression has type \"Any\"  [misc]\nfirmware\\lib\\x_cls_display_tft_x.py:56: error: Expression has type \"Any\"  [misc]\nfirmware\\lib\\x_cls_display_tft_x.py:60: error: Expression has type \"Any\"  [misc]\nfirmware\\lib\\x_cls_display_tft_x.py:61: error: Expression has type \"Any\"  [misc]\nfirmware\\lib\\x_cls_display_tft_x.py:62: error: Expression has type \"Any\"  [misc]\nfirmware\\lib\\x_cls_display_tft_x.py:64: error: Expression has type \"Any\"  [misc]\nfirmware\\lib\\x_cls_display_tft_x.py:65: error: Expression has type \"Any\"  [misc]\nfirmware\\lib\\x_cls_display_tft_x.py:66: error: Expression has type \"Any\"  [misc]\nfirmware\\lib\\x_cls_display_tft_x.py:69: error: Expression has type \"Any\"  [misc]\nfirmware\\lib\\x_cls_display_tft_x.py:70: error: Expression has type \"Any\"  [misc]\nfirmware\\lib\\x_cls_display_tft_x.py:71: error: Expression has type \"Any\"  [misc]\nfirmware\\lib\\x_cls_display_tft_x.py:74: error: Expression type contains \"Any\" (has type \"_DisplayDriver | Any\")  [misc]\nfirmware\\lib\\x_cls_display_tft_x.py:75: error: Expression has type \"Any\"  [misc]\nfirmware\\lib\\x_cls_display_tft_x.py:76: error: Expression type contains \"Any\" (has type \"_DisplayDriver | Any\")  [misc]\nfirmware\\lib\\x_cls_display_tft_x.py:77: error: Expression type contains \"Any\" (has type \"_DisplayDriver | Any\")  [misc]\nfirmware\\lib\\mp_time.py:4: error: Cannot find implementation or library stub for module named \"utime\"  [import-not-found]\nfirmware\\lib\\mp_time.py:25: error: Expression has type \"Any\"  [misc]\nfirmware\\lib\\mp_time.py:28: error: Expression has type \"Any\"  [misc]\nfirmware\\lib\\mp_time.py:31: error: Expression has type \"Any\"  [misc]\nfirmware\\lib\\mp_time.py:34: error: Expression has type \"Any\"  [misc]\nfirmware\\lib\\mp_time.py:37: error: Expression has type \"Any\"  [misc]\nfirmware\\lib\\x_cls_sensor_bno055_x.py:90: error: Expression type contains \"Any\" (has type \"tuple[Any, ...]\")  [misc]\nfirmware\\lib\\x_cls_sensor_bno055_x.py:90: error: Expression has type \"Any\"  [misc]\nfirmware\\lib\\x_cls_sensor_bno055_x.py:94: error: Expression type contains \"Any\" (has type \"tuple[Any, ...]\")  [misc]\nfirmware\\lib\\x_cls_sensor_bno055_x.py:94: error: Expression has type \"Any\"  [misc]\nfirmware\\lib\\x_cls_sensor_bno055_x.py:95: error: Expression has type \"Any\"  [misc]\nfirmware\\lib\\x_cls_sensor_bno055_x.py:95: error: Expression type contains \"Any\" (has type \"tuple[Any, Any, Any]\")  [misc]\nfirmware\\lib\\x_cls_features_imu_x.py:10: error: Expression has type \"Any\"  [misc]\nfirmware\\lib\\x_cls_datalogger_x.py:6: error: Library stubs not installed for \"ujson\"  [import-untyped]\nfirmware\\lib\\x_cls_datalogger_x.py:11: error: Skipping analyzing \"uos\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\nfirmware\\lib\\x_cls_datalogger_x.py:27: error: Expression has type \"Any\"  [misc]\nfirmware\\lib\\x_cls_datalogger_x.py:46: error: Expression has type \"Any\"  [misc]\nfirmware\\lib\\x_cls_comm_uart_x.py:9: error: Library stubs not installed for \"ujson\"  [import-untyped]\nfirmware\\lib\\x_cls_comm_uart_x.py:16: error: Incompatible types in assignment (expression has type \"None\", variable has type Module)  [assignment]\nfirmware\\lib\\x_cls_comm_uart_x.py:34: error: Expression has type \"Any\"  [misc]\nfirmware\\lib\\x_cls_cfg_x.py:8: error: Library stubs not installed for \"ujson\"  [import-untyped]\nfirmware\\lib\\x_cls_cfg_x.py:8: note: Hint: \"python3 -m pip install types-ujson\"\nfirmware\\lib\\x_cls_cfg_x.py:8: note: (or run \"mypy --install-types\" to install all missing stub packages)\nfirmware\\lib\\x_cls_cfg_x.py:13: error: Skipping analyzing \"uos\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\nfirmware\\lib\\x_cls_cfg_x.py:46: error: Expression has type \"Any\"  [misc]\nfirmware\\lib\\x_cls_cfg_x.py:47: error: Expression has type \"Any\"  [misc]\nfirmware\\lib\\x_cls_cfg_x.py:60: error: Expression has type \"Any\"  [misc]\nfirmware\\lib\\x_cls_cfg_x.py:61: error: Expression has type \"Any\"  [misc]\nfirmware\\lib\\x_cls_punch_detector_x.py:34: error: Returning Any from function declared to return \"float\"  [no-any-return]\nfirmware\\lib\\x_cls_punch_detector_x.py:34: error: Expression has type \"Any\"  [misc]\nfirmware\\lib\\x_cls_calibrate_x.py:124: error: Returning Any from function declared to return \"float\"  [no-any-return]\nfirmware\\lib\\x_cls_calibrate_x.py:124: error: Expression has type \"Any\"  [misc]\nfirmware\\boot.py:11: error: Cannot find implementation or library stub for module named \"lib.mp_time\"  [import-not-found]\nfirmware\\boot.py:11: note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports\nfirmware\\boot.py:46: error: Skipping analyzing \"machine\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\nfirmware\\boot.py:51: error: Skipping analyzing \"network\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\nfirmware\\boot.py:70: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nfirmware\\boot.py:71: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nfirmware\\boot.py:72: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nfirmware\\boot.py:82: error: Expression has type \"Any\"  [misc]\nfirmware\\boot.py:83: error: Expression type contains \"Any\" (has type \"Literal[False] | Any\")  [misc]\nfirmware\\boot.py:83: error: Expression has type \"Any\"  [misc]\nFound 199 errors in 11 files (checked 26 source files)\n",
                "tool": "mypy",
                "tool_module": "mypy",
                "tool_version": "mypy 1.18.2 (compiled: yes)"
            },
            "exit": "exit 1",
            "message": "mypy failed for x_legatus_tactica_impetus_x (exit 1)\ncwd: C:\\x_runner_x\\x_legatus_tactica_impetus_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m mypy --package x_legatus_tactica_impetus_x --strict --no-warn-unused-configs --show-error-codes --warn-return-any --warn-unreachable --disallow-any-unimported --disallow-any-expr --disallow-any-decorated --disallow-any-explicit\nstarted_at: 2025-11-10T06:11:43.667121+00:00\nduration: 1.155s\ntool_version: mypy 1.18.2 (compiled: yes)\nstdout:\nfirmware\\main.py:8: error: Skipping analyzing \"machine\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\nfirmware\\main.py:12: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:14: error: Cannot find implementation or library stub for module named \"lib\"  [import-not-found]\nfirmware\\main.py:16: error: Cannot find implementation or library stub for module named \"lib.mp_time\"  [import-not-found]\nfirmware\\main.py:17: error: Cannot find implementation or library stub for module named \"lib.types\"  [import-not-found]\n\u2026\nstderr:\n<empty>",
            "repo": "x_legatus_tactica_impetus_x",
            "repo_path": "C:\\x_runner_x\\x_legatus_tactica_impetus_x",
            "stderr_preview": null,
            "stdout_preview": "firmware\\main.py:8: error: Skipping analyzing \"machine\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\nfirmware\\main.py:12: error: Expression has type \"Any\"  [misc]\nfirmware\\main.py:14: error: Cannot find implementation or library stub for module named \"lib\"  [import-not-found]\nfirmware\\main.py:16: error: Cannot find implementation or library stub for module named \"lib.mp_time\"  [import-not-found]\nfirmware\\main.py:17: error: Cannot find implementation or library stub for module named \"lib.types\"  [import-not-found]\n\u2026",
            "suggested_action": "Investigate",
            "summary": "mypy failed for x_legatus_tactica_impetus_x (exit 1) cwd: C:\\x_runner_x\\x_legatus_tactica_impetus_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m mypy --package x_legatus_tactica_impetus_x --strict --no-warn\u2026",
            "tool": "mypy",
            "tool_version": "mypy 1.18.2 (compiled: yes)"
        },
        {
            "captured_at": "2025-11-10T06:11:43.654120+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "ruff",
                    "check",
                    ".",
                    "--select",
                    "ALL",
                    "--ignore",
                    "D,COM812,ISC001,T20",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
                "cwd": "C:\\x_runner_x\\x_legatus_tactica_impetus_x",
                "duration_seconds": 0.13165809999918565,
                "ended_at": "2025-11-10T06:11:43.654120+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "firmware/__init__.py",
                    "firmware/boot.py",
                    "firmware/lib/__init__.py",
                    "firmware/lib/mp_time.py",
                    "firmware/lib/types.py",
                    "firmware/lib/x_cls_calibrate_x.py",
                    "firmware/lib/x_cls_cfg_x.py",
                    "firmware/lib/x_cls_combo_segmenter_x.py",
                    "firmware/lib/x_cls_comm_uart_x.py",
                    "firmware/lib/x_cls_datalogger_x.py",
                    "firmware/lib/x_cls_display_tft_x.py",
                    "firmware/lib/x_cls_features_imu_x.py",
                    "firmware/lib/x_cls_filters_x.py",
                    "firmware/lib/x_cls_metrics_x.py",
                    "firmware/lib/x_cls_punch_classifier_x.py",
                    "firmware/lib/x_cls_punch_detector_x.py",
                    "firmware/lib/x_cls_sensor_bno055_x.py",
                    "firmware/main.py",
                    "firmware/secrets_template.py"
                ],
                "repo": "x_legatus_tactica_impetus_x",
                "repo_hash": "7b46d3be3aca6130625d7ec34c6659385442c290e75a52c8ab06c17ad5c5f920",
                "repo_path": "C:\\x_runner_x\\x_legatus_tactica_impetus_x",
                "started_at": "2025-11-10T06:11:43.522463+00:00",
                "stderr": "",
                "stdout": "FBT001 Boolean-typed positional argument in function definition\n  --> firmware\\boot.py:32:22\n   |\n31 | class _WLAN(Protocol):\n32 |     def active(self, is_active: bool | None = ...) -> bool: ...\n   |                      ^^^^^^^^^\n33 |\n34 |     def isconnected(self) -> bool: ...\n   |\n\nN802 Function name `WLAN` should be lowercase\n  --> firmware\\boot.py:42:9\n   |\n40 |     STA_IF: int\n41 |\n42 |     def WLAN(self, interface_id: int) -> _WLAN: ...\n   |         ^^^^\n   |\n\nPLC0415 `import` should be at the top-level of a file\n  --> firmware\\boot.py:66:9\n   |\n64 |         return\n65 |     try:\n66 |         import secrets as wifi_secrets\n   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n67 |     except Exception:\n68 |         return\n   |\n\nBLE001 Do not catch blind exception: `Exception`\n  --> firmware\\boot.py:67:12\n   |\n65 |     try:\n66 |         import secrets as wifi_secrets\n67 |     except Exception:\n   |            ^^^^^^^^^\n68 |         return\n   |\n\nFBT003 Boolean positional value in function call\n  --> firmware\\boot.py:77:21\n   |\n75 |     wlan = network_module.WLAN(network_module.STA_IF)\n76 |     if not wlan.active():\n77 |         wlan.active(True)\n   |                     ^^^^\n78 |     if wlan.isconnected():\n79 |         return\n   |\n\nE501 Line too long (94 > 88)\n  --> firmware\\boot.py:90:89\n   |\n88 |     if machine_module is None:\n89 |         return True\n90 |     pin = machine_module.Pin(SAFE_MODE_PIN, machine_module.Pin.IN, machine_module.Pin.PULL_UP)\n   |                                                                                         ^^^^^^\n91 |     sleep_ms(10)\n92 |     return pin.value() == 0  # pressed\n   |\n\nSIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`\n   --> firmware\\boot.py:96:5\n    |\n 95 |   if machine_module is not None:\n 96 | /     try:\n 97 | |         machine_module.freq(240_000_000)\n 98 | |     except Exception:  # pragma: no cover - hardware quirk tolerance\n 99 | |         pass\n    | |____________^\n100 |\n101 |   if not _should_skip_wifi():\n    |\nhelp: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`\n\nS110 `try`-`except`-`pass` detected, consider logging the exception\n   --> firmware\\boot.py:98:5\n    |\n 96 |       try:\n 97 |           machine_module.freq(240_000_000)\n 98 | /     except Exception:  # pragma: no cover - hardware quirk tolerance\n 99 | |         pass\n    | |____________^\n100 |\n101 |   if not _should_skip_wifi():\n    |\n\nBLE001 Do not catch blind exception: `Exception`\n  --> firmware\\boot.py:98:12\n   |\n96 |     try:\n97 |         machine_module.freq(240_000_000)\n98 |     except Exception:  # pragma: no cover - hardware quirk tolerance\n   |            ^^^^^^^^^\n99 |         pass\n   |\n\nTC001 Move application import `.types.Vector3` into a type-checking block\n --> firmware\\lib\\x_cls_calibrate_x.py:8:20\n  |\n7 | from . import x_cls_features_imu_x as features\n8 | from .types import Vector3\n  |                    ^^^^^^^\n  |\nhelp: Move into type-checking block\n\nE501 Line too long (94 > 88)\n  --> firmware\\lib\\x_cls_calibrate_x.py:53:89\n   |\n51 |         self.omega_samples = []\n52 |\n53 |     def add(self, ts_ms: int, linear_accel: Vector3, gravity: Vector3, gyro: Vector3) -> None:\n   |                                                                                         ^^^^^^\n54 |         self._count += 1\n55 |         self._sum_g[0] += gravity[0]\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `512` with a constant variable\n  --> firmware\\lib\\x_cls_calibrate_x.py:72:38\n   |\n70 |         self._jerk_stats.add(jerk)\n71 |         self._omega_stats.add(omega_mag)\n72 |         if len(self.accel_samples) < 512:\n   |                                      ^^^\n73 |             self.accel_samples.append(accel_mag)\n74 |         if len(self.jerk_samples) < 512:\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `512` with a constant variable\n  --> firmware\\lib\\x_cls_calibrate_x.py:74:37\n   |\n72 |         if len(self.accel_samples) < 512:\n73 |             self.accel_samples.append(accel_mag)\n74 |         if len(self.jerk_samples) < 512:\n   |                                     ^^^\n75 |             self.jerk_samples.append(jerk)\n76 |         if len(self.omega_samples) < 512:\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `512` with a constant variable\n  --> firmware\\lib\\x_cls_calibrate_x.py:76:38\n   |\n74 |         if len(self.jerk_samples) < 512:\n75 |             self.jerk_samples.append(jerk)\n76 |         if len(self.omega_samples) < 512:\n   |                                      ^^^\n77 |             self.omega_samples.append(omega_mag)\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `2` with a constant variable\n   --> firmware\\lib\\x_cls_calibrate_x.py:122:25\n    |\n121 |     def std(self) -> float:\n122 |         if self.count < 2:\n    |                         ^\n123 |             return 0.0\n124 |         return (self.ssq / (self.count - 1)) ** 0.5\n    |\n\nTC003 Move standard library import `collections.abc.MutableMapping` into a type-checking block\n --> firmware\\lib\\x_cls_cfg_x.py:5:29\n  |\n3 | from __future__ import annotations\n4 |\n5 | from collections.abc import MutableMapping\n  |                             ^^^^^^^^^^^^^^\n6 |\n7 | try:\n  |\nhelp: Move into type-checking block\n\nPTH123 `open()` should be replaced by `Path.open()`\n  --> firmware\\lib\\x_cls_cfg_x.py:45:14\n   |\n43 |     cfg: ConfigDict = DEFAULT_CFG.copy()\n44 |     try:\n45 |         with open(_CFG_PATH) as handle:\n   |              ^^^^\n46 |             user_cfg = json.load(handle)\n47 |         if isinstance(user_cfg, dict):\n   |\nhelp: Replace with `Path.open()`\n\nPTH123 `open()` should be replaced by `Path.open()`\n  --> firmware\\lib\\x_cls_cfg_x.py:59:14\n   |\n57 |     try:\n58 |         tmp_path = _CFG_PATH + \".tmp\"\n59 |         with open(tmp_path, \"w\") as handle:\n   |              ^^^^\n60 |             json.dump(cfg, handle)\n61 |         os.rename(tmp_path, _CFG_PATH)\n   |\nhelp: Replace with `Path.open()`\n\nPTH104 `os.rename()` should be replaced by `Path.rename()`\n  --> firmware\\lib\\x_cls_cfg_x.py:61:9\n   |\n59 |         with open(tmp_path, \"w\") as handle:\n60 |             json.dump(cfg, handle)\n61 |         os.rename(tmp_path, _CFG_PATH)\n   |         ^^^^^^^^^\n62 |     except OSError:\n63 |         pass\n   |\nhelp: Replace with `Path(...).rename(...)`\n\nTC001 Move application import `.types.PunchEvent` into a type-checking block\n --> firmware\\lib\\x_cls_combo_segmenter_x.py:5:20\n  |\n3 | from __future__ import annotations\n4 |\n5 | from .types import PunchEvent\n  |                    ^^^^^^^^^^\n  |\nhelp: Move into type-checking block\n\nTC003 Move standard library import `types.ModuleType` into a type-checking block\n --> firmware\\lib\\x_cls_comm_uart_x.py:5:19\n  |\n3 | from __future__ import annotations\n4 |\n5 | from types import ModuleType\n  |                   ^^^^^^^^^^\n6 | from typing import TextIO, cast\n  |\nhelp: Move into type-checking block\n\nE402 Module level import not at top of file\n  --> firmware\\lib\\x_cls_comm_uart_x.py:20:1\n   |\n18 | SYS_MODULE: ModuleType | None = _sys\n19 |\n20 | from .types import LogPayload\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n   |\n\nTC001 Move application import `.types.LogPayload` into a type-checking block\n  --> firmware\\lib\\x_cls_comm_uart_x.py:20:20\n   |\n18 | SYS_MODULE: ModuleType | None = _sys\n19 |\n20 | from .types import LogPayload\n   |                    ^^^^^^^^^^\n   |\nhelp: Move into type-checking block\n\nFBT001 Boolean-typed positional argument in function definition\n  --> firmware\\lib\\x_cls_comm_uart_x.py:24:24\n   |\n23 | class UartStreamer:\n24 |     def __init__(self, enabled: bool = True) -> None:\n   |                        ^^^^^^^\n25 |         self.enabled = enabled and SYS_MODULE is not None\n   |\n\nFBT002 Boolean default positional argument in function definition\n  --> firmware\\lib\\x_cls_comm_uart_x.py:24:24\n   |\n23 | class UartStreamer:\n24 |     def __init__(self, enabled: bool = True) -> None:\n   |                        ^^^^^^^\n25 |         self.enabled = enabled and SYS_MODULE is not None\n   |\n\nS110 `try`-`except`-`pass` detected, consider logging the exception\n  --> firmware\\lib\\x_cls_comm_uart_x.py:36:9\n   |\n34 |               stdout.write(json.dumps(payload))\n35 |               stdout.write(\"\\n\")\n36 | /         except Exception:\n37 | |             pass\n   | |________________^\n   |\n\nBLE001 Do not catch blind exception: `Exception`\n  --> firmware\\lib\\x_cls_comm_uart_x.py:36:16\n   |\n34 |             stdout.write(json.dumps(payload))\n35 |             stdout.write(\"\\n\")\n36 |         except Exception:\n   |                ^^^^^^^^^\n37 |             pass\n   |\n\nTC001 Move application import `.types.LogPayload` into a type-checking block\n  --> firmware\\lib\\x_cls_datalogger_x.py:15:20\n   |\n13 |     import os\n14 |\n15 | from .types import LogPayload\n   |                    ^^^^^^^^^^\n   |\nhelp: Move into type-checking block\n\nSIM105 Use `contextlib.suppress(OSError)` instead of `try`-`except`-`pass`\n  --> firmware\\lib\\x_cls_datalogger_x.py:26:9\n   |\n25 |       def _ensure_dir(self) -> None:\n26 | /         try:\n27 | |             os.mkdir(self.root_dir)\n28 | |         except OSError:\n29 | |             pass\n   | |________________^\n30 |\n31 |       def start_session(self, session_id: int) -> None:\n   |\nhelp: Replace `try`-`except`-`pass` with `with contextlib.suppress(OSError): ...`\n\nPTH102 `os.mkdir()` should be replaced by `Path.mkdir()`\n  --> firmware\\lib\\x_cls_datalogger_x.py:27:13\n   |\n25 |     def _ensure_dir(self) -> None:\n26 |         try:\n27 |             os.mkdir(self.root_dir)\n   |             ^^^^^^^^\n28 |         except OSError:\n29 |             pass\n   |\nhelp: Replace with `Path(...).mkdir()`\n\nPLR2004 Magic value used in comparison, consider replacing `256` with a constant variable\n  --> firmware\\lib\\x_cls_datalogger_x.py:36:32\n   |\n35 |     def append(self, event: LogPayload) -> None:\n36 |         if len(self._buffer) > 256:\n   |                                ^^^\n37 |             self.flush()\n38 |         self._buffer.append(event)\n   |\n\nPTH123 `open()` should be replaced by `Path.open()`\n  --> firmware\\lib\\x_cls_datalogger_x.py:44:18\n   |\n42 |             return\n43 |         try:\n44 |             with open(self._session_path, \"a\", encoding=\"utf-8\") as handle:\n   |                  ^^^^\n45 |                 for item in self._buffer:\n46 |                     handle.write(json.dumps(item))\n   |\nhelp: Replace with `Path.open()`\n\nE501 Line too long (89 > 88)\n  --> firmware\\lib\\x_cls_display_tft_x.py:39:89\n   |\n37 |     def fill(self, color: int) -> None: ...\n38 |\n39 |     def fill_rect(self, x: int, y: int, width: int, height: int, color: int) -> None: ...\n   |                                                                                         ^\n40 |\n41 |     def text(self, font: _Font, text: str, x: int, y: int, color: int) -> None: ...\n   |\n\nS101 Use of `assert` detected\n  --> firmware\\lib\\x_cls_display_tft_x.py:60:9\n   |\n58 |             return\n59 |\n60 |         assert _st7789 is not None\n   |         ^^^^^^\n61 |         assert _SPI is not None\n62 |         assert _Pin is not None\n   |\n\nS101 Use of `assert` detected\n  --> firmware\\lib\\x_cls_display_tft_x.py:61:9\n   |\n60 |         assert _st7789 is not None\n61 |         assert _SPI is not None\n   |         ^^^^^^\n62 |         assert _Pin is not None\n   |\n\nS101 Use of `assert` detected\n  --> firmware\\lib\\x_cls_display_tft_x.py:62:9\n   |\n60 |         assert _st7789 is not None\n61 |         assert _SPI is not None\n62 |         assert _Pin is not None\n   |         ^^^^^^\n63 |\n64 |         spi = _SPI(1, baudrate=40_000_000, polarity=1, phase=1, sck=_Pin(18, _Pin.OUT), mosi=_Pin(19, _Pin.OUT))\n   |\n\nE501 Line too long (112 > 88)\n  --> firmware\\lib\\x_cls_display_tft_x.py:64:89\n   |\n62 |         assert _Pin is not None\n63 |\n64 |         spi = _SPI(1, baudrate=40_000_000, polarity=1, phase=1, sck=_Pin(18, _Pin.OUT), mosi=_Pin(19, _Pin.OUT))\n   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^\n65 |         self._tft = _st7789.ST7789(\n66 |             spi,\n   |\n\nE501 Line too long (95 > 88)\n   --> firmware\\lib\\x_cls_display_tft_x.py:116:89\n    |\n114 |             self._draw_text(self._font_big, 10, 10, f\"{int(counts):03d}\", _COLOR_GREEN)\n115 |         if self._font_small is not None:\n116 |             self._draw_text(self._font_small, 140, 16, f\"{last_type.upper():>8}\", _COLOR_WHITE)\n    |                                                                                         ^^^^^^^\n117 |             self._draw_text(self._font_small, 140, 40, f\"Conf {confidence:>4.2f}\", _COLOR_WHITE)\n118 |             self._tft.fill_rect(0, 80, 240, 40, _COLOR_BLACK)\n    |\n\nE501 Line too long (96 > 88)\n   --> firmware\\lib\\x_cls_display_tft_x.py:117:89\n    |\n115 |         if self._font_small is not None:\n116 |             self._draw_text(self._font_small, 140, 16, f\"{last_type.upper():>8}\", _COLOR_WHITE)\n117 |             self._draw_text(self._font_small, 140, 40, f\"Conf {confidence:>4.2f}\", _COLOR_WHITE)\n    |                                                                                         ^^^^^^^^\n118 |             self._tft.fill_rect(0, 80, 240, 40, _COLOR_BLACK)\n119 |             self._draw_text(self._font_small, 10, 86, f\"SPM {spm:>5.1f}\", _COLOR_YELLOW)\n    |\n\nE501 Line too long (99 > 88)\n   --> firmware\\lib\\x_cls_display_tft_x.py:120:89\n    |\n118 |             self._tft.fill_rect(0, 80, 240, 40, _COLOR_BLACK)\n119 |             self._draw_text(self._font_small, 10, 86, f\"SPM {spm:>5.1f}\", _COLOR_YELLOW)\n120 |             self._draw_text(self._font_small, 10, 106, f\"Peak {peak / 9.81:>5.2f}g\", _COLOR_YELLOW)\n    |                                                                                         ^^^^^^^^^^^\n121 |\n122 |     def show_status(self, message: str, success: bool = True) -> None:\n    |\n\nFBT001 Boolean-typed positional argument in function definition\n   --> firmware\\lib\\x_cls_display_tft_x.py:122:41\n    |\n120 |             self._draw_text(self._font_small, 10, 106, f\"Peak {peak / 9.81:>5.2f}g\", _COLOR_YELLOW)\n121 |\n122 |     def show_status(self, message: str, success: bool = True) -> None:\n    |                                         ^^^^^^^\n123 |         if not self.available:\n124 |             return\n    |\n\nFBT002 Boolean default positional argument in function definition\n   --> firmware\\lib\\x_cls_display_tft_x.py:122:41\n    |\n120 |             self._draw_text(self._font_small, 10, 106, f\"Peak {peak / 9.81:>5.2f}g\", _COLOR_YELLOW)\n121 |\n122 |     def show_status(self, message: str, success: bool = True) -> None:\n    |                                         ^^^^^^^\n123 |         if not self.available:\n124 |             return\n    |\n\nTC001 Move application import `.types.Vector3` into a type-checking block\n --> firmware\\lib\\x_cls_features_imu_x.py:5:20\n  |\n3 | from __future__ import annotations\n4 |\n5 | from .types import Vector3\n  |                    ^^^^^^^\n  |\nhelp: Move into type-checking block\n\nE501 Line too long (97 > 88)\n  --> firmware\\lib\\x_cls_features_imu_x.py:50:89\n   |\n50 | def gravity_aligned_components(linear_accel: Vector3, gravity: Vector3) -> tuple[float, Vector3]:\n   |                                                                                         ^^^^^^^^^\n51 |     g_unit = normalize(gravity)\n52 |     # component along gravity\n   |\n\nTC001 Move application import `.types.PunchEvent` into a type-checking block\n --> firmware\\lib\\x_cls_metrics_x.py:5:20\n  |\n3 | from __future__ import annotations\n4 |\n5 | from .types import PunchEvent\n  |                    ^^^^^^^^^^\n  |\nhelp: Move into type-checking block\n\nTC001 Move application import `.types.ClassificationPayload` into a type-checking block\n --> firmware\\lib\\x_cls_punch_classifier_x.py:6:20\n  |\n5 | from . import x_cls_features_imu_x as features\n6 | from .types import ClassificationPayload, PunchEvent, Vector3\n  |                    ^^^^^^^^^^^^^^^^^^^^^\n  |\nhelp: Move into type-checking block\n\nTC001 Move application import `.types.PunchEvent` into a type-checking block\n --> firmware\\lib\\x_cls_punch_classifier_x.py:6:43\n  |\n5 | from . import x_cls_features_imu_x as features\n6 | from .types import ClassificationPayload, PunchEvent, Vector3\n  |                                           ^^^^^^^^^^\n  |\nhelp: Move into type-checking block\n\nTC001 Move application import `.types.Vector3` into a type-checking block\n --> firmware\\lib\\x_cls_punch_classifier_x.py:6:55\n  |\n5 | from . import x_cls_features_imu_x as features\n6 | from .types import ClassificationPayload, PunchEvent, Vector3\n  |                                                       ^^^^^^^\n  |\nhelp: Move into type-checking block\n\nE501 Line too long (95 > 88)\n  --> firmware\\lib\\x_cls_punch_classifier_x.py:20:89\n   |\n18 |         self.forward_axis = features.normalize(forward_axis)\n19 |         self.up_axis = features.normalize((-gravity[0], -gravity[1], -gravity[2]))\n20 |         self.lateral_axis = features.normalize(features.cross(self.up_axis, self.forward_axis))\n   |                                                                                         ^^^^^^^\n21 |\n22 |     def classify(self, event: PunchEvent) -> ClassificationPayload:\n   |\n\nTC001 Move application import `.types.PunchEvent` into a type-checking block\n  --> firmware\\lib\\x_cls_punch_detector_x.py:10:20\n   |\n 8 | from . import x_cls_features_imu_x as features\n 9 | from .mp_time import ticks_diff\n10 | from .types import PunchEvent, Vector3\n   |                    ^^^^^^^^^^\n   |\nhelp: Move into type-checking block\n\nTC001 Move application import `.types.Vector3` into a type-checking block\n  --> firmware\\lib\\x_cls_punch_detector_x.py:10:32\n   |\n 8 | from . import x_cls_features_imu_x as features\n 9 | from .mp_time import ticks_diff\n10 | from .types import PunchEvent, Vector3\n   |                                ^^^^^^^\n   |\nhelp: Move into type-checking block\n\nPLR2004 Magic value used in comparison, consider replacing `2` with a constant variable\n  --> firmware\\lib\\x_cls_punch_detector_x.py:32:25\n   |\n31 |     def std(self) -> float:\n32 |         if self.count < 2:\n   |                         ^\n33 |             return 0.0\n34 |         return (self.ssq / (self.count - 1)) ** 0.5\n   |\n\nE501 Line too long (94 > 88)\n  --> firmware\\lib\\x_cls_punch_detector_x.py:80:89\n   |\n78 |         a = max(\n79 |             float(self.cfg[\"accel_thresh_min\"]),\n80 |             self._accel_stats.mean + float(self.cfg[\"alpha_sigma\"]) * self._accel_stats.std(),\n   |                                                                                         ^^^^^^\n81 |         )\n82 |         j = max(\n   |\n\nE501 Line too long (91 > 88)\n  --> firmware\\lib\\x_cls_punch_detector_x.py:84:89\n   |\n82 |         j = max(\n83 |             float(self.cfg[\"jerk_thresh_min\"]),\n84 |             self._jerk_stats.mean + float(self.cfg[\"jerk_sigma\"]) * self._jerk_stats.std(),\n   |                                                                                         ^^^\n85 |         )\n86 |         o = max(\n   |\n\nE501 Line too long (94 > 88)\n  --> firmware\\lib\\x_cls_punch_detector_x.py:88:89\n   |\n86 |         o = max(\n87 |             float(self.cfg[\"omega_thresh_min\"]),\n88 |             self._omega_stats.mean + float(self.cfg[\"omega_sigma\"]) * self._omega_stats.std(),\n   |                                                                                         ^^^^^^\n89 |         )\n90 |         return a, j, o\n   |\n\nPLR0911 Too many return statements (7 > 6)\n  --> firmware\\lib\\x_cls_punch_detector_x.py:92:9\n   |\n90 |         return a, j, o\n91 |\n92 |     def update(\n   |         ^^^^^^\n93 |         self,\n94 |         *,\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `40` with a constant variable\n   --> firmware\\lib\\x_cls_punch_detector_x.py:142:39\n    |\n141 |             if not trigger:\n142 |                 if cand.duration_ms < 40:\n    |                                       ^^\n143 |                     self._state = \"idle\"\n144 |                     self._candidate = None\n    |\n\nTC001 Move application import `.types.Vector3` into a type-checking block\n --> firmware\\lib\\x_cls_sensor_bno055_x.py:9:20\n  |\n8 | from .mp_time import sleep_ms\n9 | from .types import Vector3\n  |                    ^^^^^^^\n  |\nhelp: Move into type-checking block\n\nE402 Module level import not at top of file\n  --> firmware\\main.py:14:1\n   |\n12 | machine = _machine_module\n13 |\n14 | from lib import x_cls_cfg_x as cfg_mod\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n15 | from lib import x_cls_features_imu_x as features\n16 | from lib.mp_time import sleep_ms, ticks_add, ticks_diff, ticks_ms\n   |\n\nE402 Module level import not at top of file\n  --> firmware\\main.py:15:1\n   |\n14 | from lib import x_cls_cfg_x as cfg_mod\n15 | from lib import x_cls_features_imu_x as features\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n16 | from lib.mp_time import sleep_ms, ticks_add, ticks_diff, ticks_ms\n17 | from lib.types import ClassificationPayload, LogPayload, PunchEvent\n   |\n\nE402 Module level import not at top of file\n  --> firmware\\main.py:16:1\n   |\n14 | from lib import x_cls_cfg_x as cfg_mod\n15 | from lib import x_cls_features_imu_x as features\n16 | from lib.mp_time import sleep_ms, ticks_add, ticks_diff, ticks_ms\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n17 | from lib.types import ClassificationPayload, LogPayload, PunchEvent\n18 | from lib.x_cls_calibrate_x import CalibrationResult, Calibrator\n   |\n\nE402 Module level import not at top of file\n  --> firmware\\main.py:17:1\n   |\n15 | from lib import x_cls_features_imu_x as features\n16 | from lib.mp_time import sleep_ms, ticks_add, ticks_diff, ticks_ms\n17 | from lib.types import ClassificationPayload, LogPayload, PunchEvent\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n18 | from lib.x_cls_calibrate_x import CalibrationResult, Calibrator\n19 | from lib.x_cls_combo_segmenter_x import ComboSegmenter\n   |\n\nTC002 Move third-party import `lib.types.ClassificationPayload` into a type-checking block\n  --> firmware\\main.py:17:23\n   |\n15 | from lib import x_cls_features_imu_x as features\n16 | from lib.mp_time import sleep_ms, ticks_add, ticks_diff, ticks_ms\n17 | from lib.types import ClassificationPayload, LogPayload, PunchEvent\n   |                       ^^^^^^^^^^^^^^^^^^^^^\n18 | from lib.x_cls_calibrate_x import CalibrationResult, Calibrator\n19 | from lib.x_cls_combo_segmenter_x import ComboSegmenter\n   |\nhelp: Move into type-checking block\n\nTC002 Move third-party import `lib.types.LogPayload` into a type-checking block\n  --> firmware\\main.py:17:46\n   |\n15 | from lib import x_cls_features_imu_x as features\n16 | from lib.mp_time import sleep_ms, ticks_add, ticks_diff, ticks_ms\n17 | from lib.types import ClassificationPayload, LogPayload, PunchEvent\n   |                                              ^^^^^^^^^^\n18 | from lib.x_cls_calibrate_x import CalibrationResult, Calibrator\n19 | from lib.x_cls_combo_segmenter_x import ComboSegmenter\n   |\nhelp: Move into type-checking block\n\nTC002 Move third-party import `lib.types.PunchEvent` into a type-checking block\n  --> firmware\\main.py:17:58\n   |\n15 | from lib import x_cls_features_imu_x as features\n16 | from lib.mp_time import sleep_ms, ticks_add, ticks_diff, ticks_ms\n17 | from lib.types import ClassificationPayload, LogPayload, PunchEvent\n   |                                                          ^^^^^^^^^^\n18 | from lib.x_cls_calibrate_x import CalibrationResult, Calibrator\n19 | from lib.x_cls_combo_segmenter_x import ComboSegmenter\n   |\nhelp: Move into type-checking block\n\nE402 Module level import not at top of file\n  --> firmware\\main.py:18:1\n   |\n16 | from lib.mp_time import sleep_ms, ticks_add, ticks_diff, ticks_ms\n17 | from lib.types import ClassificationPayload, LogPayload, PunchEvent\n18 | from lib.x_cls_calibrate_x import CalibrationResult, Calibrator\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n19 | from lib.x_cls_combo_segmenter_x import ComboSegmenter\n20 | from lib.x_cls_comm_uart_x import UartStreamer\n   |\n\nE402 Module level import not at top of file\n  --> firmware\\main.py:19:1\n   |\n17 | from lib.types import ClassificationPayload, LogPayload, PunchEvent\n18 | from lib.x_cls_calibrate_x import CalibrationResult, Calibrator\n19 | from lib.x_cls_combo_segmenter_x import ComboSegmenter\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n20 | from lib.x_cls_comm_uart_x import UartStreamer\n21 | from lib.x_cls_datalogger_x import DataLogger\n   |\n\nE402 Module level import not at top of file\n  --> firmware\\main.py:20:1\n   |\n18 | from lib.x_cls_calibrate_x import CalibrationResult, Calibrator\n19 | from lib.x_cls_combo_segmenter_x import ComboSegmenter\n20 | from lib.x_cls_comm_uart_x import UartStreamer\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n21 | from lib.x_cls_datalogger_x import DataLogger\n22 | from lib.x_cls_display_tft_x import Display\n   |\n\nE402 Module level import not at top of file\n  --> firmware\\main.py:21:1\n   |\n19 | from lib.x_cls_combo_segmenter_x import ComboSegmenter\n20 | from lib.x_cls_comm_uart_x import UartStreamer\n21 | from lib.x_cls_datalogger_x import DataLogger\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n22 | from lib.x_cls_display_tft_x import Display\n23 | from lib.x_cls_filters_x import SimpleTimer\n   |\n\nE402 Module level import not at top of file\n  --> firmware\\main.py:22:1\n   |\n20 | from lib.x_cls_comm_uart_x import UartStreamer\n21 | from lib.x_cls_datalogger_x import DataLogger\n22 | from lib.x_cls_display_tft_x import Display\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n23 | from lib.x_cls_filters_x import SimpleTimer\n24 | from lib.x_cls_metrics_x import MetricsTracker\n   |\n\nE402 Module level import not at top of file\n  --> firmware\\main.py:23:1\n   |\n21 | from lib.x_cls_datalogger_x import DataLogger\n22 | from lib.x_cls_display_tft_x import Display\n23 | from lib.x_cls_filters_x import SimpleTimer\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n24 | from lib.x_cls_metrics_x import MetricsTracker\n25 | from lib.x_cls_punch_classifier_x import PunchClassifier\n   |\n\nE402 Module level import not at top of file\n  --> firmware\\main.py:24:1\n   |\n22 | from lib.x_cls_display_tft_x import Display\n23 | from lib.x_cls_filters_x import SimpleTimer\n24 | from lib.x_cls_metrics_x import MetricsTracker\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n25 | from lib.x_cls_punch_classifier_x import PunchClassifier\n26 | from lib.x_cls_punch_detector_x import PunchDetector\n   |\n\nE402 Module level import not at top of file\n  --> firmware\\main.py:25:1\n   |\n23 | from lib.x_cls_filters_x import SimpleTimer\n24 | from lib.x_cls_metrics_x import MetricsTracker\n25 | from lib.x_cls_punch_classifier_x import PunchClassifier\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n26 | from lib.x_cls_punch_detector_x import PunchDetector\n27 | from lib.x_cls_sensor_bno055_x import BNO055\n   |\n\nE402 Module level import not at top of file\n  --> firmware\\main.py:26:1\n   |\n24 | from lib.x_cls_metrics_x import MetricsTracker\n25 | from lib.x_cls_punch_classifier_x import PunchClassifier\n26 | from lib.x_cls_punch_detector_x import PunchDetector\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n27 | from lib.x_cls_sensor_bno055_x import BNO055\n   |\n\nE402 Module level import not at top of file\n  --> firmware\\main.py:27:1\n   |\n25 | from lib.x_cls_punch_classifier_x import PunchClassifier\n26 | from lib.x_cls_punch_detector_x import PunchDetector\n27 | from lib.x_cls_sensor_bno055_x import BNO055\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n   |\n\nE501 Line too long (102 > 88)\n  --> firmware\\main.py:44:89\n   |\n42 |             self._pin = None\n43 |         else:\n44 |             self._pin = cast(\"_PinProtocol\", machine.Pin(pin_no, machine.Pin.IN, machine.Pin.PULL_UP))\n   |                                                                                         ^^^^^^^^^^^^^^\n45 |         self._last = 1\n   |\n\nTRY003 Avoid specifying long messages outside the exception class\n  --> firmware\\main.py:58:15\n   |\n56 | def _init_sensor() -> BNO055:\n57 |     if machine is None:\n58 |         raise RuntimeError(\"machine module unavailable\")\n   |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n59 |     scl = machine.Pin(22, machine.Pin.OUT, machine.Pin.PULL_UP)\n60 |     sda = machine.Pin(21, machine.Pin.OUT, machine.Pin.PULL_UP)\n   |\n\nEM101 Exception must not use a string literal, assign to variable first\n  --> firmware\\main.py:58:28\n   |\n56 | def _init_sensor() -> BNO055:\n57 |     if machine is None:\n58 |         raise RuntimeError(\"machine module unavailable\")\n   |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n59 |     scl = machine.Pin(22, machine.Pin.OUT, machine.Pin.PULL_UP)\n60 |     sda = machine.Pin(21, machine.Pin.OUT, machine.Pin.PULL_UP)\n   |\nhelp: Assign to variable; remove string literal\n\nC901 `main` is too complex (18 > 10)\n  --> firmware\\main.py:91:5\n   |\n91 | def main():\n   |     ^^^^\n92 |     if machine is None:\n93 |         raise RuntimeError(\"MicroPython hardware modules unavailable\")\n   |\n\nPLR0912 Too many branches (19 > 12)\n  --> firmware\\main.py:91:5\n   |\n91 | def main():\n   |     ^^^^\n92 |     if machine is None:\n93 |         raise RuntimeError(\"MicroPython hardware modules unavailable\")\n   |\n\nPLR0915 Too many statements (101 > 50)\n  --> firmware\\main.py:91:5\n   |\n91 | def main():\n   |     ^^^^\n92 |     if machine is None:\n93 |         raise RuntimeError(\"MicroPython hardware modules unavailable\")\n   |\n\nANN201 Missing return type annotation for public function `main`\n  --> firmware\\main.py:91:5\n   |\n91 | def main():\n   |     ^^^^\n92 |     if machine is None:\n93 |         raise RuntimeError(\"MicroPython hardware modules unavailable\")\n   |\nhelp: Add return type annotation: `None`\n\nTRY003 Avoid specifying long messages outside the exception class\n  --> firmware\\main.py:93:15\n   |\n91 | def main():\n92 |     if machine is None:\n93 |         raise RuntimeError(\"MicroPython hardware modules unavailable\")\n   |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n94 |\n95 |     cfg: cfg_mod.ConfigDict = cfg_mod.load_cfg()\n   |\n\nEM101 Exception must not use a string literal, assign to variable first\n  --> firmware\\main.py:93:28\n   |\n91 | def main():\n92 |     if machine is None:\n93 |         raise RuntimeError(\"MicroPython hardware modules unavailable\")\n   |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n94 |\n95 |     cfg: cfg_mod.ConfigDict = cfg_mod.load_cfg()\n   |\nhelp: Assign to variable; remove string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> firmware\\main.py:112:15\n    |\n110 |     calibrator, cal_result = _run_calibration(sensor, cfg, display)\n111 |     if cal_result is None:\n112 |         raise RuntimeError(\"Calibration failed\")\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n113 |     forward_axis = cal_result.forward_axis\n114 |     jerk_noise = cal_result.jerk_noise\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> firmware\\main.py:112:28\n    |\n110 |     calibrator, cal_result = _run_calibration(sensor, cfg, display)\n111 |     if cal_result is None:\n112 |         raise RuntimeError(\"Calibration failed\")\n    |                            ^^^^^^^^^^^^^^^^^^^^\n113 |     forward_axis = cal_result.forward_axis\n114 |     jerk_noise = cal_result.jerk_noise\n    |\nhelp: Assign to variable; remove string literal\n\nE501 Line too long (97 > 88)\n   --> firmware\\main.py:122:89\n    |\n120 |     for idx in range(limit):\n121 |         accel = calibrator.accel_samples[idx]\n122 |         jerk = calibrator.jerk_samples[idx] if idx < len(calibrator.jerk_samples) else jerk_noise\n    |                                                                                         ^^^^^^^^^\n123 |         omega = calibrator.omega_samples[idx] if idx < len(calibrator.omega_samples) else omega_noise\n124 |         detector.ingest_idle(accel, jerk, omega)\n    |\n\nE501 Line too long (101 > 88)\n   --> firmware\\main.py:123:89\n    |\n121 |         accel = calibrator.accel_samples[idx]\n122 |         jerk = calibrator.jerk_samples[idx] if idx < len(calibrator.jerk_samples) else jerk_noise\n123 |         omega = calibrator.omega_samples[idx] if idx < len(calibrator.omega_samples) else omega_noise\n    |                                                                                         ^^^^^^^^^^^^^\n124 |         detector.ingest_idle(accel, jerk, omega)\n    |\n\nSIM108 Use ternary operator `dt_ms = sample_period if last_ts is None else ticks_diff(now, last_ts)` instead of `if`-`else`-block\n   --> firmware\\main.py:147:9\n    |\n145 |           classifier.update_orientation(gravity, forward_axis)\n146 |\n147 | /         if last_ts is None:\n148 | |             dt_ms = sample_period\n149 | |         else:\n150 | |             dt_ms = ticks_diff(now, last_ts)\n    | |____________________________________________^\n151 |           last_ts = now\n    |\nhelp: Replace `if`-`else`-block with `dt_ms = sample_period if last_ts is None else ticks_diff(now, last_ts)`\n\nE501 Line too long (92 > 88)\n   --> firmware\\main.py:158:89\n    |\n157 |         if not running:\n158 |             detector.ingest_idle(features.magnitude(linear), jerk, features.magnitude(gyro))\n    |                                                                                         ^^^^\n159 |\n160 |         if start_button.pressed():\n    |\n\nFound 90 errors.\nNo fixes available (23 hidden fixes can be enabled with the `--unsafe-fixes` option).\n",
                "tool": "ruff_check",
                "tool_module": "ruff",
                "tool_version": "ruff 0.14.4"
            },
            "exit": "exit 1",
            "message": "ruff_check failed for x_legatus_tactica_impetus_x (exit 1)\ncwd: C:\\x_runner_x\\x_legatus_tactica_impetus_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311\nstarted_at: 2025-11-10T06:11:43.522463+00:00\nduration: 0.132s\ntool_version: ruff 0.14.4\nstdout:\nFBT001 Boolean-typed positional argument in function definition\n  --> firmware\\boot.py:32:22\n   |\n31 | class _WLAN(Protocol):\n32 |     def active(self, is_active: bool | None = ...) -> bool: ...\n\u2026\nstderr:\n<empty>",
            "repo": "x_legatus_tactica_impetus_x",
            "repo_path": "C:\\x_runner_x\\x_legatus_tactica_impetus_x",
            "stderr_preview": null,
            "stdout_preview": "FBT001 Boolean-typed positional argument in function definition\n  --> firmware\\boot.py:32:22\n   |\n31 | class _WLAN(Protocol):\n32 |     def active(self, is_active: bool | None = ...) -> bool: ...\n\u2026",
            "suggested_action": "Investigate",
            "summary": "ruff_check failed for x_legatus_tactica_impetus_x (exit 1) cwd: C:\\x_runner_x\\x_legatus_tactica_impetus_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 \u2026",
            "tool": "ruff_check",
            "tool_version": "ruff 0.14.4"
        },
        {
            "captured_at": "2025-11-10T06:11:41.363425+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "ruff",
                    "check",
                    ".",
                    "--fix",
                    "--select",
                    "ALL",
                    "--ignore",
                    "D,COM812,ISC001,T20",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
                "cwd": "C:\\x_runner_x\\x_legatus_tactica_impetus_x",
                "duration_seconds": 0.20031609997386113,
                "ended_at": "2025-11-10T06:11:41.363425+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "firmware/__init__.py",
                    "firmware/boot.py",
                    "firmware/lib/__init__.py",
                    "firmware/lib/mp_time.py",
                    "firmware/lib/types.py",
                    "firmware/lib/x_cls_calibrate_x.py",
                    "firmware/lib/x_cls_cfg_x.py",
                    "firmware/lib/x_cls_combo_segmenter_x.py",
                    "firmware/lib/x_cls_comm_uart_x.py",
                    "firmware/lib/x_cls_datalogger_x.py",
                    "firmware/lib/x_cls_display_tft_x.py",
                    "firmware/lib/x_cls_features_imu_x.py",
                    "firmware/lib/x_cls_filters_x.py",
                    "firmware/lib/x_cls_metrics_x.py",
                    "firmware/lib/x_cls_punch_classifier_x.py",
                    "firmware/lib/x_cls_punch_detector_x.py",
                    "firmware/lib/x_cls_sensor_bno055_x.py",
                    "firmware/main.py",
                    "firmware/secrets_template.py"
                ],
                "repo": "x_legatus_tactica_impetus_x",
                "repo_hash": "7b46d3be3aca6130625d7ec34c6659385442c290e75a52c8ab06c17ad5c5f920",
                "repo_path": "C:\\x_runner_x\\x_legatus_tactica_impetus_x",
                "started_at": "2025-11-10T06:11:41.163115+00:00",
                "stderr": "",
                "stdout": "FBT001 Boolean-typed positional argument in function definition\n  --> firmware\\boot.py:32:22\n   |\n31 | class _WLAN(Protocol):\n32 |     def active(self, is_active: bool | None = ...) -> bool: ...\n   |                      ^^^^^^^^^\n33 |\n34 |     def isconnected(self) -> bool: ...\n   |\n\nN802 Function name `WLAN` should be lowercase\n  --> firmware\\boot.py:42:9\n   |\n40 |     STA_IF: int\n41 |\n42 |     def WLAN(self, interface_id: int) -> _WLAN: ...\n   |         ^^^^\n   |\n\nPLC0415 `import` should be at the top-level of a file\n  --> firmware\\boot.py:66:9\n   |\n64 |         return\n65 |     try:\n66 |         import secrets as wifi_secrets\n   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n67 |     except Exception:\n68 |         return\n   |\n\nBLE001 Do not catch blind exception: `Exception`\n  --> firmware\\boot.py:67:12\n   |\n65 |     try:\n66 |         import secrets as wifi_secrets\n67 |     except Exception:\n   |            ^^^^^^^^^\n68 |         return\n   |\n\nFBT003 Boolean positional value in function call\n  --> firmware\\boot.py:77:21\n   |\n75 |     wlan = network_module.WLAN(network_module.STA_IF)\n76 |     if not wlan.active():\n77 |         wlan.active(True)\n   |                     ^^^^\n78 |     if wlan.isconnected():\n79 |         return\n   |\n\nE501 Line too long (94 > 88)\n  --> firmware\\boot.py:90:89\n   |\n88 |     if machine_module is None:\n89 |         return True\n90 |     pin = machine_module.Pin(SAFE_MODE_PIN, machine_module.Pin.IN, machine_module.Pin.PULL_UP)\n   |                                                                                         ^^^^^^\n91 |     sleep_ms(10)\n92 |     return pin.value() == 0  # pressed\n   |\n\nSIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`\n   --> firmware\\boot.py:96:5\n    |\n 95 |   if machine_module is not None:\n 96 | /     try:\n 97 | |         machine_module.freq(240_000_000)\n 98 | |     except Exception:  # pragma: no cover - hardware quirk tolerance\n 99 | |         pass\n    | |____________^\n100 |\n101 |   if not _should_skip_wifi():\n    |\nhelp: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`\n\nS110 `try`-`except`-`pass` detected, consider logging the exception\n   --> firmware\\boot.py:98:5\n    |\n 96 |       try:\n 97 |           machine_module.freq(240_000_000)\n 98 | /     except Exception:  # pragma: no cover - hardware quirk tolerance\n 99 | |         pass\n    | |____________^\n100 |\n101 |   if not _should_skip_wifi():\n    |\n\nBLE001 Do not catch blind exception: `Exception`\n  --> firmware\\boot.py:98:12\n   |\n96 |     try:\n97 |         machine_module.freq(240_000_000)\n98 |     except Exception:  # pragma: no cover - hardware quirk tolerance\n   |            ^^^^^^^^^\n99 |         pass\n   |\n\nTC001 Move application import `.types.Vector3` into a type-checking block\n --> firmware\\lib\\x_cls_calibrate_x.py:8:20\n  |\n7 | from . import x_cls_features_imu_x as features\n8 | from .types import Vector3\n  |                    ^^^^^^^\n  |\nhelp: Move into type-checking block\n\nE501 Line too long (94 > 88)\n  --> firmware\\lib\\x_cls_calibrate_x.py:53:89\n   |\n51 |         self.omega_samples = []\n52 |\n53 |     def add(self, ts_ms: int, linear_accel: Vector3, gravity: Vector3, gyro: Vector3) -> None:\n   |                                                                                         ^^^^^^\n54 |         self._count += 1\n55 |         self._sum_g[0] += gravity[0]\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `512` with a constant variable\n  --> firmware\\lib\\x_cls_calibrate_x.py:72:38\n   |\n70 |         self._jerk_stats.add(jerk)\n71 |         self._omega_stats.add(omega_mag)\n72 |         if len(self.accel_samples) < 512:\n   |                                      ^^^\n73 |             self.accel_samples.append(accel_mag)\n74 |         if len(self.jerk_samples) < 512:\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `512` with a constant variable\n  --> firmware\\lib\\x_cls_calibrate_x.py:74:37\n   |\n72 |         if len(self.accel_samples) < 512:\n73 |             self.accel_samples.append(accel_mag)\n74 |         if len(self.jerk_samples) < 512:\n   |                                     ^^^\n75 |             self.jerk_samples.append(jerk)\n76 |         if len(self.omega_samples) < 512:\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `512` with a constant variable\n  --> firmware\\lib\\x_cls_calibrate_x.py:76:38\n   |\n74 |         if len(self.jerk_samples) < 512:\n75 |             self.jerk_samples.append(jerk)\n76 |         if len(self.omega_samples) < 512:\n   |                                      ^^^\n77 |             self.omega_samples.append(omega_mag)\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `2` with a constant variable\n   --> firmware\\lib\\x_cls_calibrate_x.py:122:25\n    |\n121 |     def std(self) -> float:\n122 |         if self.count < 2:\n    |                         ^\n123 |             return 0.0\n124 |         return (self.ssq / (self.count - 1)) ** 0.5\n    |\n\nTC003 Move standard library import `collections.abc.MutableMapping` into a type-checking block\n --> firmware\\lib\\x_cls_cfg_x.py:5:29\n  |\n3 | from __future__ import annotations\n4 |\n5 | from collections.abc import MutableMapping\n  |                             ^^^^^^^^^^^^^^\n6 |\n7 | try:\n  |\nhelp: Move into type-checking block\n\nPTH123 `open()` should be replaced by `Path.open()`\n  --> firmware\\lib\\x_cls_cfg_x.py:45:14\n   |\n43 |     cfg: ConfigDict = DEFAULT_CFG.copy()\n44 |     try:\n45 |         with open(_CFG_PATH) as handle:\n   |              ^^^^\n46 |             user_cfg = json.load(handle)\n47 |         if isinstance(user_cfg, dict):\n   |\nhelp: Replace with `Path.open()`\n\nPTH123 `open()` should be replaced by `Path.open()`\n  --> firmware\\lib\\x_cls_cfg_x.py:59:14\n   |\n57 |     try:\n58 |         tmp_path = _CFG_PATH + \".tmp\"\n59 |         with open(tmp_path, \"w\") as handle:\n   |              ^^^^\n60 |             json.dump(cfg, handle)\n61 |         os.rename(tmp_path, _CFG_PATH)\n   |\nhelp: Replace with `Path.open()`\n\nPTH104 `os.rename()` should be replaced by `Path.rename()`\n  --> firmware\\lib\\x_cls_cfg_x.py:61:9\n   |\n59 |         with open(tmp_path, \"w\") as handle:\n60 |             json.dump(cfg, handle)\n61 |         os.rename(tmp_path, _CFG_PATH)\n   |         ^^^^^^^^^\n62 |     except OSError:\n63 |         pass\n   |\nhelp: Replace with `Path(...).rename(...)`\n\nTC001 Move application import `.types.PunchEvent` into a type-checking block\n --> firmware\\lib\\x_cls_combo_segmenter_x.py:5:20\n  |\n3 | from __future__ import annotations\n4 |\n5 | from .types import PunchEvent\n  |                    ^^^^^^^^^^\n  |\nhelp: Move into type-checking block\n\nTC003 Move standard library import `types.ModuleType` into a type-checking block\n --> firmware\\lib\\x_cls_comm_uart_x.py:5:19\n  |\n3 | from __future__ import annotations\n4 |\n5 | from types import ModuleType\n  |                   ^^^^^^^^^^\n6 | from typing import TextIO, cast\n  |\nhelp: Move into type-checking block\n\nE402 Module level import not at top of file\n  --> firmware\\lib\\x_cls_comm_uart_x.py:20:1\n   |\n18 | SYS_MODULE: ModuleType | None = _sys\n19 |\n20 | from .types import LogPayload\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n   |\n\nTC001 Move application import `.types.LogPayload` into a type-checking block\n  --> firmware\\lib\\x_cls_comm_uart_x.py:20:20\n   |\n18 | SYS_MODULE: ModuleType | None = _sys\n19 |\n20 | from .types import LogPayload\n   |                    ^^^^^^^^^^\n   |\nhelp: Move into type-checking block\n\nFBT001 Boolean-typed positional argument in function definition\n  --> firmware\\lib\\x_cls_comm_uart_x.py:24:24\n   |\n23 | class UartStreamer:\n24 |     def __init__(self, enabled: bool = True) -> None:\n   |                        ^^^^^^^\n25 |         self.enabled = enabled and SYS_MODULE is not None\n   |\n\nFBT002 Boolean default positional argument in function definition\n  --> firmware\\lib\\x_cls_comm_uart_x.py:24:24\n   |\n23 | class UartStreamer:\n24 |     def __init__(self, enabled: bool = True) -> None:\n   |                        ^^^^^^^\n25 |         self.enabled = enabled and SYS_MODULE is not None\n   |\n\nS110 `try`-`except`-`pass` detected, consider logging the exception\n  --> firmware\\lib\\x_cls_comm_uart_x.py:36:9\n   |\n34 |               stdout.write(json.dumps(payload))\n35 |               stdout.write(\"\\n\")\n36 | /         except Exception:\n37 | |             pass\n   | |________________^\n   |\n\nBLE001 Do not catch blind exception: `Exception`\n  --> firmware\\lib\\x_cls_comm_uart_x.py:36:16\n   |\n34 |             stdout.write(json.dumps(payload))\n35 |             stdout.write(\"\\n\")\n36 |         except Exception:\n   |                ^^^^^^^^^\n37 |             pass\n   |\n\nTC001 Move application import `.types.LogPayload` into a type-checking block\n  --> firmware\\lib\\x_cls_datalogger_x.py:15:20\n   |\n13 |     import os\n14 |\n15 | from .types import LogPayload\n   |                    ^^^^^^^^^^\n   |\nhelp: Move into type-checking block\n\nSIM105 Use `contextlib.suppress(OSError)` instead of `try`-`except`-`pass`\n  --> firmware\\lib\\x_cls_datalogger_x.py:26:9\n   |\n25 |       def _ensure_dir(self) -> None:\n26 | /         try:\n27 | |             os.mkdir(self.root_dir)\n28 | |         except OSError:\n29 | |             pass\n   | |________________^\n30 |\n31 |       def start_session(self, session_id: int) -> None:\n   |\nhelp: Replace `try`-`except`-`pass` with `with contextlib.suppress(OSError): ...`\n\nPTH102 `os.mkdir()` should be replaced by `Path.mkdir()`\n  --> firmware\\lib\\x_cls_datalogger_x.py:27:13\n   |\n25 |     def _ensure_dir(self) -> None:\n26 |         try:\n27 |             os.mkdir(self.root_dir)\n   |             ^^^^^^^^\n28 |         except OSError:\n29 |             pass\n   |\nhelp: Replace with `Path(...).mkdir()`\n\nPLR2004 Magic value used in comparison, consider replacing `256` with a constant variable\n  --> firmware\\lib\\x_cls_datalogger_x.py:36:32\n   |\n35 |     def append(self, event: LogPayload) -> None:\n36 |         if len(self._buffer) > 256:\n   |                                ^^^\n37 |             self.flush()\n38 |         self._buffer.append(event)\n   |\n\nPTH123 `open()` should be replaced by `Path.open()`\n  --> firmware\\lib\\x_cls_datalogger_x.py:44:18\n   |\n42 |             return\n43 |         try:\n44 |             with open(self._session_path, \"a\", encoding=\"utf-8\") as handle:\n   |                  ^^^^\n45 |                 for item in self._buffer:\n46 |                     handle.write(json.dumps(item))\n   |\nhelp: Replace with `Path.open()`\n\nE501 Line too long (89 > 88)\n  --> firmware\\lib\\x_cls_display_tft_x.py:39:89\n   |\n37 |     def fill(self, color: int) -> None: ...\n38 |\n39 |     def fill_rect(self, x: int, y: int, width: int, height: int, color: int) -> None: ...\n   |                                                                                         ^\n40 |\n41 |     def text(self, font: _Font, text: str, x: int, y: int, color: int) -> None: ...\n   |\n\nS101 Use of `assert` detected\n  --> firmware\\lib\\x_cls_display_tft_x.py:60:9\n   |\n58 |             return\n59 |\n60 |         assert _st7789 is not None\n   |         ^^^^^^\n61 |         assert _SPI is not None\n62 |         assert _Pin is not None\n   |\n\nS101 Use of `assert` detected\n  --> firmware\\lib\\x_cls_display_tft_x.py:61:9\n   |\n60 |         assert _st7789 is not None\n61 |         assert _SPI is not None\n   |         ^^^^^^\n62 |         assert _Pin is not None\n   |\n\nS101 Use of `assert` detected\n  --> firmware\\lib\\x_cls_display_tft_x.py:62:9\n   |\n60 |         assert _st7789 is not None\n61 |         assert _SPI is not None\n62 |         assert _Pin is not None\n   |         ^^^^^^\n63 |\n64 |         spi = _SPI(1, baudrate=40_000_000, polarity=1, phase=1, sck=_Pin(18, _Pin.OUT), mosi=_Pin(19, _Pin.OUT))\n   |\n\nE501 Line too long (112 > 88)\n  --> firmware\\lib\\x_cls_display_tft_x.py:64:89\n   |\n62 |         assert _Pin is not None\n63 |\n64 |         spi = _SPI(1, baudrate=40_000_000, polarity=1, phase=1, sck=_Pin(18, _Pin.OUT), mosi=_Pin(19, _Pin.OUT))\n   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^\n65 |         self._tft = _st7789.ST7789(\n66 |             spi,\n   |\n\nE501 Line too long (95 > 88)\n   --> firmware\\lib\\x_cls_display_tft_x.py:116:89\n    |\n114 |             self._draw_text(self._font_big, 10, 10, f\"{int(counts):03d}\", _COLOR_GREEN)\n115 |         if self._font_small is not None:\n116 |             self._draw_text(self._font_small, 140, 16, f\"{last_type.upper():>8}\", _COLOR_WHITE)\n    |                                                                                         ^^^^^^^\n117 |             self._draw_text(self._font_small, 140, 40, f\"Conf {confidence:>4.2f}\", _COLOR_WHITE)\n118 |             self._tft.fill_rect(0, 80, 240, 40, _COLOR_BLACK)\n    |\n\nE501 Line too long (96 > 88)\n   --> firmware\\lib\\x_cls_display_tft_x.py:117:89\n    |\n115 |         if self._font_small is not None:\n116 |             self._draw_text(self._font_small, 140, 16, f\"{last_type.upper():>8}\", _COLOR_WHITE)\n117 |             self._draw_text(self._font_small, 140, 40, f\"Conf {confidence:>4.2f}\", _COLOR_WHITE)\n    |                                                                                         ^^^^^^^^\n118 |             self._tft.fill_rect(0, 80, 240, 40, _COLOR_BLACK)\n119 |             self._draw_text(self._font_small, 10, 86, f\"SPM {spm:>5.1f}\", _COLOR_YELLOW)\n    |\n\nE501 Line too long (99 > 88)\n   --> firmware\\lib\\x_cls_display_tft_x.py:120:89\n    |\n118 |             self._tft.fill_rect(0, 80, 240, 40, _COLOR_BLACK)\n119 |             self._draw_text(self._font_small, 10, 86, f\"SPM {spm:>5.1f}\", _COLOR_YELLOW)\n120 |             self._draw_text(self._font_small, 10, 106, f\"Peak {peak / 9.81:>5.2f}g\", _COLOR_YELLOW)\n    |                                                                                         ^^^^^^^^^^^\n121 |\n122 |     def show_status(self, message: str, success: bool = True) -> None:\n    |\n\nFBT001 Boolean-typed positional argument in function definition\n   --> firmware\\lib\\x_cls_display_tft_x.py:122:41\n    |\n120 |             self._draw_text(self._font_small, 10, 106, f\"Peak {peak / 9.81:>5.2f}g\", _COLOR_YELLOW)\n121 |\n122 |     def show_status(self, message: str, success: bool = True) -> None:\n    |                                         ^^^^^^^\n123 |         if not self.available:\n124 |             return\n    |\n\nFBT002 Boolean default positional argument in function definition\n   --> firmware\\lib\\x_cls_display_tft_x.py:122:41\n    |\n120 |             self._draw_text(self._font_small, 10, 106, f\"Peak {peak / 9.81:>5.2f}g\", _COLOR_YELLOW)\n121 |\n122 |     def show_status(self, message: str, success: bool = True) -> None:\n    |                                         ^^^^^^^\n123 |         if not self.available:\n124 |             return\n    |\n\nTC001 Move application import `.types.Vector3` into a type-checking block\n --> firmware\\lib\\x_cls_features_imu_x.py:5:20\n  |\n3 | from __future__ import annotations\n4 |\n5 | from .types import Vector3\n  |                    ^^^^^^^\n  |\nhelp: Move into type-checking block\n\nE501 Line too long (97 > 88)\n  --> firmware\\lib\\x_cls_features_imu_x.py:50:89\n   |\n50 | def gravity_aligned_components(linear_accel: Vector3, gravity: Vector3) -> tuple[float, Vector3]:\n   |                                                                                         ^^^^^^^^^\n51 |     g_unit = normalize(gravity)\n52 |     # component along gravity\n   |\n\nTC001 Move application import `.types.PunchEvent` into a type-checking block\n --> firmware\\lib\\x_cls_metrics_x.py:5:20\n  |\n3 | from __future__ import annotations\n4 |\n5 | from .types import PunchEvent\n  |                    ^^^^^^^^^^\n  |\nhelp: Move into type-checking block\n\nTC001 Move application import `.types.ClassificationPayload` into a type-checking block\n --> firmware\\lib\\x_cls_punch_classifier_x.py:6:20\n  |\n5 | from . import x_cls_features_imu_x as features\n6 | from .types import ClassificationPayload, PunchEvent, Vector3\n  |                    ^^^^^^^^^^^^^^^^^^^^^\n  |\nhelp: Move into type-checking block\n\nTC001 Move application import `.types.PunchEvent` into a type-checking block\n --> firmware\\lib\\x_cls_punch_classifier_x.py:6:43\n  |\n5 | from . import x_cls_features_imu_x as features\n6 | from .types import ClassificationPayload, PunchEvent, Vector3\n  |                                           ^^^^^^^^^^\n  |\nhelp: Move into type-checking block\n\nTC001 Move application import `.types.Vector3` into a type-checking block\n --> firmware\\lib\\x_cls_punch_classifier_x.py:6:55\n  |\n5 | from . import x_cls_features_imu_x as features\n6 | from .types import ClassificationPayload, PunchEvent, Vector3\n  |                                                       ^^^^^^^\n  |\nhelp: Move into type-checking block\n\nE501 Line too long (95 > 88)\n  --> firmware\\lib\\x_cls_punch_classifier_x.py:20:89\n   |\n18 |         self.forward_axis = features.normalize(forward_axis)\n19 |         self.up_axis = features.normalize((-gravity[0], -gravity[1], -gravity[2]))\n20 |         self.lateral_axis = features.normalize(features.cross(self.up_axis, self.forward_axis))\n   |                                                                                         ^^^^^^^\n21 |\n22 |     def classify(self, event: PunchEvent) -> ClassificationPayload:\n   |\n\nTC001 Move application import `.types.PunchEvent` into a type-checking block\n  --> firmware\\lib\\x_cls_punch_detector_x.py:10:20\n   |\n 8 | from . import x_cls_features_imu_x as features\n 9 | from .mp_time import ticks_diff\n10 | from .types import PunchEvent, Vector3\n   |                    ^^^^^^^^^^\n   |\nhelp: Move into type-checking block\n\nTC001 Move application import `.types.Vector3` into a type-checking block\n  --> firmware\\lib\\x_cls_punch_detector_x.py:10:32\n   |\n 8 | from . import x_cls_features_imu_x as features\n 9 | from .mp_time import ticks_diff\n10 | from .types import PunchEvent, Vector3\n   |                                ^^^^^^^\n   |\nhelp: Move into type-checking block\n\nPLR2004 Magic value used in comparison, consider replacing `2` with a constant variable\n  --> firmware\\lib\\x_cls_punch_detector_x.py:32:25\n   |\n31 |     def std(self) -> float:\n32 |         if self.count < 2:\n   |                         ^\n33 |             return 0.0\n34 |         return (self.ssq / (self.count - 1)) ** 0.5\n   |\n\nE501 Line too long (94 > 88)\n  --> firmware\\lib\\x_cls_punch_detector_x.py:80:89\n   |\n78 |         a = max(\n79 |             float(self.cfg[\"accel_thresh_min\"]),\n80 |             self._accel_stats.mean + float(self.cfg[\"alpha_sigma\"]) * self._accel_stats.std(),\n   |                                                                                         ^^^^^^\n81 |         )\n82 |         j = max(\n   |\n\nE501 Line too long (91 > 88)\n  --> firmware\\lib\\x_cls_punch_detector_x.py:84:89\n   |\n82 |         j = max(\n83 |             float(self.cfg[\"jerk_thresh_min\"]),\n84 |             self._jerk_stats.mean + float(self.cfg[\"jerk_sigma\"]) * self._jerk_stats.std(),\n   |                                                                                         ^^^\n85 |         )\n86 |         o = max(\n   |\n\nE501 Line too long (94 > 88)\n  --> firmware\\lib\\x_cls_punch_detector_x.py:88:89\n   |\n86 |         o = max(\n87 |             float(self.cfg[\"omega_thresh_min\"]),\n88 |             self._omega_stats.mean + float(self.cfg[\"omega_sigma\"]) * self._omega_stats.std(),\n   |                                                                                         ^^^^^^\n89 |         )\n90 |         return a, j, o\n   |\n\nPLR0911 Too many return statements (7 > 6)\n  --> firmware\\lib\\x_cls_punch_detector_x.py:92:9\n   |\n90 |         return a, j, o\n91 |\n92 |     def update(\n   |         ^^^^^^\n93 |         self,\n94 |         *,\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `40` with a constant variable\n   --> firmware\\lib\\x_cls_punch_detector_x.py:142:39\n    |\n141 |             if not trigger:\n142 |                 if cand.duration_ms < 40:\n    |                                       ^^\n143 |                     self._state = \"idle\"\n144 |                     self._candidate = None\n    |\n\nTC001 Move application import `.types.Vector3` into a type-checking block\n --> firmware\\lib\\x_cls_sensor_bno055_x.py:9:20\n  |\n8 | from .mp_time import sleep_ms\n9 | from .types import Vector3\n  |                    ^^^^^^^\n  |\nhelp: Move into type-checking block\n\nE402 Module level import not at top of file\n  --> firmware\\main.py:14:1\n   |\n12 | machine = _machine_module\n13 |\n14 | from lib import x_cls_cfg_x as cfg_mod\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n15 | from lib import x_cls_features_imu_x as features\n16 | from lib.mp_time import sleep_ms, ticks_add, ticks_diff, ticks_ms\n   |\n\nE402 Module level import not at top of file\n  --> firmware\\main.py:15:1\n   |\n14 | from lib import x_cls_cfg_x as cfg_mod\n15 | from lib import x_cls_features_imu_x as features\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n16 | from lib.mp_time import sleep_ms, ticks_add, ticks_diff, ticks_ms\n17 | from lib.types import ClassificationPayload, LogPayload, PunchEvent\n   |\n\nE402 Module level import not at top of file\n  --> firmware\\main.py:16:1\n   |\n14 | from lib import x_cls_cfg_x as cfg_mod\n15 | from lib import x_cls_features_imu_x as features\n16 | from lib.mp_time import sleep_ms, ticks_add, ticks_diff, ticks_ms\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n17 | from lib.types import ClassificationPayload, LogPayload, PunchEvent\n18 | from lib.x_cls_calibrate_x import CalibrationResult, Calibrator\n   |\n\nE402 Module level import not at top of file\n  --> firmware\\main.py:17:1\n   |\n15 | from lib import x_cls_features_imu_x as features\n16 | from lib.mp_time import sleep_ms, ticks_add, ticks_diff, ticks_ms\n17 | from lib.types import ClassificationPayload, LogPayload, PunchEvent\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n18 | from lib.x_cls_calibrate_x import CalibrationResult, Calibrator\n19 | from lib.x_cls_combo_segmenter_x import ComboSegmenter\n   |\n\nTC002 Move third-party import `lib.types.ClassificationPayload` into a type-checking block\n  --> firmware\\main.py:17:23\n   |\n15 | from lib import x_cls_features_imu_x as features\n16 | from lib.mp_time import sleep_ms, ticks_add, ticks_diff, ticks_ms\n17 | from lib.types import ClassificationPayload, LogPayload, PunchEvent\n   |                       ^^^^^^^^^^^^^^^^^^^^^\n18 | from lib.x_cls_calibrate_x import CalibrationResult, Calibrator\n19 | from lib.x_cls_combo_segmenter_x import ComboSegmenter\n   |\nhelp: Move into type-checking block\n\nTC002 Move third-party import `lib.types.LogPayload` into a type-checking block\n  --> firmware\\main.py:17:46\n   |\n15 | from lib import x_cls_features_imu_x as features\n16 | from lib.mp_time import sleep_ms, ticks_add, ticks_diff, ticks_ms\n17 | from lib.types import ClassificationPayload, LogPayload, PunchEvent\n   |                                              ^^^^^^^^^^\n18 | from lib.x_cls_calibrate_x import CalibrationResult, Calibrator\n19 | from lib.x_cls_combo_segmenter_x import ComboSegmenter\n   |\nhelp: Move into type-checking block\n\nTC002 Move third-party import `lib.types.PunchEvent` into a type-checking block\n  --> firmware\\main.py:17:58\n   |\n15 | from lib import x_cls_features_imu_x as features\n16 | from lib.mp_time import sleep_ms, ticks_add, ticks_diff, ticks_ms\n17 | from lib.types import ClassificationPayload, LogPayload, PunchEvent\n   |                                                          ^^^^^^^^^^\n18 | from lib.x_cls_calibrate_x import CalibrationResult, Calibrator\n19 | from lib.x_cls_combo_segmenter_x import ComboSegmenter\n   |\nhelp: Move into type-checking block\n\nE402 Module level import not at top of file\n  --> firmware\\main.py:18:1\n   |\n16 | from lib.mp_time import sleep_ms, ticks_add, ticks_diff, ticks_ms\n17 | from lib.types import ClassificationPayload, LogPayload, PunchEvent\n18 | from lib.x_cls_calibrate_x import CalibrationResult, Calibrator\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n19 | from lib.x_cls_combo_segmenter_x import ComboSegmenter\n20 | from lib.x_cls_comm_uart_x import UartStreamer\n   |\n\nE402 Module level import not at top of file\n  --> firmware\\main.py:19:1\n   |\n17 | from lib.types import ClassificationPayload, LogPayload, PunchEvent\n18 | from lib.x_cls_calibrate_x import CalibrationResult, Calibrator\n19 | from lib.x_cls_combo_segmenter_x import ComboSegmenter\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n20 | from lib.x_cls_comm_uart_x import UartStreamer\n21 | from lib.x_cls_datalogger_x import DataLogger\n   |\n\nE402 Module level import not at top of file\n  --> firmware\\main.py:20:1\n   |\n18 | from lib.x_cls_calibrate_x import CalibrationResult, Calibrator\n19 | from lib.x_cls_combo_segmenter_x import ComboSegmenter\n20 | from lib.x_cls_comm_uart_x import UartStreamer\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n21 | from lib.x_cls_datalogger_x import DataLogger\n22 | from lib.x_cls_display_tft_x import Display\n   |\n\nE402 Module level import not at top of file\n  --> firmware\\main.py:21:1\n   |\n19 | from lib.x_cls_combo_segmenter_x import ComboSegmenter\n20 | from lib.x_cls_comm_uart_x import UartStreamer\n21 | from lib.x_cls_datalogger_x import DataLogger\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n22 | from lib.x_cls_display_tft_x import Display\n23 | from lib.x_cls_filters_x import SimpleTimer\n   |\n\nE402 Module level import not at top of file\n  --> firmware\\main.py:22:1\n   |\n20 | from lib.x_cls_comm_uart_x import UartStreamer\n21 | from lib.x_cls_datalogger_x import DataLogger\n22 | from lib.x_cls_display_tft_x import Display\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n23 | from lib.x_cls_filters_x import SimpleTimer\n24 | from lib.x_cls_metrics_x import MetricsTracker\n   |\n\nE402 Module level import not at top of file\n  --> firmware\\main.py:23:1\n   |\n21 | from lib.x_cls_datalogger_x import DataLogger\n22 | from lib.x_cls_display_tft_x import Display\n23 | from lib.x_cls_filters_x import SimpleTimer\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n24 | from lib.x_cls_metrics_x import MetricsTracker\n25 | from lib.x_cls_punch_classifier_x import PunchClassifier\n   |\n\nE402 Module level import not at top of file\n  --> firmware\\main.py:24:1\n   |\n22 | from lib.x_cls_display_tft_x import Display\n23 | from lib.x_cls_filters_x import SimpleTimer\n24 | from lib.x_cls_metrics_x import MetricsTracker\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n25 | from lib.x_cls_punch_classifier_x import PunchClassifier\n26 | from lib.x_cls_punch_detector_x import PunchDetector\n   |\n\nE402 Module level import not at top of file\n  --> firmware\\main.py:25:1\n   |\n23 | from lib.x_cls_filters_x import SimpleTimer\n24 | from lib.x_cls_metrics_x import MetricsTracker\n25 | from lib.x_cls_punch_classifier_x import PunchClassifier\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n26 | from lib.x_cls_punch_detector_x import PunchDetector\n27 | from lib.x_cls_sensor_bno055_x import BNO055\n   |\n\nE402 Module level import not at top of file\n  --> firmware\\main.py:26:1\n   |\n24 | from lib.x_cls_metrics_x import MetricsTracker\n25 | from lib.x_cls_punch_classifier_x import PunchClassifier\n26 | from lib.x_cls_punch_detector_x import PunchDetector\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n27 | from lib.x_cls_sensor_bno055_x import BNO055\n   |\n\nE402 Module level import not at top of file\n  --> firmware\\main.py:27:1\n   |\n25 | from lib.x_cls_punch_classifier_x import PunchClassifier\n26 | from lib.x_cls_punch_detector_x import PunchDetector\n27 | from lib.x_cls_sensor_bno055_x import BNO055\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n   |\n\nE501 Line too long (102 > 88)\n  --> firmware\\main.py:44:89\n   |\n42 |             self._pin = None\n43 |         else:\n44 |             self._pin = cast(\"_PinProtocol\", machine.Pin(pin_no, machine.Pin.IN, machine.Pin.PULL_UP))\n   |                                                                                         ^^^^^^^^^^^^^^\n45 |         self._last = 1\n   |\n\nTRY003 Avoid specifying long messages outside the exception class\n  --> firmware\\main.py:58:15\n   |\n56 | def _init_sensor() -> BNO055:\n57 |     if machine is None:\n58 |         raise RuntimeError(\"machine module unavailable\")\n   |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n59 |     scl = machine.Pin(22, machine.Pin.OUT, machine.Pin.PULL_UP)\n60 |     sda = machine.Pin(21, machine.Pin.OUT, machine.Pin.PULL_UP)\n   |\n\nEM101 Exception must not use a string literal, assign to variable first\n  --> firmware\\main.py:58:28\n   |\n56 | def _init_sensor() -> BNO055:\n57 |     if machine is None:\n58 |         raise RuntimeError(\"machine module unavailable\")\n   |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n59 |     scl = machine.Pin(22, machine.Pin.OUT, machine.Pin.PULL_UP)\n60 |     sda = machine.Pin(21, machine.Pin.OUT, machine.Pin.PULL_UP)\n   |\nhelp: Assign to variable; remove string literal\n\nC901 `main` is too complex (18 > 10)\n  --> firmware\\main.py:91:5\n   |\n91 | def main():\n   |     ^^^^\n92 |     if machine is None:\n93 |         raise RuntimeError(\"MicroPython hardware modules unavailable\")\n   |\n\nPLR0912 Too many branches (19 > 12)\n  --> firmware\\main.py:91:5\n   |\n91 | def main():\n   |     ^^^^\n92 |     if machine is None:\n93 |         raise RuntimeError(\"MicroPython hardware modules unavailable\")\n   |\n\nPLR0915 Too many statements (101 > 50)\n  --> firmware\\main.py:91:5\n   |\n91 | def main():\n   |     ^^^^\n92 |     if machine is None:\n93 |         raise RuntimeError(\"MicroPython hardware modules unavailable\")\n   |\n\nANN201 Missing return type annotation for public function `main`\n  --> firmware\\main.py:91:5\n   |\n91 | def main():\n   |     ^^^^\n92 |     if machine is None:\n93 |         raise RuntimeError(\"MicroPython hardware modules unavailable\")\n   |\nhelp: Add return type annotation: `None`\n\nTRY003 Avoid specifying long messages outside the exception class\n  --> firmware\\main.py:93:15\n   |\n91 | def main():\n92 |     if machine is None:\n93 |         raise RuntimeError(\"MicroPython hardware modules unavailable\")\n   |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n94 |\n95 |     cfg: cfg_mod.ConfigDict = cfg_mod.load_cfg()\n   |\n\nEM101 Exception must not use a string literal, assign to variable first\n  --> firmware\\main.py:93:28\n   |\n91 | def main():\n92 |     if machine is None:\n93 |         raise RuntimeError(\"MicroPython hardware modules unavailable\")\n   |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n94 |\n95 |     cfg: cfg_mod.ConfigDict = cfg_mod.load_cfg()\n   |\nhelp: Assign to variable; remove string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> firmware\\main.py:112:15\n    |\n110 |     calibrator, cal_result = _run_calibration(sensor, cfg, display)\n111 |     if cal_result is None:\n112 |         raise RuntimeError(\"Calibration failed\")\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n113 |     forward_axis = cal_result.forward_axis\n114 |     jerk_noise = cal_result.jerk_noise\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> firmware\\main.py:112:28\n    |\n110 |     calibrator, cal_result = _run_calibration(sensor, cfg, display)\n111 |     if cal_result is None:\n112 |         raise RuntimeError(\"Calibration failed\")\n    |                            ^^^^^^^^^^^^^^^^^^^^\n113 |     forward_axis = cal_result.forward_axis\n114 |     jerk_noise = cal_result.jerk_noise\n    |\nhelp: Assign to variable; remove string literal\n\nE501 Line too long (97 > 88)\n   --> firmware\\main.py:122:89\n    |\n120 |     for idx in range(limit):\n121 |         accel = calibrator.accel_samples[idx]\n122 |         jerk = calibrator.jerk_samples[idx] if idx < len(calibrator.jerk_samples) else jerk_noise\n    |                                                                                         ^^^^^^^^^\n123 |         omega = calibrator.omega_samples[idx] if idx < len(calibrator.omega_samples) else omega_noise\n124 |         detector.ingest_idle(accel, jerk, omega)\n    |\n\nE501 Line too long (101 > 88)\n   --> firmware\\main.py:123:89\n    |\n121 |         accel = calibrator.accel_samples[idx]\n122 |         jerk = calibrator.jerk_samples[idx] if idx < len(calibrator.jerk_samples) else jerk_noise\n123 |         omega = calibrator.omega_samples[idx] if idx < len(calibrator.omega_samples) else omega_noise\n    |                                                                                         ^^^^^^^^^^^^^\n124 |         detector.ingest_idle(accel, jerk, omega)\n    |\n\nSIM108 Use ternary operator `dt_ms = sample_period if last_ts is None else ticks_diff(now, last_ts)` instead of `if`-`else`-block\n   --> firmware\\main.py:147:9\n    |\n145 |           classifier.update_orientation(gravity, forward_axis)\n146 |\n147 | /         if last_ts is None:\n148 | |             dt_ms = sample_period\n149 | |         else:\n150 | |             dt_ms = ticks_diff(now, last_ts)\n    | |____________________________________________^\n151 |           last_ts = now\n    |\nhelp: Replace `if`-`else`-block with `dt_ms = sample_period if last_ts is None else ticks_diff(now, last_ts)`\n\nE501 Line too long (92 > 88)\n   --> firmware\\main.py:158:89\n    |\n157 |         if not running:\n158 |             detector.ingest_idle(features.magnitude(linear), jerk, features.magnitude(gyro))\n    |                                                                                         ^^^^\n159 |\n160 |         if start_button.pressed():\n    |\n\nFound 90 errors.\nNo fixes available (23 hidden fixes can be enabled with the `--unsafe-fixes` option).\n",
                "tool": "ruff_fix",
                "tool_module": "ruff",
                "tool_version": "ruff 0.14.4"
            },
            "exit": "exit 1",
            "message": "ruff_fix failed for x_legatus_tactica_impetus_x (exit 1)\ncwd: C:\\x_runner_x\\x_legatus_tactica_impetus_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311\nstarted_at: 2025-11-10T06:11:41.163115+00:00\nduration: 0.200s\ntool_version: ruff 0.14.4\nstdout:\nFBT001 Boolean-typed positional argument in function definition\n  --> firmware\\boot.py:32:22\n   |\n31 | class _WLAN(Protocol):\n32 |     def active(self, is_active: bool | None = ...) -> bool: ...\n\u2026\nstderr:\n<empty>",
            "repo": "x_legatus_tactica_impetus_x",
            "repo_path": "C:\\x_runner_x\\x_legatus_tactica_impetus_x",
            "stderr_preview": null,
            "stdout_preview": "FBT001 Boolean-typed positional argument in function definition\n  --> firmware\\boot.py:32:22\n   |\n31 | class _WLAN(Protocol):\n32 |     def active(self, is_active: bool | None = ...) -> bool: ...\n\u2026",
            "suggested_action": "Investigate",
            "summary": "ruff_fix failed for x_legatus_tactica_impetus_x (exit 1) cwd: C:\\x_runner_x\\x_legatus_tactica_impetus_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,\u2026",
            "tool": "ruff_fix",
            "tool_version": "ruff 0.14.4"
        },
        {
            "captured_at": "2025-11-10T06:12:17.857609+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m mypy --package x_legatus_vigil_nexus_x --strict --no-warn-unused-configs --show-error-codes --warn-return-any --warn-unreachable --disallow-any-unimported --disallow-any-expr --disallow-any-decorated --disallow-any-explicit",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "mypy",
                    "--package",
                    "x_legatus_vigil_nexus_x",
                    "--strict",
                    "--no-warn-unused-configs",
                    "--show-error-codes",
                    "--warn-return-any",
                    "--warn-unreachable",
                    "--disallow-any-unimported",
                    "--disallow-any-expr",
                    "--disallow-any-decorated",
                    "--disallow-any-explicit"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m mypy --package x_legatus_vigil_nexus_x --strict --no-warn-unused-configs --show-error-codes --warn-return-any --warn-unreachable --disallow-any-unimported --disallow-any-expr --disallow-any-decorated --disallow-any-explicit",
                "cwd": "C:\\x_runner_x\\x_legatus_vigil_nexus_x",
                "duration_seconds": 11.285710900032427,
                "ended_at": "2025-11-10T06:12:17.857609+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "clients/__init__.py",
                    "clients/session_client.py",
                    "clients/windows/__init__.py",
                    "clients/windows/main.py",
                    "control_plane/__init__.py",
                    "control_plane/config.py",
                    "control_plane/models.py",
                    "control_plane/security.py",
                    "control_plane/session_manager.py",
                    "control_plane/video_router.py",
                    "firmware/__init__.py",
                    "firmware/boot.py",
                    "firmware/config_store.py",
                    "firmware/hid_relay.py",
                    "firmware/main.py",
                    "firmware/video_pipeline.py",
                    "firmware/websocket_router.py",
                    "firmware/wifi_manager.py"
                ],
                "repo": "x_legatus_vigil_nexus_x",
                "repo_hash": "0d1ad0f613c22d947c7326a26c1df32308e4fbc5367fde5572069a0c51ce6235",
                "repo_path": "C:\\x_runner_x\\x_legatus_vigil_nexus_x",
                "started_at": "2025-11-10T06:12:06.571899+00:00",
                "stderr": "",
                "stdout": "control_plane\\models.py:3: error: Skipping analyzing \"pydantic\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\ncontrol_plane\\models.py:6: error: Class cannot subclass \"BaseModel\" (has type \"Any\")  [misc]\ncontrol_plane\\models.py:6: error: Base type BaseModel becomes \"Any\" due to an unfollowed import  [no-any-unimported]\ncontrol_plane\\models.py:11: error: Class cannot subclass \"BaseModel\" (has type \"Any\")  [misc]\ncontrol_plane\\models.py:11: error: Base type BaseModel becomes \"Any\" due to an unfollowed import  [no-any-unimported]\ncontrol_plane\\models.py:17: error: Class cannot subclass \"BaseModel\" (has type \"Any\")  [misc]\ncontrol_plane\\models.py:17: error: Base type BaseModel becomes \"Any\" due to an unfollowed import  [no-any-unimported]\ncontrol_plane\\models.py:25: error: Class cannot subclass \"BaseModel\" (has type \"Any\")  [misc]\ncontrol_plane\\models.py:25: error: Base type BaseModel becomes \"Any\" due to an unfollowed import  [no-any-unimported]\ncontrol_plane\\models.py:31: error: Class cannot subclass \"BaseModel\" (has type \"Any\")  [misc]\ncontrol_plane\\models.py:31: error: Base type BaseModel becomes \"Any\" due to an unfollowed import  [no-any-unimported]\nclients\\session_client.py:12: error: Skipping analyzing \"websockets\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\nclients\\session_client.py:12: note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports\nclients\\session_client.py:55: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nclients\\session_client.py:99: error: Expression has type \"Any\"  [misc]\nclients\\session_client.py:101: error: Expression has type \"Any\"  [misc]\nclients\\session_client.py:102: error: Expression has type \"Any\"  [misc]\nclients\\session_client.py:105: error: Expression has type \"Any\"  [misc]\nclients\\session_client.py:171: error: Expression has type \"Any\"  [misc]\nclients\\session_client.py:173: error: Expression has type \"Any\"  [misc]\nFound 19 errors in 2 files (checked 20 source files)\n",
                "tool": "mypy",
                "tool_module": "mypy",
                "tool_version": "mypy 1.18.2 (compiled: yes)"
            },
            "exit": "exit 1",
            "message": "mypy failed for x_legatus_vigil_nexus_x (exit 1)\ncwd: C:\\x_runner_x\\x_legatus_vigil_nexus_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m mypy --package x_legatus_vigil_nexus_x --strict --no-warn-unused-configs --show-error-codes --warn-return-any --warn-unreachable --disallow-any-unimported --disallow-any-expr --disallow-any-decorated --disallow-any-explicit\nstarted_at: 2025-11-10T06:12:06.571899+00:00\nduration: 11.286s\ntool_version: mypy 1.18.2 (compiled: yes)\nstdout:\ncontrol_plane\\models.py:3: error: Skipping analyzing \"pydantic\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\ncontrol_plane\\models.py:6: error: Class cannot subclass \"BaseModel\" (has type \"Any\")  [misc]\ncontrol_plane\\models.py:6: error: Base type BaseModel becomes \"Any\" due to an unfollowed import  [no-any-unimported]\ncontrol_plane\\models.py:11: error: Class cannot subclass \"BaseModel\" (has type \"Any\")  [misc]\ncontrol_plane\\models.py:11: error: Base type BaseModel becomes \"Any\" due to an unfollowed import  [no-any-unimported]\n\u2026\nstderr:\n<empty>",
            "repo": "x_legatus_vigil_nexus_x",
            "repo_path": "C:\\x_runner_x\\x_legatus_vigil_nexus_x",
            "stderr_preview": null,
            "stdout_preview": "control_plane\\models.py:3: error: Skipping analyzing \"pydantic\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\ncontrol_plane\\models.py:6: error: Class cannot subclass \"BaseModel\" (has type \"Any\")  [misc]\ncontrol_plane\\models.py:6: error: Base type BaseModel becomes \"Any\" due to an unfollowed import  [no-any-unimported]\ncontrol_plane\\models.py:11: error: Class cannot subclass \"BaseModel\" (has type \"Any\")  [misc]\ncontrol_plane\\models.py:11: error: Base type BaseModel becomes \"Any\" due to an unfollowed import  [no-any-unimported]\n\u2026",
            "suggested_action": "Investigate",
            "summary": "mypy failed for x_legatus_vigil_nexus_x (exit 1) cwd: C:\\x_runner_x\\x_legatus_vigil_nexus_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m mypy --package x_legatus_vigil_nexus_x --strict --no-warn-unused-conf\u2026",
            "tool": "mypy",
            "tool_version": "mypy 1.18.2 (compiled: yes)"
        },
        {
            "captured_at": "2025-11-10T06:12:06.568665+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "ruff",
                    "check",
                    ".",
                    "--select",
                    "ALL",
                    "--ignore",
                    "D,COM812,ISC001,T20",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
                "cwd": "C:\\x_runner_x\\x_legatus_vigil_nexus_x",
                "duration_seconds": 0.13168089999817312,
                "ended_at": "2025-11-10T06:12:06.568665+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "clients/__init__.py",
                    "clients/session_client.py",
                    "clients/windows/__init__.py",
                    "clients/windows/main.py",
                    "control_plane/__init__.py",
                    "control_plane/config.py",
                    "control_plane/models.py",
                    "control_plane/security.py",
                    "control_plane/session_manager.py",
                    "control_plane/video_router.py",
                    "firmware/__init__.py",
                    "firmware/boot.py",
                    "firmware/config_store.py",
                    "firmware/hid_relay.py",
                    "firmware/main.py",
                    "firmware/video_pipeline.py",
                    "firmware/websocket_router.py",
                    "firmware/wifi_manager.py"
                ],
                "repo": "x_legatus_vigil_nexus_x",
                "repo_hash": "0d1ad0f613c22d947c7326a26c1df32308e4fbc5367fde5572069a0c51ce6235",
                "repo_path": "C:\\x_runner_x\\x_legatus_vigil_nexus_x",
                "started_at": "2025-11-10T06:12:06.436985+00:00",
                "stderr": "",
                "stdout": "TC003 Move standard library import `collections.abc.AsyncIterator` into a type-checking block\n --> clients\\session_client.py:7:29\n  |\n5 | import asyncio\n6 | import json\n7 | from collections.abc import AsyncIterator, Mapping\n  |                             ^^^^^^^^^^^^^\n8 | from dataclasses import dataclass\n9 | from typing import TypedDict, cast\n  |\nhelp: Move into type-checking block\n\nTC003 Move standard library import `collections.abc.Mapping` into a type-checking block\n --> clients\\session_client.py:7:44\n  |\n5 | import asyncio\n6 | import json\n7 | from collections.abc import AsyncIterator, Mapping\n  |                                            ^^^^^^^\n8 | from dataclasses import dataclass\n9 | from typing import TypedDict, cast\n  |\nhelp: Move into type-checking block\n\nC416 Unnecessary dict comprehension (rewrite using `dict()`)\n   --> clients\\session_client.py:172:26\n    |\n170 |         }\n171 |         async with websockets.connect(ws_url, extra_headers=headers) as ws:\n172 |             serialized = {key: value for key, value in payload.items()}\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n173 |             await ws.send(json.dumps(serialized))\n    |\nhelp: Rewrite using `dict()`\n\nSIM108 Use ternary operator `api_base = str(api_base_obj) if not isinstance(api_base_obj, str) else api_base_obj` instead of `if`-`else`-block\n   --> clients\\windows\\main.py:361:5\n    |\n359 |           factory_token = factory_token_obj\n360 |\n361 | /     if not isinstance(api_base_obj, str):\n362 | |         api_base = str(api_base_obj)\n363 | |     else:\n364 | |         api_base = api_base_obj\n    | |_______________________________^\n365 |\n366 |       if not isinstance(fingerprint_obj, str):\n    |\nhelp: Replace `if`-`else`-block with `api_base = str(api_base_obj) if not isinstance(api_base_obj, str) else api_base_obj`\n\nPLW0603 Using the global statement to update `_SETTINGS_CACHE` is discouraged\n  --> control_plane\\config.py:25:12\n   |\n24 | def get_settings() -> Settings:\n25 |     global _SETTINGS_CACHE\n   |            ^^^^^^^^^^^^^^^\n26 |     if _SETTINGS_CACHE is None:\n27 |         _SETTINGS_CACHE = Settings(\n   |\n\nFound 5 errors.\nNo fixes available (4 hidden fixes can be enabled with the `--unsafe-fixes` option).\n",
                "tool": "ruff_check",
                "tool_module": "ruff",
                "tool_version": "ruff 0.14.4"
            },
            "exit": "exit 1",
            "message": "ruff_check failed for x_legatus_vigil_nexus_x (exit 1)\ncwd: C:\\x_runner_x\\x_legatus_vigil_nexus_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311\nstarted_at: 2025-11-10T06:12:06.436985+00:00\nduration: 0.132s\ntool_version: ruff 0.14.4\nstdout:\nTC003 Move standard library import `collections.abc.AsyncIterator` into a type-checking block\n --> clients\\session_client.py:7:29\n  |\n5 | import asyncio\n6 | import json\n\u2026\nstderr:\n<empty>",
            "repo": "x_legatus_vigil_nexus_x",
            "repo_path": "C:\\x_runner_x\\x_legatus_vigil_nexus_x",
            "stderr_preview": null,
            "stdout_preview": "TC003 Move standard library import `collections.abc.AsyncIterator` into a type-checking block\n --> clients\\session_client.py:7:29\n  |\n5 | import asyncio\n6 | import json\n\u2026",
            "suggested_action": "Investigate",
            "summary": "ruff_check failed for x_legatus_vigil_nexus_x (exit 1) cwd: C:\\x_runner_x\\x_legatus_vigil_nexus_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-l\u2026",
            "tool": "ruff_check",
            "tool_version": "ruff 0.14.4"
        },
        {
            "captured_at": "2025-11-10T06:12:04.558038+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "ruff",
                    "check",
                    ".",
                    "--fix",
                    "--select",
                    "ALL",
                    "--ignore",
                    "D,COM812,ISC001,T20",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
                "cwd": "C:\\x_runner_x\\x_legatus_vigil_nexus_x",
                "duration_seconds": 0.18613080005161464,
                "ended_at": "2025-11-10T06:12:04.558038+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "clients/__init__.py",
                    "clients/session_client.py",
                    "clients/windows/__init__.py",
                    "clients/windows/main.py",
                    "control_plane/__init__.py",
                    "control_plane/config.py",
                    "control_plane/models.py",
                    "control_plane/security.py",
                    "control_plane/session_manager.py",
                    "control_plane/video_router.py",
                    "firmware/__init__.py",
                    "firmware/boot.py",
                    "firmware/config_store.py",
                    "firmware/hid_relay.py",
                    "firmware/main.py",
                    "firmware/video_pipeline.py",
                    "firmware/websocket_router.py",
                    "firmware/wifi_manager.py"
                ],
                "repo": "x_legatus_vigil_nexus_x",
                "repo_hash": "0d1ad0f613c22d947c7326a26c1df32308e4fbc5367fde5572069a0c51ce6235",
                "repo_path": "C:\\x_runner_x\\x_legatus_vigil_nexus_x",
                "started_at": "2025-11-10T06:12:04.371915+00:00",
                "stderr": "",
                "stdout": "TC003 Move standard library import `collections.abc.AsyncIterator` into a type-checking block\n --> clients\\session_client.py:7:29\n  |\n5 | import asyncio\n6 | import json\n7 | from collections.abc import AsyncIterator, Mapping\n  |                             ^^^^^^^^^^^^^\n8 | from dataclasses import dataclass\n9 | from typing import TypedDict, cast\n  |\nhelp: Move into type-checking block\n\nTC003 Move standard library import `collections.abc.Mapping` into a type-checking block\n --> clients\\session_client.py:7:44\n  |\n5 | import asyncio\n6 | import json\n7 | from collections.abc import AsyncIterator, Mapping\n  |                                            ^^^^^^^\n8 | from dataclasses import dataclass\n9 | from typing import TypedDict, cast\n  |\nhelp: Move into type-checking block\n\nC416 Unnecessary dict comprehension (rewrite using `dict()`)\n   --> clients\\session_client.py:172:26\n    |\n170 |         }\n171 |         async with websockets.connect(ws_url, extra_headers=headers) as ws:\n172 |             serialized = {key: value for key, value in payload.items()}\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n173 |             await ws.send(json.dumps(serialized))\n    |\nhelp: Rewrite using `dict()`\n\nSIM108 Use ternary operator `api_base = str(api_base_obj) if not isinstance(api_base_obj, str) else api_base_obj` instead of `if`-`else`-block\n   --> clients\\windows\\main.py:361:5\n    |\n359 |           factory_token = factory_token_obj\n360 |\n361 | /     if not isinstance(api_base_obj, str):\n362 | |         api_base = str(api_base_obj)\n363 | |     else:\n364 | |         api_base = api_base_obj\n    | |_______________________________^\n365 |\n366 |       if not isinstance(fingerprint_obj, str):\n    |\nhelp: Replace `if`-`else`-block with `api_base = str(api_base_obj) if not isinstance(api_base_obj, str) else api_base_obj`\n\nPLW0603 Using the global statement to update `_SETTINGS_CACHE` is discouraged\n  --> control_plane\\config.py:25:12\n   |\n24 | def get_settings() -> Settings:\n25 |     global _SETTINGS_CACHE\n   |            ^^^^^^^^^^^^^^^\n26 |     if _SETTINGS_CACHE is None:\n27 |         _SETTINGS_CACHE = Settings(\n   |\n\nFound 5 errors.\nNo fixes available (4 hidden fixes can be enabled with the `--unsafe-fixes` option).\n",
                "tool": "ruff_fix",
                "tool_module": "ruff",
                "tool_version": "ruff 0.14.4"
            },
            "exit": "exit 1",
            "message": "ruff_fix failed for x_legatus_vigil_nexus_x (exit 1)\ncwd: C:\\x_runner_x\\x_legatus_vigil_nexus_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311\nstarted_at: 2025-11-10T06:12:04.371915+00:00\nduration: 0.186s\ntool_version: ruff 0.14.4\nstdout:\nTC003 Move standard library import `collections.abc.AsyncIterator` into a type-checking block\n --> clients\\session_client.py:7:29\n  |\n5 | import asyncio\n6 | import json\n\u2026\nstderr:\n<empty>",
            "repo": "x_legatus_vigil_nexus_x",
            "repo_path": "C:\\x_runner_x\\x_legatus_vigil_nexus_x",
            "stderr_preview": null,
            "stdout_preview": "TC003 Move standard library import `collections.abc.AsyncIterator` into a type-checking block\n --> clients\\session_client.py:7:29\n  |\n5 | import asyncio\n6 | import json\n\u2026",
            "suggested_action": "Investigate",
            "summary": "ruff_fix failed for x_legatus_vigil_nexus_x (exit 1) cwd: C:\\x_runner_x\\x_legatus_vigil_nexus_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --li\u2026",
            "tool": "ruff_fix",
            "tool_version": "ruff 0.14.4"
        },
        {
            "captured_at": "2025-11-10T06:12:36.287409+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "black",
                    ".",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311",
                    "--check",
                    "--diff"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff",
                "cwd": "C:\\x_runner_x\\x_make_astrocyte_gateway_x",
                "duration_seconds": 3.073327700025402,
                "ended_at": "2025-11-10T06:12:36.287409+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "astrocyte_gateway.py",
                    "client.py",
                    "json_contracts.py",
                    "projection.py",
                    "service.py",
                    "tests/test_gateway.py",
                    "tests/test_projection.py",
                    "tests/test_projection_validation.py",
                    "tests/test_service.py",
                    "tools/ui_projection_smoke.py",
                    "x_cls_make_astrocyte_gateway_x.py"
                ],
                "repo": "x_make_astrocyte_gateway_x",
                "repo_hash": "0187073162d89bee242fa03bf6399239bec10b8a3c1d1c5025846aa4883a2eb9",
                "repo_path": "C:\\x_runner_x\\x_make_astrocyte_gateway_x",
                "started_at": "2025-11-10T06:12:33.214082+00:00",
                "stderr": "would reformat C:\\x_runner_x\\x_make_astrocyte_gateway_x\\tests\\test_gateway.py\nwould reformat C:\\x_runner_x\\x_make_astrocyte_gateway_x\\service.py\nwould reformat C:\\x_runner_x\\x_make_astrocyte_gateway_x\\tests\\test_service.py\nwould reformat C:\\x_runner_x\\x_make_astrocyte_gateway_x\\client.py\nwould reformat C:\\x_runner_x\\x_make_astrocyte_gateway_x\\tests\\test_projection.py\nwould reformat C:\\x_runner_x\\x_make_astrocyte_gateway_x\\x_cls_make_astrocyte_gateway_x.py\nwould reformat C:\\x_runner_x\\x_make_astrocyte_gateway_x\\astrocyte_gateway.py\nwould reformat C:\\x_runner_x\\x_make_astrocyte_gateway_x\\projection.py\n\nOh no! \\U0001f4a5 \\U0001f494 \\U0001f4a5\n8 files would be reformatted, 4 files would be left unchanged.\n",
                "stdout": "--- C:\\x_runner_x\\x_make_astrocyte_gateway_x\\tests\\test_gateway.py\t2025-11-08 14:39:44.632205+00:00\n+++ C:\\x_runner_x\\x_make_astrocyte_gateway_x\\tests\\test_gateway.py\t2025-11-10 06:12:34.832289+00:00\n@@ -30,11 +30,15 @@\n     assert strings == [\"0:alpha\", \"1:alpha\", \"2:alpha\"]\n \n \n def test_regex_transform_findall_produces_matches() -> None:\n     gateway = AstrocyteGateway(name=\"regex\")\n-    payload = {\"text\": \"item-42 and item-93\", \"pattern\": r\"item-(\\d+)\", \"mode\": \"findall\"}\n+    payload = {\n+        \"text\": \"item-42 and item-93\",\n+        \"pattern\": r\"item-(\\d+)\",\n+        \"mode\": \"findall\",\n+    }\n     result = gateway.invoke_json(\"regex_transform\", payload)\n \n     assert result[\"status\"] == \"success\"\n     outputs = cast(\"Mapping[str, object]\", result[\"outputs\"])\n     matches = cast(\"list[object]\", outputs[\"matches\"])\n--- C:\\x_runner_x\\x_make_astrocyte_gateway_x\\service.py\t2025-11-08 14:39:44.641131+00:00\n+++ C:\\x_runner_x\\x_make_astrocyte_gateway_x\\service.py\t2025-11-10 06:12:34.856868+00:00\n@@ -16,11 +16,13 @@\n         status,\n     )\n     from fastapi.responses import JSONResponse\n     from pydantic import BaseModel, Field\n except ModuleNotFoundError as exc:  # pragma: no cover - service requires FastAPI\n-    raise ImportError(\"fastapi and pydantic are required to use the astrocyte service\") from exc\n+    raise ImportError(\n+        \"fastapi and pydantic are required to use the astrocyte service\"\n+    ) from exc\n \n from .astrocyte_gateway import AstrocyteGateway, AstrocyteLocality\n \n LOGGER = logging.getLogger(__name__)\n \n@@ -41,13 +43,17 @@\n     gateway: Mapping[str, Any]\n     operations: list[str]\n \n \n def _authorizer(expected_key: str | None):\n-    def dependency(header: str | None = Header(default=None, alias=_API_KEY_HEADER)) -> None:\n+    def dependency(\n+        header: str | None = Header(default=None, alias=_API_KEY_HEADER)\n+    ) -> None:\n         if expected_key and header != expected_key:\n-            raise HTTPException(status_code=status.HTTP_401_UNAUTHORIZED, detail=\"invalid api key\")\n+            raise HTTPException(\n+                status_code=status.HTTP_401_UNAUTHORIZED, detail=\"invalid api key\"\n+            )\n \n     return dependency\n \n \n def create_app(\n@@ -117,14 +123,24 @@\n \n __all__ = [\"CapabilitiesResponse\", \"InvokeRequest\", \"app\", \"create_app\", \"serve\"]\n \n \n def _build_cli_parser() -> argparse.ArgumentParser:\n-    parser = argparse.ArgumentParser(description=\"Run the astrocyte gateway FastAPI service\")\n-    parser.add_argument(\"--host\", default=\"0.0.0.0\", help=\"Host interface to bind (default: 0.0.0.0)\")\n-    parser.add_argument(\"--port\", type=int, default=8080, help=\"Port to bind (default: 8080)\")\n-    parser.add_argument(\"--api-key\", dest=\"api_key\", help=\"Optional API key required via X-Astrocyte-Key header\")\n+    parser = argparse.ArgumentParser(\n+        description=\"Run the astrocyte gateway FastAPI service\"\n+    )\n+    parser.add_argument(\n+        \"--host\", default=\"0.0.0.0\", help=\"Host interface to bind (default: 0.0.0.0)\"\n+    )\n+    parser.add_argument(\n+        \"--port\", type=int, default=8080, help=\"Port to bind (default: 8080)\"\n+    )\n+    parser.add_argument(\n+        \"--api-key\",\n+        dest=\"api_key\",\n+        help=\"Optional API key required via X-Astrocyte-Key header\",\n+    )\n     return parser\n \n \n def _main() -> None:\n     parser = _build_cli_parser()\n--- C:\\x_runner_x\\x_make_astrocyte_gateway_x\\tests\\test_service.py\t2025-11-09 21:58:28.807526+00:00\n+++ C:\\x_runner_x\\x_make_astrocyte_gateway_x\\tests\\test_service.py\t2025-11-10 06:12:34.886512+00:00\n@@ -55,11 +55,13 @@\n     return create_app(gateway=gateway)\n \n \n def test_service_invoke_endpoint(gateway_app) -> None:\n     client = TestClient(gateway_app)  # type: ignore[arg-type]\n-    response = client.post(\"/invoke\", json={\"operation\": \"ping\", \"payload\": {\"message\": \"hi\"}})\n+    response = client.post(\n+        \"/invoke\", json={\"operation\": \"ping\", \"payload\": {\"message\": \"hi\"}}\n+    )\n     assert response.status_code == 200\n     data = cast(\"Mapping[str, Any]\", response.json())\n     assert data[\"status\"] == \"success\"\n     outputs = cast(\"Mapping[str, Any]\", data[\"outputs\"])\n     assert outputs[\"echo\"] == \"hi\"\n@@ -94,11 +96,13 @@\n         self._client.close()  # type: ignore[attr-defined]\n \n \n def test_remote_gateway_executes_against_service(gateway_app) -> None:\n     http_client = _HttpxTestClientAdapter(gateway_app)\n-    with RemoteAstrocyteGateway(base_url=\"http://testserver\", client=http_client) as remote:\n+    with RemoteAstrocyteGateway(\n+        base_url=\"http://testserver\", client=http_client\n+    ) as remote:\n         result = remote.execute(\"ping\", {\"message\": \"remote\"})\n         assert result.status == \"success\"\n         assert result.outputs[\"echo\"] == \"remote\"\n \n \n@@ -108,11 +112,13 @@\n     path = tmp_path / \"snapshot.json\"\n     write_snapshot(snapshot, path)\n     return path\n \n \n-def test_environment_service_render_projection_graphviz(sample_snapshot_file: Path) -> None:\n+def test_environment_service_render_projection_graphviz(\n+    sample_snapshot_file: Path,\n+) -> None:\n     service = EnvironmentService()\n     payload = service.render_projection_graphviz(sample_snapshot_file)\n \n     result = cast(\"Mapping[str, Any]\", payload[\"result\"])\n     assert result.get(\"status\") == \"success\"\n--- C:\\x_runner_x\\x_make_astrocyte_gateway_x\\client.py\t2025-11-08 14:39:44.641131+00:00\n+++ C:\\x_runner_x\\x_make_astrocyte_gateway_x\\client.py\t2025-11-10 06:12:34.906855+00:00\n@@ -36,12 +36,16 @@\n         *,\n         api_key: str | None = None,\n         timeout: float = 30.0,\n         client: Any | None = None,\n     ) -> None:\n-        if httpx is None or _HTTPX_IMPORT_ERROR is not None:  # pragma: no cover - optional dependency\n-            raise ImportError(\"httpx is required to use RemoteAstrocyteGateway\") from _HTTPX_IMPORT_ERROR\n+        if (\n+            httpx is None or _HTTPX_IMPORT_ERROR is not None\n+        ):  # pragma: no cover - optional dependency\n+            raise ImportError(\n+                \"httpx is required to use RemoteAstrocyteGateway\"\n+            ) from _HTTPX_IMPORT_ERROR\n \n         super().__init__(\n             name=\"remote-astrocyte\",\n             role=AstrocyteRole.GATEWAY,\n             locality=AstrocyteLocality.REMOTE,\n@@ -57,20 +61,28 @@\n         role_value = self._descriptor.get(\"role\")\n         try:\n             if isinstance(role_value, str):\n                 self.role = AstrocyteRole(role_value)\n         except ValueError:\n-            LOGGER.debug(\"remote role %s not recognized; defaulting to %s\", role_value, self.role)\n+            LOGGER.debug(\n+                \"remote role %s not recognized; defaulting to %s\", role_value, self.role\n+            )\n         locality_value = self._descriptor.get(\"locality\")\n         try:\n             if isinstance(locality_value, str):\n                 self.locality = AstrocyteLocality(locality_value)\n         except ValueError:\n-            LOGGER.debug(\"remote locality %s not recognized; defaulting to %s\", locality_value, self.locality)\n+            LOGGER.debug(\n+                \"remote locality %s not recognized; defaulting to %s\",\n+                locality_value,\n+                self.locality,\n+            )\n \n         remote_ops = self._descriptor.get(\"operations\")\n-        if isinstance(remote_ops, Sequence) and not isinstance(remote_ops, (str, bytes, bytearray)):\n+        if isinstance(remote_ops, Sequence) and not isinstance(\n+            remote_ops, (str, bytes, bytearray)\n+        ):\n             self._remote_operations = tuple(str(entry) for entry in remote_ops)\n         else:\n             self._remote_operations = tuple()\n \n     def close(self) -> None:\n@@ -83,14 +95,16 @@\n     def __exit__(self, exc_type, exc, tb) -> None:  # type: ignore[override]\n         self.close()\n \n     def descriptor(self) -> dict[str, object]:\n         descriptor = super().descriptor()\n-        descriptor.update({\n-            \"base_url\": self._base_url,\n-            \"remote\": self._descriptor,\n-        })\n+        descriptor.update(\n+            {\n+                \"base_url\": self._base_url,\n+                \"remote\": self._descriptor,\n+            }\n+        )\n         return descriptor\n \n     def registered_operations(self) -> tuple[str, ...]:  # type: ignore[override]\n         return self._remote_operations\n \n@@ -119,11 +133,13 @@\n         status = str(result_payload.get(\"status\", \"failure\"))\n         outputs_obj = result_payload.get(\"outputs\", {})\n         outputs = dict(outputs_obj) if isinstance(outputs_obj, Mapping) else {}\n         messages = _ensure_string_sequence(result_payload.get(\"messages\"))\n         diagnostics_obj = result_payload.get(\"diagnostics\", {})\n-        diagnostics = dict(diagnostics_obj) if isinstance(diagnostics_obj, Mapping) else {}\n+        diagnostics = (\n+            dict(diagnostics_obj) if isinstance(diagnostics_obj, Mapping) else {}\n+        )\n         if status == \"success\":\n             return OperationResult.success(\n                 outputs=outputs,\n                 messages=messages,\n                 diagnostics=diagnostics,\n@@ -149,13 +165,17 @@\n             raise AstrocyteOperationError(\"unauthorized when fetching descriptor\")\n         response.raise_for_status()\n         data = response.json()\n         gateway_obj = data.get(\"gateway\")\n         if not isinstance(gateway_obj, Mapping):\n-            raise AstrocyteOperationError(\"descriptor payload missing gateway information\")\n+            raise AstrocyteOperationError(\n+                \"descriptor payload missing gateway information\"\n+            )\n         operations = data.get(\"operations\", [])\n-        if isinstance(operations, Sequence) and not isinstance(operations, (str, bytes, bytearray)):\n+        if isinstance(operations, Sequence) and not isinstance(\n+            operations, (str, bytes, bytearray)\n+        ):\n             operations_tuple = tuple(str(entry) for entry in operations)\n         else:\n             operations_tuple = ()\n         descriptor = dict(gateway_obj)\n         descriptor[\"operations\"] = operations_tuple\n--- C:\\x_runner_x\\x_make_astrocyte_gateway_x\\tests\\test_projection.py\t2025-11-10 04:58:26.035499+00:00\n+++ C:\\x_runner_x\\x_make_astrocyte_gateway_x\\tests\\test_projection.py\t2025-11-10 06:12:35.034943+00:00\n@@ -96,10 +96,11 @@\n         network=network,\n         resources=resources,\n         telemetry=telemetry,\n         description=\"Fibonacci astrocyte swarm\",\n     )\n+\n \n def test_projection_node_canonicalizes_form_aliases() -> None:\n     node_gateway = ProjectionNode(\n         id=\"begin\",\n         form=\"gateway\",\n--- C:\\x_runner_x\\x_make_astrocyte_gateway_x\\x_cls_make_astrocyte_gateway_x.py\t2025-11-08 04:43:24.709098+00:00\n+++ C:\\x_runner_x\\x_make_astrocyte_gateway_x\\x_cls_make_astrocyte_gateway_x.py\t2025-11-10 06:12:35.040559+00:00\n@@ -32,11 +32,13 @@\n \n ValidationErrorType: type[_SchemaValidationError] = _load_validation_error()\n \n \n def main() -> dict[str, object]:\n-    return main_json({\"command\": \"x_make_astrocyte_gateway_x\", \"parameters\": {\"operation\": \"ping\"}})\n+    return main_json(\n+        {\"command\": \"x_make_astrocyte_gateway_x\", \"parameters\": {\"operation\": \"ping\"}}\n+    )\n \n \n def main_json(\n     payload: Mapping[str, object], *, ctx: object | None = None\n ) -> dict[str, object]:\n@@ -86,11 +88,13 @@\n     role = _parse_role(gateway_mapping.get(\"role\"))\n     locality = _parse_locality(gateway_mapping.get(\"locality\"))\n \n     gateway = AstrocyteGateway(name=name, role=role, locality=locality)\n \n-    result_payload = gateway.invoke_json(operation, payload_mapping, options=options_mapping)\n+    result_payload = gateway.invoke_json(\n+        operation, payload_mapping, options=options_mapping\n+    )\n \n     status_obj = result_payload.get(\"status\")\n     if status_obj != \"success\":\n         return _failure_payload(\n             \"astrocyte operation failed\",\n@@ -110,11 +114,13 @@\n         \"gateway\": result_payload.get(\"gateway\", {}),\n         \"outputs\": result_payload.get(\"outputs\", {}),\n     }\n \n     messages_obj = result_payload.get(\"messages\")\n-    if isinstance(messages_obj, Sequence) and not isinstance(messages_obj, (str, bytes, bytearray)):\n+    if isinstance(messages_obj, Sequence) and not isinstance(\n+        messages_obj, (str, bytes, bytearray)\n+    ):\n         success_payload[\"messages\"] = [str(entry) for entry in messages_obj]\n \n     diagnostics_obj = result_payload.get(\"diagnostics\")\n     if isinstance(diagnostics_obj, Mapping):\n         success_payload[\"diagnostics\"] = dict(diagnostics_obj)\n@@ -181,12 +187,16 @@\n             return _load(handle)\n     return _load(sys.stdin)\n \n \n def _run_json_cli(args: Sequence[str]) -> None:\n-    parser = argparse.ArgumentParser(description=\"x_make_astrocyte_gateway_x JSON runner\")\n-    parser.add_argument(\"--json\", action=\"store_true\", help=\"Read JSON payload from stdin\")\n+    parser = argparse.ArgumentParser(\n+        description=\"x_make_astrocyte_gateway_x JSON runner\"\n+    )\n+    parser.add_argument(\n+        \"--json\", action=\"store_true\", help=\"Read JSON payload from stdin\"\n+    )\n     parser.add_argument(\"--json-file\", type=str, help=\"Path to JSON payload file\")\n     parsed = parser.parse_args(args)\n     json_flag = bool(getattr(parsed, \"json\", False))\n     json_file_obj = getattr(parsed, \"json_file\", None)\n     json_file = json_file_obj if isinstance(json_file_obj, str) else None\n--- C:\\x_runner_x\\x_make_astrocyte_gateway_x\\astrocyte_gateway.py\t2025-11-08 14:39:44.658831+00:00\n+++ C:\\x_runner_x\\x_make_astrocyte_gateway_x\\astrocyte_gateway.py\t2025-11-10 06:12:35.190295+00:00\n@@ -235,11 +235,13 @@\n         \"received_at\": stamp,\n         \"gateway\": context.descriptor(),\n     }\n     if payload.get(\"include_payload\"):\n         outputs[\"payload\"] = dict(payload)\n-    return OperationResult.success(outputs=outputs, messages=[\"ping\"], diagnostics={\"length\": len(message)})\n+    return OperationResult.success(\n+        outputs=outputs, messages=[\"ping\"], diagnostics={\"length\": len(message)}\n+    )\n \n \n def _op_emit_string(context: OperationContext) -> OperationResult:\n     payload = context.payload\n     template_obj = payload.get(\"template\")\n@@ -340,11 +342,15 @@\n     module_obj = payload.get(\"module\")\n     entrypoint_obj = payload.get(\"entrypoint\")\n     if not isinstance(module_obj, str) or not module_obj.strip():\n         raise AstrocyteOperationError(\"module must be a non-empty string\")\n     module_name = module_obj.strip()\n-    entrypoint_name = entrypoint_obj.strip() if isinstance(entrypoint_obj, str) and entrypoint_obj.strip() else \"main_json\"\n+    entrypoint_name = (\n+        entrypoint_obj.strip()\n+        if isinstance(entrypoint_obj, str) and entrypoint_obj.strip()\n+        else \"main_json\"\n+    )\n \n     payload_obj = payload.get(\"payload\", {})\n     if not isinstance(payload_obj, Mapping):\n         raise AstrocyteOperationError(\"payload must be a JSON object\")\n \n@@ -379,25 +385,36 @@\n     if context_obj is not None:\n         outputs[\"context\"] = dict(context_obj)\n     return OperationResult.success(outputs=outputs)\n \n \n-def _call_entrypoint(func: Callable[..., object], payload: Mapping[str, object], ctx: Mapping[str, object] | None) -> object:\n+def _call_entrypoint(\n+    func: Callable[..., object],\n+    payload: Mapping[str, object],\n+    ctx: Mapping[str, object] | None,\n+) -> object:\n     try:\n         return func(payload)\n     except TypeError as original:\n         signature = inspect.signature(func)\n         if len(signature.parameters) == 2:\n             return func(payload, ctx)\n         raise AstrocyteOperationError(str(original)) from original\n \n \n-def _serialize_match(match: re.Match[str] | None, pattern: str, mode: str) -> dict[str, object]:\n+def _serialize_match(\n+    match: re.Match[str] | None, pattern: str, mode: str\n+) -> dict[str, object]:\n     if match is None:\n         return {\"matched\": False, \"pattern\": pattern, \"mode\": mode}\n-    groups = [None if value is None else str(value) for value in match.groups(default=None)]\n-    groupdict = {key: (None if value is None else str(value)) for key, value in match.groupdict().items()}\n+    groups = [\n+        None if value is None else str(value) for value in match.groups(default=None)\n+    ]\n+    groupdict = {\n+        key: (None if value is None else str(value))\n+        for key, value in match.groupdict().items()\n+    }\n     span_start, span_end = match.span()\n     return {\n         \"matched\": True,\n         \"pattern\": pattern,\n         \"mode\": mode,\n@@ -421,11 +438,13 @@\n \n def _normalize_strings(candidate: object) -> list[str]:\n     if isinstance(candidate, str):\n         return [candidate]\n     if isinstance(candidate, Sequence):\n-        return [str(item) for item in candidate if not isinstance(item, (bytes, bytearray))]\n+        return [\n+            str(item) for item in candidate if not isinstance(item, (bytes, bytearray))\n+        ]\n     return []\n \n \n def _coerce_positive_int(value: object, *, default: int) -> int:\n     if isinstance(value, bool):\n--- C:\\x_runner_x\\x_make_astrocyte_gateway_x\\projection.py\t2025-11-10 05:01:48.026504+00:00\n+++ C:\\x_runner_x\\x_make_astrocyte_gateway_x\\projection.py\t2025-11-10 06:12:35.856153+00:00\n@@ -192,11 +192,13 @@\n def _require_identifier(value: str, field_name: str) -> str:\n     text = _require_text(value, field_name)\n     return text\n \n \n-def _coerce_mapping(mapping: Mapping[str, object], field_name: str) -> Mapping[str, object]:\n+def _coerce_mapping(\n+    mapping: Mapping[str, object], field_name: str\n+) -> Mapping[str, object]:\n     if not isinstance(mapping, Mapping):\n         raise TypeError(f\"{field_name} must be a mapping\")\n     return MappingProxyType({str(key): value for key, value in mapping.items()})\n \n \n@@ -253,11 +255,13 @@\n \n def _enforce_primary_form_contract(\n     node_forms: Mapping[str, str],\n     edges: Sequence[tuple[str, str]],\n ) -> None:\n-    begin_nodes = [node_id for node_id, form in node_forms.items() if form == FORM_BEGIN]\n+    begin_nodes = [\n+        node_id for node_id, form in node_forms.items() if form == FORM_BEGIN\n+    ]\n     if len(begin_nodes) != 1:\n         raise ValueError(\"network must contain exactly one Form_1 astrocyte\")\n     end_nodes = [node_id for node_id, form in node_forms.items() if form == FORM_END]\n     if len(end_nodes) != 1:\n         raise ValueError(\"network must contain exactly one Form_3 astrocyte\")\n@@ -266,11 +270,13 @@\n     for source, target in edges:\n         incoming_by_target.setdefault(target, []).append(source)\n         source_form = node_forms.get(source)\n         target_form = node_forms.get(target)\n         if source_form == FORM_BEGIN and target_form == FORM_END:\n-            raise ValueError(\"Form_1 astrocytes must not connect directly to Form_3 astrocytes\")\n+            raise ValueError(\n+                \"Form_1 astrocytes must not connect directly to Form_3 astrocytes\"\n+            )\n \n     for node_id, form in node_forms.items():\n         inbound_sources = incoming_by_target.get(node_id, [])\n         if form == FORM_EXECUTE:\n             if not inbound_sources:\n@@ -287,11 +293,13 @@\n         if form == FORM_END:\n             if not inbound_sources:\n                 raise ValueError(\n                     \"Form_3 astrocyte must have at least one incoming edge\"\n                 )\n-            if not any(node_forms.get(source) == FORM_EXECUTE for source in inbound_sources):\n+            if not any(\n+                node_forms.get(source) == FORM_EXECUTE for source in inbound_sources\n+            ):\n                 raise ValueError(\n                     \"Form_3 astrocyte must be triggered by at least one Form_2 astrocyte\"\n                 )\n \n \n@@ -387,12 +395,16 @@\n     target: str\n     channel: str\n     attributes: Mapping[str, object] = field(default_factory=dict)\n \n     def __post_init__(self) -> None:\n-        object.__setattr__(self, \"source\", _require_identifier(self.source, \"edge.source\"))\n-        object.__setattr__(self, \"target\", _require_identifier(self.target, \"edge.target\"))\n+        object.__setattr__(\n+            self, \"source\", _require_identifier(self.source, \"edge.source\")\n+        )\n+        object.__setattr__(\n+            self, \"target\", _require_identifier(self.target, \"edge.target\")\n+        )\n         object.__setattr__(\n             self,\n             \"channel\",\n             _require_text(self.channel, \"edge.channel\"),\n         )\n@@ -583,11 +595,13 @@\n             object.__setattr__(\n                 self,\n                 \"git_revision\",\n                 _require_text(self.git_revision, \"origin.git_revision\"),\n             )\n-        object.__setattr__(self, \"extras\", _coerce_mapping(self.extras, \"origin.extras\"))\n+        object.__setattr__(\n+            self, \"extras\", _coerce_mapping(self.extras, \"origin.extras\")\n+        )\n \n     def to_dict(self) -> dict[str, object]:\n         payload: dict[str, object] = {\n             \"workspace_root\": self.workspace_root,\n             \"orchestrator\": self.orchestrator,\n@@ -627,13 +641,11 @@\n         nodes_by_id = {node.id: node for node in self.nodes}\n         for edge in self.edges:\n             if edge.source not in node_ids:\n                 raise ValueError(f\"edge source '{edge.source}' is not defined\")\n             if edge.target not in node_ids:\n-                raise ValueError(\n-                    f\"edge target '{edge.target}' is not defined\"\n-                )\n+                raise ValueError(f\"edge target '{edge.target}' is not defined\")\n         for entry in self.entrypoints:\n             if entry not in node_ids:\n                 raise ValueError(f\"entrypoint '{entry}' is not defined\")\n         for sink in self.sinks:\n             if sink not in node_ids:\n@@ -763,11 +775,13 @@\n                 ]\n             )\n         edges_items: list[str] = []\n         for edge in network.edges:\n             edges_items.append(f\"{edge.source} \u00e2\u2020\u2019 {edge.target} ({edge.channel})\")\n-        entrypoints_text = \", \".join(network.entrypoints) if network.entrypoints else \"\u00e2\u20ac\u201d\"\n+        entrypoints_text = (\n+            \", \".join(network.entrypoints) if network.entrypoints else \"\u00e2\u20ac\u201d\"\n+        )\n         sinks_text = \", \".join(network.sinks) if network.sinks else \"\u00e2\u20ac\u201d\"\n         policy_summary = \"Unspecified\"\n         if network.execution_policy is not None:\n             policy_bits: list[str] = []\n             policy = network.execution_policy\n@@ -780,13 +794,17 @@\n             if policy_bits:\n                 policy_summary = \", \".join(policy_bits)\n         status_summary = network._build_status_summary()\n         missing_forms_obj = status_summary.get(\"missing_forms\", [])\n         missing_forms_list: list[str] = []\n-        if isinstance(missing_forms_obj, Sequence) and not isinstance(missing_forms_obj, (str, bytes)):\n+        if isinstance(missing_forms_obj, Sequence) and not isinstance(\n+            missing_forms_obj, (str, bytes)\n+        ):\n             missing_forms_list = [str(item) for item in missing_forms_obj]\n-        missing_forms_text = \", \".join(missing_forms_list) if missing_forms_list else \"none\"\n+        missing_forms_text = (\n+            \", \".join(missing_forms_list) if missing_forms_list else \"none\"\n+        )\n         paragraph = (\n             \"Snapshot captured by \"\n             f\"{self.origin.orchestrator} from {self.origin.workspace_root}. \"\n             f\"Entrypoints: {entrypoints_text}. Sinks: {sinks_text}. \"\n             f\"Execution policy: {policy_summary}. \"\n@@ -811,11 +829,13 @@\n         resources = self.resources\n         if resources.python_requirements or resources.data_bundles:\n             blocks.append({\"kind\": \"header\", \"level\": 2, \"text\": \"Resources\"})\n             if resources.python_requirements:\n                 req_text = \", \".join(resources.python_requirements)\n-                blocks.append({\"kind\": \"paragraph\", \"text\": f\"Python requirements: {req_text}\"})\n+                blocks.append(\n+                    {\"kind\": \"paragraph\", \"text\": f\"Python requirements: {req_text}\"}\n+                )\n             if resources.data_bundles:\n                 bundle_lines = [\n                     f\"{bundle.id} ({bundle.bundle_type})\"\n                     for bundle in resources.data_bundles\n                 ]\n@@ -854,11 +874,13 @@\n             \"command\": \"x_make_markdown_x\",\n             \"parameters\": parameters,\n         }\n \n \n-def write_snapshot(snapshot: ProjectionSnapshot, path: Path, *, indent: int = 2) -> Path:\n+def write_snapshot(\n+    snapshot: ProjectionSnapshot, path: Path, *, indent: int = 2\n+) -> Path:\n     path.parent.mkdir(parents=True, exist_ok=True)\n     payload = snapshot.to_json(indent=indent)\n     path.write_text(payload, encoding=\"utf-8\")\n     return path\n \n@@ -898,11 +920,13 @@\n         if not isinstance(entry, Mapping):\n             raise ValueError(\"network edges must be objects\")\n         source = entry.get(\"source\")\n         target = entry.get(\"target\")\n         if not isinstance(source, str) or not isinstance(target, str):\n-            raise ValueError(\"network edge entries must include string source and target\")\n+            raise ValueError(\n+                \"network edge entries must include string source and target\"\n+            )\n         edge_pairs.append((source, target))\n \n     _enforce_primary_form_contract(node_forms, tuple(edge_pairs))\n \n \n",
                "tool": "black",
                "tool_module": "black",
                "tool_version": "python -m black, 25.11.0 (compiled: yes)\nPython (CPython) 3.14.0"
            },
            "exit": "exit 1",
            "message": "black failed for x_make_astrocyte_gateway_x (exit 1)\ncwd: C:\\x_runner_x\\x_make_astrocyte_gateway_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff\nstarted_at: 2025-11-10T06:12:33.214082+00:00\nduration: 3.073s\ntool_version: python -m black, 25.11.0 (compiled: yes)\nPython (CPython) 3.14.0\nstdout:\n--- C:\\x_runner_x\\x_make_astrocyte_gateway_x\\tests\\test_gateway.py\t2025-11-08 14:39:44.632205+00:00\n+++ C:\\x_runner_x\\x_make_astrocyte_gateway_x\\tests\\test_gateway.py\t2025-11-10 06:12:34.832289+00:00\n@@ -30,11 +30,15 @@\n     assert strings == [\"0:alpha\", \"1:alpha\", \"2:alpha\"]\n \n\u2026\nstderr:\nwould reformat C:\\x_runner_x\\x_make_astrocyte_gateway_x\\tests\\test_gateway.py\nwould reformat C:\\x_runner_x\\x_make_astrocyte_gateway_x\\service.py\nwould reformat C:\\x_runner_x\\x_make_astrocyte_gateway_x\\tests\\test_service.py\nwould reformat C:\\x_runner_x\\x_make_astrocyte_gateway_x\\client.py\nwould reformat C:\\x_runner_x\\x_make_astrocyte_gateway_x\\tests\\test_projection.py\n\u2026",
            "repo": "x_make_astrocyte_gateway_x",
            "repo_path": "C:\\x_runner_x\\x_make_astrocyte_gateway_x",
            "stderr_preview": "would reformat C:\\x_runner_x\\x_make_astrocyte_gateway_x\\tests\\test_gateway.py\nwould reformat C:\\x_runner_x\\x_make_astrocyte_gateway_x\\service.py\nwould reformat C:\\x_runner_x\\x_make_astrocyte_gateway_x\\tests\\test_service.py\nwould reformat C:\\x_runner_x\\x_make_astrocyte_gateway_x\\client.py\nwould reformat C:\\x_runner_x\\x_make_astrocyte_gateway_x\\tests\\test_projection.py\n\u2026",
            "stdout_preview": "--- C:\\x_runner_x\\x_make_astrocyte_gateway_x\\tests\\test_gateway.py\t2025-11-08 14:39:44.632205+00:00\n+++ C:\\x_runner_x\\x_make_astrocyte_gateway_x\\tests\\test_gateway.py\t2025-11-10 06:12:34.832289+00:00\n@@ -30,11 +30,15 @@\n     assert strings == [\"0:alpha\", \"1:alpha\", \"2:alpha\"]\n \n\u2026",
            "suggested_action": "Investigate",
            "summary": "black failed for x_make_astrocyte_gateway_x (exit 1) cwd: C:\\x_runner_x\\x_make_astrocyte_gateway_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff\u2026",
            "tool": "black",
            "tool_version": "python -m black, 25.11.0 (compiled: yes)\nPython (CPython) 3.14.0"
        },
        {
            "captured_at": "2025-11-10T06:12:40.910647+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m mypy --package x_make_astrocyte_gateway_x --strict --no-warn-unused-configs --show-error-codes --warn-return-any --warn-unreachable --disallow-any-unimported --disallow-any-expr --disallow-any-decorated --disallow-any-explicit",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "mypy",
                    "--package",
                    "x_make_astrocyte_gateway_x",
                    "--strict",
                    "--no-warn-unused-configs",
                    "--show-error-codes",
                    "--warn-return-any",
                    "--warn-unreachable",
                    "--disallow-any-unimported",
                    "--disallow-any-expr",
                    "--disallow-any-decorated",
                    "--disallow-any-explicit"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m mypy --package x_make_astrocyte_gateway_x --strict --no-warn-unused-configs --show-error-codes --warn-return-any --warn-unreachable --disallow-any-unimported --disallow-any-expr --disallow-any-decorated --disallow-any-explicit",
                "cwd": "C:\\x_runner_x\\x_make_astrocyte_gateway_x",
                "duration_seconds": 4.399591099994723,
                "ended_at": "2025-11-10T06:12:40.910647+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "astrocyte_gateway.py",
                    "client.py",
                    "json_contracts.py",
                    "projection.py",
                    "service.py",
                    "tests/test_gateway.py",
                    "tests/test_projection.py",
                    "tests/test_projection_validation.py",
                    "tests/test_service.py",
                    "tools/ui_projection_smoke.py",
                    "x_cls_make_astrocyte_gateway_x.py"
                ],
                "repo": "x_make_astrocyte_gateway_x",
                "repo_hash": "0187073162d89bee242fa03bf6399239bec10b8a3c1d1c5025846aa4883a2eb9",
                "repo_path": "C:\\x_runner_x\\x_make_astrocyte_gateway_x",
                "started_at": "2025-11-10T06:12:36.511055+00:00",
                "stderr": "",
                "stdout": "tools\\ui_projection_smoke.py:17: error: Skipping analyzing \"interface.gui.environment_studio.services\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\ntools\\ui_projection_smoke.py:19: error: Explicit \"Any\" is not allowed  [explicit-any]\ntools\\ui_projection_smoke.py:23: error: Expression type contains \"Any\" (has type \"tuple[str, dict[Any, Any]]\")  [misc]\ntools\\ui_projection_smoke.py:23: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\ntools\\ui_projection_smoke.py:28: error: Expression type contains \"Any\" (has type \"tuple[str, dict[Any, Any]]\")  [misc]\ntools\\ui_projection_smoke.py:28: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\ntools\\ui_projection_smoke.py:29: error: Expression type contains \"Any\" (has type \"tuple[str, list[Any]]\")  [misc]\ntools\\ui_projection_smoke.py:29: error: Expression type contains \"Any\" (has type \"list[Any]\")  [misc]\ntools\\ui_projection_smoke.py:30: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\ntools\\ui_projection_smoke.py:35: error: Expression type contains \"Any\" (has type \"tuple[str, dict[Any, Any]]\")  [misc]\ntools\\ui_projection_smoke.py:35: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\ntools\\ui_projection_smoke.py:36: error: Expression type contains \"Any\" (has type \"tuple[str, list[Any]]\")  [misc]\ntools\\ui_projection_smoke.py:36: error: Expression type contains \"Any\" (has type \"list[Any]\")  [misc]\ntools\\ui_projection_smoke.py:38: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\ntools\\ui_projection_smoke.py:43: error: Expression type contains \"Any\" (has type \"tuple[str, dict[Any, Any]]\")  [misc]\ntools\\ui_projection_smoke.py:43: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\ntools\\ui_projection_smoke.py:45: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\ntools\\ui_projection_smoke.py:52: error: Expression type contains \"Any\" (has type \"tuple[str, list[Any]]\")  [misc]\ntools\\ui_projection_smoke.py:52: error: Expression type contains \"Any\" (has type \"list[Any]\")  [misc]\ntools\\ui_projection_smoke.py:53: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\ntools\\ui_projection_smoke.py:54: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\ntools\\ui_projection_smoke.py:56: error: Expression type contains \"Any\" (has type \"tuple[str, list[Any]]\")  [misc]\ntools\\ui_projection_smoke.py:56: error: Expression type contains \"Any\" (has type \"list[Any]\")  [misc]\ntools\\ui_projection_smoke.py:57: error: Expression type contains \"Any\" (has type \"tuple[str, list[Any]]\")  [misc]\ntools\\ui_projection_smoke.py:57: error: Expression type contains \"Any\" (has type \"list[Any]\")  [misc]\ntools\\ui_projection_smoke.py:58: error: Expression type contains \"Any\" (has type \"tuple[str, dict[Any, Any]]\")  [misc]\ntools\\ui_projection_smoke.py:58: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\ntools\\ui_projection_smoke.py:64: error: Expression type contains \"Any\" (has type \"tuple[str, dict[Any, Any]]\")  [misc]\ntools\\ui_projection_smoke.py:64: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\ntools\\ui_projection_smoke.py:65: error: Expression type contains \"Any\" (has type \"tuple[str, list[Any]]\")  [misc]\ntools\\ui_projection_smoke.py:65: error: Expression type contains \"Any\" (has type \"list[Any]\")  [misc]\ntools\\ui_projection_smoke.py:66: error: Expression type contains \"Any\" (has type \"tuple[str, list[Any]]\")  [misc]\ntools\\ui_projection_smoke.py:66: error: Expression type contains \"Any\" (has type \"list[Any]\")  [misc]\ntools\\ui_projection_smoke.py:67: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\ntools\\ui_projection_smoke.py:75: error: Expression type contains \"Any\" (has type \"tuple[str, dict[Any, Any]]\")  [misc]\ntools\\ui_projection_smoke.py:75: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\ntools\\ui_projection_smoke.py:79: error: Explicit \"Any\" is not allowed  [explicit-any]\ntools\\ui_projection_smoke.py:80: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntools\\ui_projection_smoke.py:84: error: Expression has type \"Any\"  [misc]\ntools\\ui_projection_smoke.py:85: error: Expression has type \"Any\"  [misc]\ntools\\ui_projection_smoke.py:88: error: Expression has type \"Any\"  [misc]\ntools\\ui_projection_smoke.py:89: error: Expression has type \"Any\"  [misc]\ntools\\ui_projection_smoke.py:90: error: Expression has type \"Any\"  [misc]\ntools\\ui_projection_smoke.py:91: error: Expression has type \"Any\"  [misc]\ntools\\ui_projection_smoke.py:92: error: Expression has type \"Any\"  [misc]\ntools\\ui_projection_smoke.py:93: error: Expression has type \"Any\"  [misc]\ntools\\ui_projection_smoke.py:105: error: Expression has type \"Any\"  [misc]\ntools\\ui_projection_smoke.py:106: error: Expression has type \"Any\"  [misc]\ntools\\ui_projection_smoke.py:110: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\nprojection.py:534: error: Expression type contains \"Any\" (has type \"tuple[Any, ...]\")  [misc]\nprojection.py:611: error: Expression type contains \"Any\" (has type \"tuple[Any, ...]\")  [misc]\nprojection.py:612: error: Expression type contains \"Any\" (has type \"tuple[Any, ...]\")  [misc]\nprojection.py:875: error: Unused \"type: ignore\" comment  [unused-ignore]\nprojection.py:875: error: Module has no attribute \"validate\"  [attr-defined]\nprojection.py:875: note: Error code \"attr-defined\" not covered by \"type: ignore\" comment\nprojection.py:881: error: Need type annotation for \"node_entries\"  [var-annotated]\nprojection.py:882: error: Need type annotation for \"edge_entries\"  [var-annotated]\nprojection.py:883: error: Expression type contains \"Any\" (has type \"Any | list[Any]\")  [misc]\nastrocyte_gateway.py:196: error: Statement is unreachable  [unreachable]\nastrocyte_gateway.py:320: error: Expression type contains \"Any\" (has type \"list[Any]\")  [misc]\nastrocyte_gateway.py:322: error: Expression type contains \"Any\" (has type \"list[Any]\")  [misc]\nastrocyte_gateway.py:323: error: Expression type contains \"Any\" (has type \"list[Any]\")  [misc]\nastrocyte_gateway.py:360: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nastrocyte_gateway.py:361: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nastrocyte_gateway.py:368: error: Expression has type \"Any\"  [misc]\nastrocyte_gateway.py:380: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nastrocyte_gateway.py:384: error: Explicit \"Any\" is not allowed  [explicit-any]\nastrocyte_gateway.py:388: error: Expression type contains \"Any\" (has type \"Callable[..., object]\")  [misc]\nservice.py:18: error: Skipping analyzing \"fastapi.responses\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\nservice.py:18: note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports\nservice.py:34: error: Unused \"type: ignore\" comment  [unused-ignore]\nservice.py:34: error: Explicit \"Any\" is not allowed  [explicit-any]\nservice.py:34: note: Error code \"explicit-any\" not covered by \"type: ignore\" comment\nservice.py:35: error: Unused \"type: ignore\" comment  [unused-ignore]\nservice.py:35: error: Explicit \"Any\" is not allowed  [explicit-any]\nservice.py:35: note: Error code \"explicit-any\" not covered by \"type: ignore\" comment\nservice.py:41: error: Explicit \"Any\" is not allowed  [explicit-any]\nservice.py:45: error: Function is missing a return type annotation  [no-untyped-def]\nservice.py:48: error: Expression has type \"Any\"  [misc]\nservice.py:66: error: Expression has type \"Any\"  [misc]\nservice.py:68: error: Expression type contains \"Any\" (has type \"Callable[[], Mapping[str, Any]]\")  [misc]\nservice.py:69: error: Explicit \"Any\" is not allowed  [explicit-any]\nservice.py:69: error: Type of decorated function contains type \"Any\" (\"Callable[..., Any]\")  [misc]\nservice.py:73: error: Type of decorated function contains type \"Any\" (\"Callable[..., Any]\")  [misc]\nservice.py:73: error: Expression has type \"Any\"  [misc]\nservice.py:79: error: Expression type contains \"Any\" (has type \"Callable[[InvokeRequest, None], Any]\")  [misc]\nservice.py:80: error: Return type becomes \"Any\" due to an unfollowed import  [no-any-unimported]\nservice.py:80: error: Type of decorated function contains type \"Any\" (\"Callable[..., Any]\")  [misc]\nservice.py:80: error: Expression has type \"Any\"  [misc]\nservice.py:84: error: Expression type contains \"Any\" (has type \"dict[str, Any]\")  [misc]\nservice.py:84: error: Expression type contains \"Any\" (has type \"dict_keys[str, Any]\")  [misc]\nservice.py:88: error: Expression type contains \"Any\" (has type \"dict[str, Any]\")  [misc]\nservice.py:89: error: Expression type contains \"Any\" (has type \"dict[str, Any]\")  [misc]\nservice.py:91: error: Expression has type \"Any\"  [misc]\nservice.py:93: error: Expression has type \"Any\"  [misc]\nservice.py:94: error: Expression has type \"Any\"  [misc]\nservice.py:113: error: Unused \"type: ignore\" comment  [unused-ignore]\nservice.py:132: error: Expression has type \"Any\"  [misc]\nclient.py:23: error: Incompatible types in assignment (expression has type \"None\", variable has type \"ModuleNotFoundError\")  [assignment]\nclient.py:33: error: Explicit \"Any\" is not allowed  [explicit-any]\nclient.py:44: error: Statement is unreachable  [unreachable]\nclient.py:53: error: Unused \"type: ignore\" comment  [unused-ignore]\nclient.py:77: error: Cannot determine type of \"_owns_client\"  [has-type]\nclient.py:78: error: Cannot determine type of \"_client\"  [has-type]\nclient.py:83: error: Unused \"type: ignore\" comment  [unused-ignore]\nclient.py:83: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]\nclient.py:83: note: Error code \"no-untyped-def\" not covered by \"type: ignore\" comment\nclient.py:88: error: Expression type contains \"Any\" (has type \"dict[str, Any]\")  [misc]\nclient.py:89: error: Cannot determine type of \"_base_url\"  [has-type]\nclient.py:90: error: Cannot determine type of \"_descriptor\"  [has-type]\nclient.py:94: error: Unused \"type: ignore\" comment  [unused-ignore]\nclient.py:95: error: Returning Any from function declared to return \"tuple[str, ...]\"  [no-any-return]\nclient.py:95: error: Cannot determine type of \"_remote_operations\"  [has-type]\nclient.py:103: error: Unused \"type: ignore\" comment  [unused-ignore]\nclient.py:110: error: Cannot determine type of \"_client\"  [has-type]\nclient.py:110: error: Expression has type \"Any\"  [misc]\nclient.py:111: error: Expression has type \"Any\"  [misc]\nclient.py:113: error: Expression has type \"Any\"  [misc]\nclient.py:115: error: Expression has type \"Any\"  [misc]\nclient.py:118: error: Expression has type \"Any\"  [misc]\nclient.py:119: error: Expression has type \"Any\"  [misc]\nclient.py:120: error: Expression has type \"Any\"  [misc]\nclient.py:121: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nclient.py:121: error: Expression has type \"Any\"  [misc]\nclient.py:122: error: Expression has type \"Any\"  [misc]\nclient.py:123: error: Expression has type \"Any\"  [misc]\nclient.py:124: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nclient.py:124: error: Expression has type \"Any\"  [misc]\nclient.py:127: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nclient.py:129: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nclient.py:131: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nclient.py:131: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nclient.py:132: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nclient.py:132: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nclient.py:133: error: Expression has type \"Any\"  [misc]\nclient.py:133: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nclient.py:133: error: Expression type contains \"Any\" (has type \"Any | str\")  [misc]\nclient.py:136: error: Expression has type \"Any\"  [misc]\nclient.py:136: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nclient.py:137: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nclient.py:141: error: Cannot determine type of \"_api_key\"  [has-type]\nclient.py:143: error: Cannot determine type of \"_api_key\"  [has-type]\nclient.py:147: error: Cannot determine type of \"_client\"  [has-type]\nclient.py:147: error: Expression has type \"Any\"  [misc]\nclient.py:148: error: Expression has type \"Any\"  [misc]\nclient.py:150: error: Expression has type \"Any\"  [misc]\nclient.py:151: error: Expression has type \"Any\"  [misc]\nclient.py:152: error: Expression has type \"Any\"  [misc]\nclient.py:153: error: Expression has type \"Any\"  [misc]\nclient.py:155: error: Expression has type \"Any\"  [misc]\nclient.py:156: error: Expression has type \"Any\"  [misc]\nclient.py:160: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nclient.py:161: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nclient.py:162: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nx_cls_make_astrocyte_gateway_x.py:120: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\nx_cls_make_astrocyte_gateway_x.py:190: error: Expression type contains \"Any\" (has type \"Any | bool\")  [misc]\nx_cls_make_astrocyte_gateway_x.py:191: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\nx_cls_make_astrocyte_gateway_x.py:192: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\n__init__.py:38: error: Cannot assign to a type  [misc]\n__init__.py:38: note: Error code \"misc\" not covered by \"type: ignore\" comment\n__init__.py:39: error: Cannot assign to a type  [misc]\n__init__.py:39: note: Error code \"misc\" not covered by \"type: ignore\" comment\n__init__.py:42: error: Unused \"type: ignore\" comment  [unused-ignore]\n__init__.py:42: error: Function is missing a type annotation  [no-untyped-def]\n__init__.py:42: note: Error code \"no-untyped-def\" not covered by \"type: ignore\" comment\n__init__.py:45: error: Unused \"type: ignore\" comment  [unused-ignore]\ntests\\test_projection_validation.py:108: error: Expression has type \"Any\"  [misc]\ntests\\test_projection_validation.py:108: note: Error code \"misc\" not covered by \"type: ignore\" comment\ntests\\test_projection_validation.py:116: error: Redundant cast to \"dict[str, object]\"  [redundant-cast]\ntests\\test_projection_validation.py:117: error: Explicit \"Any\" is not allowed  [explicit-any]\ntests\\test_projection_validation.py:117: error: Expression type contains \"Any\" (has type \"dict[str, Any]\")  [misc]\ntests\\test_projection_validation.py:118: error: Expression type contains \"Any\" (has type \"list[dict[str, Any]]\")  [misc]\ntests\\test_projection_validation.py:118: error: Explicit \"Any\" is not allowed  [explicit-any]\ntests\\test_projection_validation.py:118: error: Expression type contains \"Any\" (has type \"Sequence[dict[str, Any]]\")  [misc]\ntests\\test_projection_validation.py:118: error: Expression type contains \"Any\" (has type \"dict[str, Any]\")  [misc]\ntests\\test_projection_validation.py:119: error: Expression type contains \"Any\" (has type \"dict[str, Any]\")  [misc]\ntests\\test_projection_validation.py:119: error: Expression type contains \"Any\" (has type \"list[dict[str, Any]]\")  [misc]\ntests\\test_projection_validation.py:119: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\ntests\\test_projection_validation.py:119: error: Expression type contains \"Any\" (has type \"Any | bool\")  [misc]\ntests\\test_projection_validation.py:120: error: Unused \"type: ignore\" comment  [unused-ignore]\ntests\\test_projection_validation.py:120: error: Expression type contains \"Any\" (has type \"dict[str, Any]\")  [misc]\ntests\\test_projection_validation.py:120: note: Error code \"misc\" not covered by \"type: ignore\" comment\ntests\\test_projection_validation.py:120: error: Expression type contains \"Any\" (has type \"list[dict[str, Any]]\")  [misc]\ntests\\test_projection_validation.py:128: error: Redundant cast to \"dict[str, object]\"  [redundant-cast]\ntests\\test_projection_validation.py:129: error: Explicit \"Any\" is not allowed  [explicit-any]\ntests\\test_projection_validation.py:129: error: Expression type contains \"Any\" (has type \"dict[str, Any]\")  [misc]\ntests\\test_projection_validation.py:130: error: Expression type contains \"Any\" (has type \"list[dict[str, Any]]\")  [misc]\ntests\\test_projection_validation.py:130: error: Explicit \"Any\" is not allowed  [explicit-any]\ntests\\test_projection_validation.py:130: error: Expression type contains \"Any\" (has type \"Sequence[dict[str, Any]]\")  [misc]\ntests\\test_projection_validation.py:130: error: Expression type contains \"Any\" (has type \"dict[str, Any]\")  [misc]\ntests\\test_projection_validation.py:132: error: Expression type contains \"Any\" (has type \"list[dict[str, Any]]\")  [misc]\ntests\\test_projection_validation.py:132: error: Expression type contains \"Any\" (has type \"dict[str, Any]\")  [misc]\ntests\\test_projection_validation.py:133: error: Unused \"type: ignore\" comment  [unused-ignore]\ntests\\test_projection_validation.py:133: error: Expression type contains \"Any\" (has type \"dict[str, Any]\")  [misc]\ntests\\test_projection_validation.py:133: note: Error code \"misc\" not covered by \"type: ignore\" comment\ntests\\test_projection_validation.py:133: error: Expression type contains \"Any\" (has type \"list[dict[str, Any]]\")  [misc]\ntests\\test_projection_validation.py:141: error: Redundant cast to \"dict[str, object]\"  [redundant-cast]\ntests\\test_projection_validation.py:142: error: Explicit \"Any\" is not allowed  [explicit-any]\ntests\\test_projection_validation.py:142: error: Expression type contains \"Any\" (has type \"dict[str, Any]\")  [misc]\ntests\\test_projection_validation.py:144: error: Expression type contains \"Any\" (has type \"list[dict[str, Any]]\")  [misc]\ntests\\test_projection_validation.py:144: error: Explicit \"Any\" is not allowed  [explicit-any]\ntests\\test_projection_validation.py:144: error: Expression type contains \"Any\" (has type \"Sequence[dict[str, Any]]\")  [misc]\ntests\\test_projection_validation.py:144: error: Expression type contains \"Any\" (has type \"dict[str, Any]\")  [misc]\ntests\\test_projection_validation.py:145: error: Expression type contains \"Any\" (has type \"list[dict[str, Any]]\")  [misc]\ntests\\test_projection_validation.py:145: error: Expression type contains \"Any\" (has type \"dict[str, Any]\")  [misc]\ntests\\test_projection_validation.py:146: error: Expression type contains \"Any\" (has type \"list[dict[str, Any]]\")  [misc]\ntests\\test_projection_validation.py:146: error: Expression type contains \"Any\" (has type \"dict[str, Any]\")  [misc]\ntests\\test_projection_validation.py:146: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\ntests\\test_projection_validation.py:147: error: Unused \"type: ignore\" comment  [unused-ignore]\ntests\\test_projection_validation.py:147: error: Expression type contains \"Any\" (has type \"dict[str, Any]\")  [misc]\ntests\\test_projection_validation.py:147: note: Error code \"misc\" not covered by \"type: ignore\" comment\ntests\\test_projection_validation.py:147: error: Expression type contains \"Any\" (has type \"list[dict[str, Any]]\")  [misc]\ntests\\test_projection_validation.py:149: error: Expression type contains \"Any\" (has type \"list[dict[str, Any]]\")  [misc]\ntests\\test_projection_validation.py:149: error: Explicit \"Any\" is not allowed  [explicit-any]\ntests\\test_projection_validation.py:149: error: Expression type contains \"Any\" (has type \"Sequence[dict[str, Any]]\")  [misc]\ntests\\test_projection_validation.py:149: error: Expression type contains \"Any\" (has type \"dict[str, Any]\")  [misc]\ntests\\test_projection_validation.py:150: error: Expression type contains \"Any\" (has type \"list[dict[str, Any]]\")  [misc]\ntests\\test_projection_validation.py:150: error: Expression type contains \"Any\" (has type \"dict[str, Any]\")  [misc]\ntests\\test_projection_validation.py:150: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\ntests\\test_projection_validation.py:151: error: Unused \"type: ignore\" comment  [unused-ignore]\ntests\\test_projection_validation.py:151: error: Expression type contains \"Any\" (has type \"dict[str, Any]\")  [misc]\ntests\\test_projection_validation.py:151: note: Error code \"misc\" not covered by \"type: ignore\" comment\ntests\\test_projection_validation.py:151: error: Expression type contains \"Any\" (has type \"list[dict[str, Any]]\")  [misc]\ntests\\test_projection.py:11: error: \"object\" has no attribute \"validate\"  [attr-defined]\ntests\\test_projection.py:11: error: Expression has type \"Any\"  [misc]\ntests\\test_projection.py:134: error: Redundant cast to \"dict[str, object]\"  [redundant-cast]\ntests\\test_projection.py:138: error: Explicit \"Any\" is not allowed  [explicit-any]\ntests\\test_projection.py:138: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:139: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:139: error: Expression has type \"Any\"  [misc]\ntests\\test_projection.py:140: error: Explicit \"Any\" is not allowed  [explicit-any]\ntests\\test_projection.py:140: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:141: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:141: error: Expression has type \"Any\"  [misc]\ntests\\test_projection.py:142: error: Explicit \"Any\" is not allowed  [explicit-any]\ntests\\test_projection.py:142: error: Expression type contains \"Any\" (has type \"Sequence[Mapping[str, Any]]\")  [misc]\ntests\\test_projection.py:143: error: Expression type contains \"Any\" (has type \"list[Mapping[str, Any]]\")  [misc]\ntests\\test_projection.py:143: error: Expression type contains \"Any\" (has type \"Sequence[Mapping[str, Any]]\")  [misc]\ntests\\test_projection.py:144: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:144: error: Expression type contains \"Any\" (has type \"set[Any]\")  [misc]\ntests\\test_projection.py:144: error: Expression has type \"Any\"  [misc]\ntests\\test_projection.py:144: error: Expression type contains \"Any\" (has type \"list[Mapping[str, Any]]\")  [misc]\ntests\\test_projection.py:145: error: Expression type contains \"Any\" (has type \"set[Any]\")  [misc]\ntests\\test_projection.py:146: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:146: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\ntests\\test_projection.py:146: error: Expression has type \"Any\"  [misc]\ntests\\test_projection.py:146: error: Expression type contains \"Any\" (has type \"list[Mapping[str, Any]]\")  [misc]\ntests\\test_projection.py:147: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\ntests\\test_projection.py:152: error: Explicit \"Any\" is not allowed  [explicit-any]\ntests\\test_projection.py:152: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:153: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:153: error: Expression has type \"Any\"  [misc]\ntests\\test_projection.py:154: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:154: error: Expression has type \"Any\"  [misc]\ntests\\test_projection.py:155: error: Explicit \"Any\" is not allowed  [explicit-any]\ntests\\test_projection.py:155: error: Expression type contains \"Any\" (has type \"Sequence[Mapping[str, Any]]\")  [misc]\ntests\\test_projection.py:156: error: Expression type contains \"Any\" (has type \"list[Mapping[str, Any]]\")  [misc]\ntests\\test_projection.py:156: error: Expression type contains \"Any\" (has type \"Sequence[Mapping[str, Any]]\")  [misc]\ntests\\test_projection.py:157: error: Expression type contains \"Any\" (has type \"list[Mapping[str, Any]]\")  [misc]\ntests\\test_projection.py:157: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:157: error: Expression has type \"Any\"  [misc]\ntests\\test_projection.py:158: error: Explicit \"Any\" is not allowed  [explicit-any]\ntests\\test_projection.py:158: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:159: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:159: error: Expression has type \"Any\"  [misc]\ntests\\test_projection.py:169: error: Expression has type \"Any\"  [misc]\ntests\\test_projection.py:170: error: Expression has type \"Any\"  [misc]\ntests\\test_projection.py:269: error: Explicit \"Any\" is not allowed  [explicit-any]\ntests\\test_projection.py:269: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:271: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:271: error: Expression has type \"Any\"  [misc]\ntests\\test_projection.py:273: error: Explicit \"Any\" is not allowed  [explicit-any]\ntests\\test_projection.py:273: error: Expression type contains \"Any\" (has type \"Sequence[Mapping[str, Any]]\")  [misc]\ntests\\test_projection.py:273: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:274: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:274: error: Expression type contains \"Any\" (has type \"dict[Any, Mapping[str, Any]]\")  [misc]\ntests\\test_projection.py:274: error: Expression has type \"Any\"  [misc]\ntests\\test_projection.py:274: error: Expression type contains \"Any\" (has type \"Sequence[Mapping[str, Any]]\")  [misc]\ntests\\test_projection.py:275: error: Expression type contains \"Any\" (has type \"set[Any]\")  [misc]\ntests\\test_projection.py:275: error: Expression type contains \"Any\" (has type \"dict[Any, Mapping[str, Any]]\")  [misc]\ntests\\test_projection.py:276: error: Expression type contains \"Any\" (has type \"dict[Any, Mapping[str, Any]]\")  [misc]\ntests\\test_projection.py:276: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:277: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:277: error: Expression has type \"Any\"  [misc]\ntests\\test_projection.py:278: error: Explicit \"Any\" is not allowed  [explicit-any]\ntests\\test_projection.py:278: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:279: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:279: error: Expression has type \"Any\"  [misc]\ntests\\test_projection.py:280: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:280: error: Expression has type \"Any\"  [misc]\ntests\\test_projection.py:282: error: Explicit \"Any\" is not allowed  [explicit-any]\ntests\\test_projection.py:282: error: Expression type contains \"Any\" (has type \"Sequence[Mapping[str, Any]]\")  [misc]\ntests\\test_projection.py:282: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:283: error: Expression type contains \"Any\" (has type \"Sequence[Mapping[str, Any]]\")  [misc]\ntests\\test_projection.py:283: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:284: error: Explicit \"Any\" is not allowed  [explicit-any]\ntests\\test_projection.py:284: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:285: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:285: error: Expression has type \"Any\"  [misc]\ntests\\test_projection.py:286: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:286: error: Expression has type \"Any\"  [misc]\ntests\\test_projection.py:287: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:287: error: Expression has type \"Any\"  [misc]\ntests\\test_projection.py:289: error: Explicit \"Any\" is not allowed  [explicit-any]\ntests\\test_projection.py:289: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:290: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:291: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:292: error: Explicit \"Any\" is not allowed  [explicit-any]\ntests\\test_projection.py:292: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:293: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:293: error: Expression has type \"Any\"  [misc]\ntests\\test_projection.py:294: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:294: error: Expression has type \"Any\"  [misc]\ntests\\test_projection.py:295: error: Explicit \"Any\" is not allowed  [explicit-any]\ntests\\test_projection.py:295: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:296: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:296: error: Expression has type \"Any\"  [misc]\ntests\\test_projection.py:297: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:297: error: Expression has type \"Any\"  [misc]\ntests\\test_projection.py:311: error: Explicit \"Any\" is not allowed  [explicit-any]\ntests\\test_projection.py:311: error: Expression type contains \"Any\" (has type \"Sequence[Mapping[str, Any]]\")  [misc]\ntests\\test_projection.py:312: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:312: error: Expression type contains \"Any\" (has type \"list[Mapping[str, Any]]\")  [misc]\ntests\\test_projection.py:312: error: Expression type contains \"Any\" (has type \"Sequence[Mapping[str, Any]]\")  [misc]\ntests\\test_projection.py:312: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\ntests\\test_projection.py:312: error: Expression type contains \"Any\" (has type \"Any | bool\")  [misc]\ntests\\test_projection.py:313: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:313: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\ntests\\test_projection.py:313: error: Expression type contains \"Any\" (has type \"Any | bool\")  [misc]\ntests\\test_projection.py:313: error: Expression type contains \"Any\" (has type \"list[Mapping[str, Any]]\")  [misc]\ntests\\test_projection.py:314: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:314: error: Expression type contains \"Any\" (has type \"list[Mapping[str, Any]]\")  [misc]\ntests\\test_projection.py:314: error: Expression type contains \"Any\" (has type \"Sequence[Mapping[str, Any]]\")  [misc]\ntests\\test_projection.py:314: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\ntests\\test_projection.py:314: error: Expression type contains \"Any\" (has type \"Any | bool\")  [misc]\ntests\\test_projection.py:315: error: Expression type contains \"Any\" (has type \"list[Mapping[str, Any]]\")  [misc]\ntests\\test_projection.py:316: error: Expression type contains \"Any\" (has type \"list[Mapping[str, Any]]\")  [misc]\ntests\\test_projection.py:316: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:317: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:319: error: Expression type contains \"Any\" (has type \"Sequence[Mapping[str, Any]]\")  [misc]\ntests\\test_projection.py:319: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:320: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_projection.py:320: error: Expression has type \"Any\"  [misc]\ntests\\test_service.py:15: error: Module \"httpx\" is not valid as a type  [valid-type]\ntests\\test_service.py:15: note: Perhaps you meant to use a protocol matching the module structure?\ntests\\test_service.py:17: error: Unused \"type: ignore\" comment  [unused-ignore]\ntests\\test_service.py:19: error: Skipping analyzing \"interface.gui.environment_studio.services\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\ntests\\test_service.py:23: error: Explicit \"Any\" is not allowed  [explicit-any]\ntests\\test_service.py:24: error: Expression has type \"Any\"  [misc]\ntests\\test_service.py:25: error: Expression has type \"Any\"  [misc]\ntests\\test_service.py:27: error: Explicit \"Any\" is not allowed  [explicit-any]\ntests\\test_service.py:28: error: Expression has type \"Any\"  [misc]\ntests\\test_service.py:31: error: Expression has type \"Any\"  [misc]\ntests\\test_service.py:35: error: Expression has type \"Any\"  [misc]\ntests\\test_service.py:38: error: Expression type contains \"Any\" (has type \"type[_ResponseAdapter]\")  [misc]\ntests\\test_service.py:52: error: Argument 1 has incompatible type \"Callable[[], Any]\"; expected \"Callable[[VarArg(Never), KwArg(Never)], Never]\"  [arg-type]\ntests\\test_service.py:53: error: Unused \"type: ignore\" comment  [unused-ignore]\ntests\\test_service.py:53: error: Name \"fastapi.FastAPI\" is not defined  [name-defined]\ntests\\test_service.py:53: note: Error code \"name-defined\" not covered by \"type: ignore\" comment\ntests\\test_service.py:58: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]\ntests\\test_service.py:59: error: Unused \"type: ignore\" comment  [unused-ignore]\ntests\\test_service.py:59: error: Expression has type \"Any\"  [misc]\ntests\\test_service.py:59: note: Error code \"misc\" not covered by \"type: ignore\" comment\ntests\\test_service.py:60: error: Expression has type \"Any\"  [misc]\ntests\\test_service.py:60: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\ntests\\test_service.py:60: error: Expression type contains \"Any\" (has type \"tuple[str, dict[Any, Any]]\")  [misc]\ntests\\test_service.py:61: error: Expression has type \"Any\"  [misc]\ntests\\test_service.py:62: error: Explicit \"Any\" is not allowed  [explicit-any]\ntests\\test_service.py:62: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_service.py:62: error: Expression has type \"Any\"  [misc]\ntests\\test_service.py:63: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_service.py:63: error: Expression has type \"Any\"  [misc]\ntests\\test_service.py:64: error: Explicit \"Any\" is not allowed  [explicit-any]\ntests\\test_service.py:64: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_service.py:65: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_service.py:65: error: Expression has type \"Any\"  [misc]\ntests\\test_service.py:70: error: Unused \"type: ignore\" comment  [unused-ignore]\ntests\\test_service.py:71: error: Expression has type \"Any\"  [misc]\ntests\\test_service.py:71: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\ntests\\test_service.py:72: error: Expression has type \"Any\"  [misc]\ntests\\test_service.py:76: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]\ntests\\test_service.py:77: error: Unused \"type: ignore\" comment  [unused-ignore]\ntests\\test_service.py:77: error: Expression has type \"Any\"  [misc]\ntests\\test_service.py:77: note: Error code \"misc\" not covered by \"type: ignore\" comment\ntests\\test_service.py:79: error: Unused \"type: ignore\" comment  [unused-ignore]\ntests\\test_service.py:80: error: Expression has type \"Any\"  [misc]\ntests\\test_service.py:80: note: Error code \"misc\" not covered by \"type: ignore\" comment\ntests\\test_service.py:81: error: Expression has type \"Any\"  [misc]\ntests\\test_service.py:89: error: Unused \"type: ignore\" comment  [unused-ignore]\ntests\\test_service.py:90: error: Expression has type \"Any\"  [misc]\ntests\\test_service.py:90: note: Error code \"misc\" not covered by \"type: ignore\" comment\ntests\\test_service.py:91: error: Expression has type \"Any\"  [misc]\ntests\\test_service.py:97: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]\ntests\\test_service.py:98: error: Expression has type \"Any\"  [misc]\ntests\\test_service.py:105: error: Argument 1 has incompatible type \"Callable[[Path], Path]\"; expected \"Callable[[VarArg(Never), KwArg(Never)], Never]\"  [arg-type]\ntests\\test_service.py:114: error: Expression has type \"Any\"  [misc]\ntests\\test_service.py:115: error: Expression has type \"Any\"  [misc]\ntests\\test_service.py:117: error: Explicit \"Any\" is not allowed  [explicit-any]\ntests\\test_service.py:117: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_service.py:117: error: Expression has type \"Any\"  [misc]\ntests\\test_service.py:118: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_service.py:118: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\ntests\\test_service.py:118: error: Expression type contains \"Any\" (has type \"Any | bool\")  [misc]\ntests\\test_service.py:119: error: Expression has type \"Any\"  [misc]\ntests\\test_service.py:121: error: Explicit \"Any\" is not allowed  [explicit-any]\ntests\\test_service.py:121: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_service.py:121: error: Expression has type \"Any\"  [misc]\ntests\\test_service.py:122: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_service.py:122: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\ntests\\test_service.py:129: error: Expression has type \"Any\"  [misc]\ntests\\test_service.py:131: error: Expression has type \"Any\"  [misc]\ntests\\test_service.py:133: error: Explicit \"Any\" is not allowed  [explicit-any]\ntests\\test_service.py:133: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_service.py:133: error: Expression has type \"Any\"  [misc]\ntests\\test_service.py:134: error: Expression type contains \"Any\" (has type \"Mapping[str, Any]\")  [misc]\ntests\\test_service.py:134: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\ntests\\test_service.py:134: error: Expression type contains \"Any\" (has type \"Any | bool\")  [misc]\ntests\\test_service.py:135: error: Expression has type \"Any\"  [misc]\nFound 399 errors in 10 files (checked 15 source files)\n",
                "tool": "mypy",
                "tool_module": "mypy",
                "tool_version": "mypy 1.18.2 (compiled: yes)"
            },
            "exit": "exit 1",
            "message": "mypy failed for x_make_astrocyte_gateway_x (exit 1)\ncwd: C:\\x_runner_x\\x_make_astrocyte_gateway_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m mypy --package x_make_astrocyte_gateway_x --strict --no-warn-unused-configs --show-error-codes --warn-return-any --warn-unreachable --disallow-any-unimported --disallow-any-expr --disallow-any-decorated --disallow-any-explicit\nstarted_at: 2025-11-10T06:12:36.511055+00:00\nduration: 4.400s\ntool_version: mypy 1.18.2 (compiled: yes)\nstdout:\ntools\\ui_projection_smoke.py:17: error: Skipping analyzing \"interface.gui.environment_studio.services\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\ntools\\ui_projection_smoke.py:19: error: Explicit \"Any\" is not allowed  [explicit-any]\ntools\\ui_projection_smoke.py:23: error: Expression type contains \"Any\" (has type \"tuple[str, dict[Any, Any]]\")  [misc]\ntools\\ui_projection_smoke.py:23: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\ntools\\ui_projection_smoke.py:28: error: Expression type contains \"Any\" (has type \"tuple[str, dict[Any, Any]]\")  [misc]\n\u2026\nstderr:\n<empty>",
            "repo": "x_make_astrocyte_gateway_x",
            "repo_path": "C:\\x_runner_x\\x_make_astrocyte_gateway_x",
            "stderr_preview": null,
            "stdout_preview": "tools\\ui_projection_smoke.py:17: error: Skipping analyzing \"interface.gui.environment_studio.services\": module is installed, but missing library stubs or py.typed marker  [import-untyped]\ntools\\ui_projection_smoke.py:19: error: Explicit \"Any\" is not allowed  [explicit-any]\ntools\\ui_projection_smoke.py:23: error: Expression type contains \"Any\" (has type \"tuple[str, dict[Any, Any]]\")  [misc]\ntools\\ui_projection_smoke.py:23: error: Expression type contains \"Any\" (has type \"dict[Any, Any]\")  [misc]\ntools\\ui_projection_smoke.py:28: error: Expression type contains \"Any\" (has type \"tuple[str, dict[Any, Any]]\")  [misc]\n\u2026",
            "suggested_action": "Investigate",
            "summary": "mypy failed for x_make_astrocyte_gateway_x (exit 1) cwd: C:\\x_runner_x\\x_make_astrocyte_gateway_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m mypy --package x_make_astrocyte_gateway_x --strict --no-warn-un\u2026",
            "tool": "mypy",
            "tool_version": "mypy 1.18.2 (compiled: yes)"
        },
        {
            "captured_at": "2025-11-10T06:12:45.406755+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m pyright . --level error",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "pyright",
                    ".",
                    "--level",
                    "error"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m pyright . --level error",
                "cwd": "C:\\x_runner_x\\x_make_astrocyte_gateway_x",
                "duration_seconds": 4.488431200035848,
                "ended_at": "2025-11-10T06:12:45.406755+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "astrocyte_gateway.py",
                    "client.py",
                    "json_contracts.py",
                    "projection.py",
                    "service.py",
                    "tests/test_gateway.py",
                    "tests/test_projection.py",
                    "tests/test_projection_validation.py",
                    "tests/test_service.py",
                    "tools/ui_projection_smoke.py",
                    "x_cls_make_astrocyte_gateway_x.py"
                ],
                "repo": "x_make_astrocyte_gateway_x",
                "repo_hash": "0187073162d89bee242fa03bf6399239bec10b8a3c1d1c5025846aa4883a2eb9",
                "repo_path": "C:\\x_runner_x\\x_make_astrocyte_gateway_x",
                "started_at": "2025-11-10T06:12:40.918324+00:00",
                "stderr": "",
                "stdout": "c:\\x_runner_x\\x_make_astrocyte_gateway_x\\service.py\n  c:\\x_runner_x\\x_make_astrocyte_gateway_x\\service.py:12:9 - error: \"Depends\" is unknown import symbol (reportAttributeAccessIssue)\n  c:\\x_runner_x\\x_make_astrocyte_gateway_x\\service.py:14:9 - error: \"Header\" is unknown import symbol (reportAttributeAccessIssue)\n  c:\\x_runner_x\\x_make_astrocyte_gateway_x\\service.py:16:9 - error: \"status\" is unknown import symbol (reportAttributeAccessIssue)\n  c:\\x_runner_x\\x_make_astrocyte_gateway_x\\service.py:18:10 - error: Import \"fastapi.responses\" could not be resolved (reportMissingImports)\nc:\\x_runner_x\\x_make_astrocyte_gateway_x\\tests\\test_projection.py\n  c:\\x_runner_x\\x_make_astrocyte_gateway_x\\tests\\test_projection.py:11:34 - error: Cannot access attribute \"validate\" for class \"object\"\n  \u00c2\u00a0\u00c2\u00a0Attribute \"validate\" is unknown (reportAttributeAccessIssue)\nc:\\x_runner_x\\x_make_astrocyte_gateway_x\\tools\\ui_projection_smoke.py\n  c:\\x_runner_x\\x_make_astrocyte_gateway_x\\tools\\ui_projection_smoke.py:88:32 - error: Argument of type \"object\" cannot be assigned to parameter \"obj\" of type \"Sized\" in function \"len\"\n  \u00c2\u00a0\u00c2\u00a0\"object\" is incompatible with protocol \"Sized\"\n  \u00c2\u00a0\u00c2\u00a0\u00c2\u00a0\u00c2\u00a0\"__len__\" is not present (reportArgumentType)\n6 errors, 0 warnings, 0 informations\n",
                "tool": "pyright",
                "tool_module": "pyright",
                "tool_version": "pyright 1.1.407"
            },
            "exit": "exit 1",
            "message": "pyright failed for x_make_astrocyte_gateway_x (exit 1)\ncwd: C:\\x_runner_x\\x_make_astrocyte_gateway_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m pyright . --level error\nstarted_at: 2025-11-10T06:12:40.918324+00:00\nduration: 4.488s\ntool_version: pyright 1.1.407\nstdout:\nc:\\x_runner_x\\x_make_astrocyte_gateway_x\\service.py\n  c:\\x_runner_x\\x_make_astrocyte_gateway_x\\service.py:12:9 - error: \"Depends\" is unknown import symbol (reportAttributeAccessIssue)\n  c:\\x_runner_x\\x_make_astrocyte_gateway_x\\service.py:14:9 - error: \"Header\" is unknown import symbol (reportAttributeAccessIssue)\n  c:\\x_runner_x\\x_make_astrocyte_gateway_x\\service.py:16:9 - error: \"status\" is unknown import symbol (reportAttributeAccessIssue)\n  c:\\x_runner_x\\x_make_astrocyte_gateway_x\\service.py:18:10 - error: Import \"fastapi.responses\" could not be resolved (reportMissingImports)\n\u2026\nstderr:\n<empty>",
            "repo": "x_make_astrocyte_gateway_x",
            "repo_path": "C:\\x_runner_x\\x_make_astrocyte_gateway_x",
            "stderr_preview": null,
            "stdout_preview": "c:\\x_runner_x\\x_make_astrocyte_gateway_x\\service.py\n  c:\\x_runner_x\\x_make_astrocyte_gateway_x\\service.py:12:9 - error: \"Depends\" is unknown import symbol (reportAttributeAccessIssue)\n  c:\\x_runner_x\\x_make_astrocyte_gateway_x\\service.py:14:9 - error: \"Header\" is unknown import symbol (reportAttributeAccessIssue)\n  c:\\x_runner_x\\x_make_astrocyte_gateway_x\\service.py:16:9 - error: \"status\" is unknown import symbol (reportAttributeAccessIssue)\n  c:\\x_runner_x\\x_make_astrocyte_gateway_x\\service.py:18:10 - error: Import \"fastapi.responses\" could not be resolved (reportMissingImports)\n\u2026",
            "suggested_action": "Investigate",
            "summary": "pyright failed for x_make_astrocyte_gateway_x (exit 1) cwd: C:\\x_runner_x\\x_make_astrocyte_gateway_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m pyright . --level error started_at: 2025-11-10T06:12:40.9183\u2026",
            "tool": "pyright",
            "tool_version": "pyright 1.1.407"
        },
        {
            "captured_at": "2025-11-10T06:12:36.489820+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "ruff",
                    "check",
                    ".",
                    "--select",
                    "ALL",
                    "--ignore",
                    "D,COM812,ISC001,T20",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
                "cwd": "C:\\x_runner_x\\x_make_astrocyte_gateway_x",
                "duration_seconds": 0.19375860004220158,
                "ended_at": "2025-11-10T06:12:36.489820+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "astrocyte_gateway.py",
                    "client.py",
                    "json_contracts.py",
                    "projection.py",
                    "service.py",
                    "tests/test_gateway.py",
                    "tests/test_projection.py",
                    "tests/test_projection_validation.py",
                    "tests/test_service.py",
                    "tools/ui_projection_smoke.py",
                    "x_cls_make_astrocyte_gateway_x.py"
                ],
                "repo": "x_make_astrocyte_gateway_x",
                "repo_hash": "0187073162d89bee242fa03bf6399239bec10b8a3c1d1c5025846aa4883a2eb9",
                "repo_path": "C:\\x_runner_x\\x_make_astrocyte_gateway_x",
                "started_at": "2025-11-10T06:12:36.296057+00:00",
                "stderr": "",
                "stdout": "ANN202 Missing return type annotation for private function `_fastapi_missing`\n  --> __init__.py:42:9\n   |\n40 |     app = None  # type: ignore[assignment]\n41 |\n42 |     def _fastapi_missing(*args, **kwargs):  # type: ignore[override]\n   |         ^^^^^^^^^^^^^^^^\n43 |         raise ImportError(\"fastapi is required to use the astrocyte gateway service\")\n   |\nhelp: Add return type annotation: `Never`\n\nANN002 Missing type annotation for `*args`\n  --> __init__.py:42:26\n   |\n40 |     app = None  # type: ignore[assignment]\n41 |\n42 |     def _fastapi_missing(*args, **kwargs):  # type: ignore[override]\n   |                          ^^^^^\n43 |         raise ImportError(\"fastapi is required to use the astrocyte gateway service\")\n   |\n\nARG001 Unused function argument: `args`\n  --> __init__.py:42:27\n   |\n40 |     app = None  # type: ignore[assignment]\n41 |\n42 |     def _fastapi_missing(*args, **kwargs):  # type: ignore[override]\n   |                           ^^^^\n43 |         raise ImportError(\"fastapi is required to use the astrocyte gateway service\")\n   |\n\nANN003 Missing type annotation for `**kwargs`\n  --> __init__.py:42:33\n   |\n40 |     app = None  # type: ignore[assignment]\n41 |\n42 |     def _fastapi_missing(*args, **kwargs):  # type: ignore[override]\n   |                                 ^^^^^^^^\n43 |         raise ImportError(\"fastapi is required to use the astrocyte gateway service\")\n   |\n\nARG001 Unused function argument: `kwargs`\n  --> __init__.py:42:35\n   |\n40 |     app = None  # type: ignore[assignment]\n41 |\n42 |     def _fastapi_missing(*args, **kwargs):  # type: ignore[override]\n   |                                   ^^^^^^\n43 |         raise ImportError(\"fastapi is required to use the astrocyte gateway service\")\n   |\n\nTRY003 Avoid specifying long messages outside the exception class\n  --> __init__.py:43:15\n   |\n42 |     def _fastapi_missing(*args, **kwargs):  # type: ignore[override]\n43 |         raise ImportError(\"fastapi is required to use the astrocyte gateway service\")\n   |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n44 |\n45 |     create_app = serve = _fastapi_missing  # type: ignore[assignment]\n   |\n\nEM101 Exception must not use a string literal, assign to variable first\n  --> __init__.py:43:27\n   |\n42 |     def _fastapi_missing(*args, **kwargs):  # type: ignore[override]\n43 |         raise ImportError(\"fastapi is required to use the astrocyte gateway service\")\n   |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n44 |\n45 |     create_app = serve = _fastapi_missing  # type: ignore[assignment]\n   |\nhelp: Assign to variable; remove string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> astrocyte_gateway.py:153:19\n    |\n151 |         key = operation.strip().lower()\n152 |         if not key:\n153 |             raise ValueError(\"operation name must be non-empty\")\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n154 |         if not callable(handler):\n155 |             raise TypeError(\"operation handler must be callable\")\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> astrocyte_gateway.py:153:30\n    |\n151 |         key = operation.strip().lower()\n152 |         if not key:\n153 |             raise ValueError(\"operation name must be non-empty\")\n    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n154 |         if not callable(handler):\n155 |             raise TypeError(\"operation handler must be callable\")\n    |\nhelp: Assign to variable; remove string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> astrocyte_gateway.py:155:19\n    |\n153 |             raise ValueError(\"operation name must be non-empty\")\n154 |         if not callable(handler):\n155 |             raise TypeError(\"operation handler must be callable\")\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n156 |         self._operations[key] = handler\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> astrocyte_gateway.py:155:29\n    |\n153 |             raise ValueError(\"operation name must be non-empty\")\n154 |         if not callable(handler):\n155 |             raise TypeError(\"operation handler must be callable\")\n    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n156 |         self._operations[key] = handler\n    |\nhelp: Assign to variable; remove string literal\n\nE501 Line too long (108 > 88)\n   --> astrocyte_gateway.py:240:89\n    |\n238 |     if payload.get(\"include_payload\"):\n239 |         outputs[\"payload\"] = dict(payload)\n240 |     return OperationResult.success(outputs=outputs, messages=[\"ping\"], diagnostics={\"length\": len(message)})\n    |                                                                                         ^^^^^^^^^^^^^^^^^^^^\n    |\n\nS311 Standard pseudo-random generators are not suitable for cryptographic purposes\n   --> astrocyte_gateway.py:255:11\n    |\n253 |     length = _coerce_positive_int(payload.get(\"length\"), default=16)\n254 |     seed_obj = payload.get(\"seed\")\n255 |     rng = random.Random(seed_obj) if isinstance(seed_obj, (int, float)) else None\n    |           ^^^^^^^^^^^^^^^^^^^^^^^\n256 |     strings: list[str] = []\n257 |     while len(strings) < count:\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> astrocyte_gateway.py:296:15\n    |\n294 |     text_obj = payload.get(\"text\")\n295 |     if not isinstance(pattern_obj, str) or not isinstance(text_obj, str):\n296 |         raise AstrocyteOperationError(\"pattern and text must be strings\")\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n297 |     mode_obj = payload.get(\"mode\")\n298 |     mode = str(mode_obj).lower() if isinstance(mode_obj, str) else \"search\"\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> astrocyte_gateway.py:296:39\n    |\n294 |     text_obj = payload.get(\"text\")\n295 |     if not isinstance(pattern_obj, str) or not isinstance(text_obj, str):\n296 |         raise AstrocyteOperationError(\"pattern and text must be strings\")\n    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n297 |     mode_obj = payload.get(\"mode\")\n298 |     mode = str(mode_obj).lower() if isinstance(mode_obj, str) else \"search\"\n    |\nhelp: Assign to variable; remove string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> astrocyte_gateway.py:312:19\n    |\n310 |         replacement_obj = payload.get(\"replacement\")\n311 |         if not isinstance(replacement_obj, str):\n312 |             raise AstrocyteOperationError(\"replacement must be provided for sub mode\")\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n313 |         result, count = compiled.subn(replacement_obj, text_obj)\n314 |         outputs = {\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> astrocyte_gateway.py:312:43\n    |\n310 |         replacement_obj = payload.get(\"replacement\")\n311 |         if not isinstance(replacement_obj, str):\n312 |             raise AstrocyteOperationError(\"replacement must be provided for sub mode\")\n    |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n313 |         result, count = compiled.subn(replacement_obj, text_obj)\n314 |         outputs = {\n    |\nhelp: Assign to variable; remove string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> astrocyte_gateway.py:343:15\n    |\n341 |     entrypoint_obj = payload.get(\"entrypoint\")\n342 |     if not isinstance(module_obj, str) or not module_obj.strip():\n343 |         raise AstrocyteOperationError(\"module must be a non-empty string\")\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n344 |     module_name = module_obj.strip()\n345 |     entrypoint_name = entrypoint_obj.strip() if isinstance(entrypoint_obj, str) and entrypoint_obj.strip() else \"main_json\"\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> astrocyte_gateway.py:343:39\n    |\n341 |     entrypoint_obj = payload.get(\"entrypoint\")\n342 |     if not isinstance(module_obj, str) or not module_obj.strip():\n343 |         raise AstrocyteOperationError(\"module must be a non-empty string\")\n    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n344 |     module_name = module_obj.strip()\n345 |     entrypoint_name = entrypoint_obj.strip() if isinstance(entrypoint_obj, str) and entrypoint_obj.strip() else \"main_json\"\n    |\nhelp: Assign to variable; remove string literal\n\nE501 Line too long (123 > 88)\n   --> astrocyte_gateway.py:345:89\n    |\n343 |         raise AstrocyteOperationError(\"module must be a non-empty string\")\n344 |     module_name = module_obj.strip()\n345 |     entrypoint_name = entrypoint_obj.strip() if isinstance(entrypoint_obj, str) and entrypoint_obj.strip() else \"main_json\"\n    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n346 |\n347 |     payload_obj = payload.get(\"payload\", {})\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> astrocyte_gateway.py:349:15\n    |\n347 |     payload_obj = payload.get(\"payload\", {})\n348 |     if not isinstance(payload_obj, Mapping):\n349 |         raise AstrocyteOperationError(\"payload must be a JSON object\")\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n350 |\n351 |     context_obj = payload.get(\"context\")\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> astrocyte_gateway.py:349:39\n    |\n347 |     payload_obj = payload.get(\"payload\", {})\n348 |     if not isinstance(payload_obj, Mapping):\n349 |         raise AstrocyteOperationError(\"payload must be a JSON object\")\n    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n350 |\n351 |     context_obj = payload.get(\"context\")\n    |\nhelp: Assign to variable; remove string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> astrocyte_gateway.py:353:15\n    |\n351 |     context_obj = payload.get(\"context\")\n352 |     if context_obj is not None and not isinstance(context_obj, Mapping):\n353 |         raise AstrocyteOperationError(\"context must be a JSON object when provided\")\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n354 |\n355 |     try:\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> astrocyte_gateway.py:353:39\n    |\n351 |     context_obj = payload.get(\"context\")\n352 |     if context_obj is not None and not isinstance(context_obj, Mapping):\n353 |         raise AstrocyteOperationError(\"context must be a JSON object when provided\")\n    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n354 |\n355 |     try:\n    |\nhelp: Assign to variable; remove string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> astrocyte_gateway.py:358:15\n    |\n356 |         module = importlib.import_module(module_name)\n357 |     except ModuleNotFoundError as exc:\n358 |         raise AstrocyteOperationError(f\"module '{module_name}' not found\") from exc\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n359 |\n360 |     entrypoint = getattr(module, entrypoint_name, None)\n    |\n\nEM102 Exception must not use an f-string literal, assign to variable first\n   --> astrocyte_gateway.py:358:39\n    |\n356 |         module = importlib.import_module(module_name)\n357 |     except ModuleNotFoundError as exc:\n358 |         raise AstrocyteOperationError(f\"module '{module_name}' not found\") from exc\n    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n359 |\n360 |     entrypoint = getattr(module, entrypoint_name, None)\n    |\nhelp: Assign to variable; remove f-string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> astrocyte_gateway.py:362:15\n    |\n360 |       entrypoint = getattr(module, entrypoint_name, None)\n361 |       if entrypoint is None:\n362 |           raise AstrocyteOperationError(\n    |  _______________^\n363 | |             f\"module '{module_name}' has no attribute '{entrypoint_name}'\"\n364 | |         )\n    | |_________^\n365 |\n366 |       result_payload: object\n    |\n\nEM102 Exception must not use an f-string literal, assign to variable first\n   --> astrocyte_gateway.py:363:13\n    |\n361 |     if entrypoint is None:\n362 |         raise AstrocyteOperationError(\n363 |             f\"module '{module_name}' has no attribute '{entrypoint_name}'\"\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n364 |         )\n    |\nhelp: Assign to variable; remove f-string literal\n\nE501 Line too long (125 > 88)\n   --> astrocyte_gateway.py:384:89\n    |\n384 | def _call_entrypoint(func: Callable[..., object], payload: Mapping[str, object], ctx: Mapping[str, object] | None) -> object:\n    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n385 |     try:\n386 |         return func(payload)\n    |\n\nPLR2004 Magic value used in comparison, consider replacing `2` with a constant variable\n   --> astrocyte_gateway.py:389:41\n    |\n387 |     except TypeError as original:\n388 |         signature = inspect.signature(func)\n389 |         if len(signature.parameters) == 2:\n    |                                         ^\n390 |             return func(payload, ctx)\n391 |         raise AstrocyteOperationError(str(original)) from original\n    |\n\nE501 Line too long (96 > 88)\n   --> astrocyte_gateway.py:394:89\n    |\n394 | def _serialize_match(match: re.Match[str] | None, pattern: str, mode: str) -> dict[str, object]:\n    |                                                                                         ^^^^^^^^\n395 |     if match is None:\n396 |         return {\"matched\": False, \"pattern\": pattern, \"mode\": mode}\n    |\n\nE501 Line too long (92 > 88)\n   --> astrocyte_gateway.py:397:89\n    |\n395 |     if match is None:\n396 |         return {\"matched\": False, \"pattern\": pattern, \"mode\": mode}\n397 |     groups = [None if value is None else str(value) for value in match.groups(default=None)]\n    |                                                                                         ^^^^\n398 |     groupdict = {key: (None if value is None else str(value)) for key, value in match.groupdict().items()}\n399 |     span_start, span_end = match.span()\n    |\n\nE501 Line too long (106 > 88)\n   --> astrocyte_gateway.py:398:89\n    |\n396 |         return {\"matched\": False, \"pattern\": pattern, \"mode\": mode}\n397 |     groups = [None if value is None else str(value) for value in match.groups(default=None)]\n398 |     groupdict = {key: (None if value is None else str(value)) for key, value in match.groupdict().items()}\n    |                                                                                         ^^^^^^^^^^^^^^^^^^\n399 |     span_start, span_end = match.span()\n400 |     return {\n    |\n\nE501 Line too long (92 > 88)\n   --> astrocyte_gateway.py:426:89\n    |\n424 |         return [candidate]\n425 |     if isinstance(candidate, Sequence):\n426 |         return [str(item) for item in candidate if not isinstance(item, (bytes, bytearray))]\n    |                                                                                         ^^^^\n427 |     return []\n    |\n\nANN401 Dynamically typed expressions (typing.Any) are disallowed in `client`\n  --> client.py:39:17\n   |\n37 |         api_key: str | None = None,\n38 |         timeout: float = 30.0,\n39 |         client: Any | None = None,\n   |                 ^^^^^^^^^^\n40 |     ) -> None:\n41 |         if httpx is None or _HTTPX_IMPORT_ERROR is not None:  # pragma: no cover - optional dependency\n   |\n\nE501 Line too long (102 > 88)\n  --> client.py:41:89\n   |\n39 |         client: Any | None = None,\n40 |     ) -> None:\n41 |         if httpx is None or _HTTPX_IMPORT_ERROR is not None:  # pragma: no cover - optional dependency\n   |                                                                                         ^^^^^^^^^^^^^^\n42 |             raise ImportError(\"httpx is required to use RemoteAstrocyteGateway\") from _HTTPX_IMPORT_ERROR\n   |\n\nTRY003 Avoid specifying long messages outside the exception class\n  --> client.py:42:19\n   |\n40 |     ) -> None:\n41 |         if httpx is None or _HTTPX_IMPORT_ERROR is not None:  # pragma: no cover - optional dependency\n42 |             raise ImportError(\"httpx is required to use RemoteAstrocyteGateway\") from _HTTPX_IMPORT_ERROR\n   |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n43 |\n44 |         super().__init__(\n   |\n\nEM101 Exception must not use a string literal, assign to variable first\n  --> client.py:42:31\n   |\n40 |     ) -> None:\n41 |         if httpx is None or _HTTPX_IMPORT_ERROR is not None:  # pragma: no cover - optional dependency\n42 |             raise ImportError(\"httpx is required to use RemoteAstrocyteGateway\") from _HTTPX_IMPORT_ERROR\n   |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n43 |\n44 |         super().__init__(\n   |\nhelp: Assign to variable; remove string literal\n\nE501 Line too long (105 > 88)\n  --> client.py:42:89\n   |\n40 |     ) -> None:\n41 |         if httpx is None or _HTTPX_IMPORT_ERROR is not None:  # pragma: no cover - optional dependency\n42 |             raise ImportError(\"httpx is required to use RemoteAstrocyteGateway\") from _HTTPX_IMPORT_ERROR\n   |                                                                                         ^^^^^^^^^^^^^^^^^\n43 |\n44 |         super().__init__(\n   |\n\nE501 Line too long (98 > 88)\n  --> client.py:62:89\n   |\n60 |                 self.role = AstrocyteRole(role_value)\n61 |         except ValueError:\n62 |             LOGGER.debug(\"remote role %s not recognized; defaulting to %s\", role_value, self.role)\n   |                                                                                         ^^^^^^^^^^\n63 |         locality_value = self._descriptor.get(\"locality\")\n64 |         try:\n   |\n\nE501 Line too long (110 > 88)\n  --> client.py:68:89\n   |\n66 |                 self.locality = AstrocyteLocality(locality_value)\n67 |         except ValueError:\n68 |             LOGGER.debug(\"remote locality %s not recognized; defaulting to %s\", locality_value, self.locality)\n   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^\n69 |\n70 |         remote_ops = self._descriptor.get(\"operations\")\n   |\n\nE501 Line too long (100 > 88)\n  --> client.py:71:89\n   |\n70 |         remote_ops = self._descriptor.get(\"operations\")\n71 |         if isinstance(remote_ops, Sequence) and not isinstance(remote_ops, (str, bytes, bytearray)):\n   |                                                                                         ^^^^^^^^^^^^\n72 |             self._remote_operations = tuple(str(entry) for entry in remote_ops)\n73 |         else:\n   |\n\nC408 Unnecessary `tuple()` call (rewrite as a literal)\n  --> client.py:74:39\n   |\n72 |             self._remote_operations = tuple(str(entry) for entry in remote_ops)\n73 |         else:\n74 |             self._remote_operations = tuple()\n   |                                       ^^^^^^^\n75 |\n76 |     def close(self) -> None:\n   |\nhelp: Rewrite as a literal\n\nPYI034 `__enter__` methods in classes like `RemoteAstrocyteGateway` usually return `self` at runtime\n  --> client.py:80:9\n   |\n78 |             self._client.close()\n79 |\n80 |     def __enter__(self) -> RemoteAstrocyteGateway:\n   |         ^^^^^^^^^\n81 |         return self\n   |\nhelp: Use `Self` as return type\n\nANN001 Missing type annotation for function argument `exc_type`\n  --> client.py:83:24\n   |\n81 |         return self\n82 |\n83 |     def __exit__(self, exc_type, exc, tb) -> None:  # type: ignore[override]\n   |                        ^^^^^^^^\n84 |         self.close()\n   |\n\nANN001 Missing type annotation for function argument `exc`\n  --> client.py:83:34\n   |\n81 |         return self\n82 |\n83 |     def __exit__(self, exc_type, exc, tb) -> None:  # type: ignore[override]\n   |                                  ^^^\n84 |         self.close()\n   |\n\nANN001 Missing type annotation for function argument `tb`\n  --> client.py:83:39\n   |\n81 |         return self\n82 |\n83 |     def __exit__(self, exc_type, exc, tb) -> None:  # type: ignore[override]\n   |                                       ^^\n84 |         self.close()\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `401` with a constant variable\n   --> client.py:111:36\n    |\n109 |         headers = self._headers()\n110 |         response = self._client.post(\"/invoke\", json=request_payload, headers=headers)\n111 |         if response.status_code == 401:\n    |                                    ^^^\n112 |             raise AstrocyteOperationError(\"remote astrocyte rejected credentials\")\n113 |         if response.status_code >= 500:\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> client.py:112:19\n    |\n110 |         response = self._client.post(\"/invoke\", json=request_payload, headers=headers)\n111 |         if response.status_code == 401:\n112 |             raise AstrocyteOperationError(\"remote astrocyte rejected credentials\")\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n113 |         if response.status_code >= 500:\n114 |             raise AstrocyteOperationError(\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> client.py:112:43\n    |\n110 |         response = self._client.post(\"/invoke\", json=request_payload, headers=headers)\n111 |         if response.status_code == 401:\n112 |             raise AstrocyteOperationError(\"remote astrocyte rejected credentials\")\n    |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n113 |         if response.status_code >= 500:\n114 |             raise AstrocyteOperationError(\n    |\nhelp: Assign to variable; remove string literal\n\nPLR2004 Magic value used in comparison, consider replacing `500` with a constant variable\n   --> client.py:113:36\n    |\n111 |         if response.status_code == 401:\n112 |             raise AstrocyteOperationError(\"remote astrocyte rejected credentials\")\n113 |         if response.status_code >= 500:\n    |                                    ^^^\n114 |             raise AstrocyteOperationError(\n115 |                 f\"remote astrocyte error ({response.status_code})\"\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> client.py:114:19\n    |\n112 |               raise AstrocyteOperationError(\"remote astrocyte rejected credentials\")\n113 |           if response.status_code >= 500:\n114 |               raise AstrocyteOperationError(\n    |  ___________________^\n115 | |                 f\"remote astrocyte error ({response.status_code})\"\n116 | |             )\n    | |_____________^\n117 |\n118 |           result_payload = response.json()\n    |\n\nEM102 Exception must not use an f-string literal, assign to variable first\n   --> client.py:115:17\n    |\n113 |         if response.status_code >= 500:\n114 |             raise AstrocyteOperationError(\n115 |                 f\"remote astrocyte error ({response.status_code})\"\n    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n116 |             )\n    |\nhelp: Assign to variable; remove f-string literal\n\nE501 Line too long (91 > 88)\n   --> client.py:124:89\n    |\n122 |         messages = _ensure_string_sequence(result_payload.get(\"messages\"))\n123 |         diagnostics_obj = result_payload.get(\"diagnostics\", {})\n124 |         diagnostics = dict(diagnostics_obj) if isinstance(diagnostics_obj, Mapping) else {}\n    |                                                                                         ^^^\n125 |         if status == \"success\":\n126 |             return OperationResult.success(\n    |\n\nPLR2004 Magic value used in comparison, consider replacing `401` with a constant variable\n   --> client.py:148:36\n    |\n146 |         headers = self._headers()\n147 |         response = self._client.get(\"/gateway\", headers=headers)\n148 |         if response.status_code == 401:\n    |                                    ^^^\n149 |             raise AstrocyteOperationError(\"unauthorized when fetching descriptor\")\n150 |         response.raise_for_status()\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> client.py:149:19\n    |\n147 |         response = self._client.get(\"/gateway\", headers=headers)\n148 |         if response.status_code == 401:\n149 |             raise AstrocyteOperationError(\"unauthorized when fetching descriptor\")\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n150 |         response.raise_for_status()\n151 |         data = response.json()\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> client.py:149:43\n    |\n147 |         response = self._client.get(\"/gateway\", headers=headers)\n148 |         if response.status_code == 401:\n149 |             raise AstrocyteOperationError(\"unauthorized when fetching descriptor\")\n    |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n150 |         response.raise_for_status()\n151 |         data = response.json()\n    |\nhelp: Assign to variable; remove string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> client.py:154:19\n    |\n152 |         gateway_obj = data.get(\"gateway\")\n153 |         if not isinstance(gateway_obj, Mapping):\n154 |             raise AstrocyteOperationError(\"descriptor payload missing gateway information\")\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n155 |         operations = data.get(\"operations\", [])\n156 |         if isinstance(operations, Sequence) and not isinstance(operations, (str, bytes, bytearray)):\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> client.py:154:43\n    |\n152 |         gateway_obj = data.get(\"gateway\")\n153 |         if not isinstance(gateway_obj, Mapping):\n154 |             raise AstrocyteOperationError(\"descriptor payload missing gateway information\")\n    |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n155 |         operations = data.get(\"operations\", [])\n156 |         if isinstance(operations, Sequence) and not isinstance(operations, (str, bytes, bytearray)):\n    |\nhelp: Assign to variable; remove string literal\n\nE501 Line too long (91 > 88)\n   --> client.py:154:89\n    |\n152 |         gateway_obj = data.get(\"gateway\")\n153 |         if not isinstance(gateway_obj, Mapping):\n154 |             raise AstrocyteOperationError(\"descriptor payload missing gateway information\")\n    |                                                                                         ^^^\n155 |         operations = data.get(\"operations\", [])\n156 |         if isinstance(operations, Sequence) and not isinstance(operations, (str, bytes, bytearray)):\n    |\n\nE501 Line too long (100 > 88)\n   --> client.py:156:89\n    |\n154 |             raise AstrocyteOperationError(\"descriptor payload missing gateway information\")\n155 |         operations = data.get(\"operations\", [])\n156 |         if isinstance(operations, Sequence) and not isinstance(operations, (str, bytes, bytearray)):\n    |                                                                                         ^^^^^^^^^^^^\n157 |             operations_tuple = tuple(str(entry) for entry in operations)\n158 |         else:\n    |\n\nTC003 Move standard library import `pathlib.Path` into a type-checking block\n  --> projection.py:9:21\n   |\n 7 | from dataclasses import dataclass, field\n 8 | from datetime import UTC, datetime\n 9 | from pathlib import Path\n   |                     ^^^^\n10 | from types import MappingProxyType\n   |\nhelp: Move into type-checking block\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:185:15\n    |\n183 | def _require_text(value: str, field_name: str) -> str:\n184 |     if not isinstance(value, str):\n185 |         raise TypeError(f\"{field_name} must be a string\")\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n186 |     trimmed = value.strip()\n187 |     if not trimmed:\n    |\n\nEM102 Exception must not use an f-string literal, assign to variable first\n   --> projection.py:185:25\n    |\n183 | def _require_text(value: str, field_name: str) -> str:\n184 |     if not isinstance(value, str):\n185 |         raise TypeError(f\"{field_name} must be a string\")\n    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n186 |     trimmed = value.strip()\n187 |     if not trimmed:\n    |\nhelp: Assign to variable; remove f-string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:188:15\n    |\n186 |     trimmed = value.strip()\n187 |     if not trimmed:\n188 |         raise ValueError(f\"{field_name} must be a non-empty string\")\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n189 |     return trimmed\n    |\n\nEM102 Exception must not use an f-string literal, assign to variable first\n   --> projection.py:188:26\n    |\n186 |     trimmed = value.strip()\n187 |     if not trimmed:\n188 |         raise ValueError(f\"{field_name} must be a non-empty string\")\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n189 |     return trimmed\n    |\nhelp: Assign to variable; remove f-string literal\n\nRET504 Unnecessary assignment to `text` before `return` statement\n   --> projection.py:194:12\n    |\n192 | def _require_identifier(value: str, field_name: str) -> str:\n193 |     text = _require_text(value, field_name)\n194 |     return text\n    |            ^^^^\n    |\nhelp: Remove unnecessary assignment\n\nE501 Line too long (92 > 88)\n   --> projection.py:197:89\n    |\n197 | def _coerce_mapping(mapping: Mapping[str, object], field_name: str) -> Mapping[str, object]:\n    |                                                                                         ^^^^\n198 |     if not isinstance(mapping, Mapping):\n199 |         raise TypeError(f\"{field_name} must be a mapping\")\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:199:15\n    |\n197 | def _coerce_mapping(mapping: Mapping[str, object], field_name: str) -> Mapping[str, object]:\n198 |     if not isinstance(mapping, Mapping):\n199 |         raise TypeError(f\"{field_name} must be a mapping\")\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n200 |     return MappingProxyType({str(key): value for key, value in mapping.items()})\n    |\n\nEM102 Exception must not use an f-string literal, assign to variable first\n   --> projection.py:199:25\n    |\n197 | def _coerce_mapping(mapping: Mapping[str, object], field_name: str) -> Mapping[str, object]:\n198 |     if not isinstance(mapping, Mapping):\n199 |         raise TypeError(f\"{field_name} must be a mapping\")\n    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n200 |     return MappingProxyType({str(key): value for key, value in mapping.items()})\n    |\nhelp: Assign to variable; remove f-string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:205:15\n    |\n203 | def _coerce_string_tuple(values: Sequence[str], field_name: str) -> tuple[str, ...]:\n204 |     if not isinstance(values, Sequence):\n205 |         raise TypeError(f\"{field_name} must be a sequence\")\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n206 |     result: list[str] = []\n207 |     for item in values:\n    |\n\nEM102 Exception must not use an f-string literal, assign to variable first\n   --> projection.py:205:25\n    |\n203 | def _coerce_string_tuple(values: Sequence[str], field_name: str) -> tuple[str, ...]:\n204 |     if not isinstance(values, Sequence):\n205 |         raise TypeError(f\"{field_name} must be a sequence\")\n    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n206 |     result: list[str] = []\n207 |     for item in values:\n    |\nhelp: Assign to variable; remove f-string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:209:19\n    |\n207 |     for item in values:\n208 |         if not isinstance(item, str):\n209 |             raise TypeError(f\"{field_name} entries must be strings\")\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n210 |         trimmed = item.strip()\n211 |         if trimmed:\n    |\n\nEM102 Exception must not use an f-string literal, assign to variable first\n   --> projection.py:209:29\n    |\n207 |     for item in values:\n208 |         if not isinstance(item, str):\n209 |             raise TypeError(f\"{field_name} entries must be strings\")\n    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n210 |         trimmed = item.strip()\n211 |         if trimmed:\n    |\nhelp: Assign to variable; remove f-string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:245:15\n    |\n243 |     text = value.strip()\n244 |     if not text:\n245 |         raise ValueError(\"node.form must be a non-empty string\")\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n246 |     if text.startswith(\"Form_\"):\n247 |         return text\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> projection.py:245:26\n    |\n243 |     text = value.strip()\n244 |     if not text:\n245 |         raise ValueError(\"node.form must be a non-empty string\")\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n246 |     if text.startswith(\"Form_\"):\n247 |         return text\n    |\nhelp: Assign to variable; remove string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:251:11\n    |\n249 |     if alias is not None:\n250 |         return alias\n251 |     raise ValueError(f\"unknown astrocyte form '{value}'\")\n    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n\nEM102 Exception must not use an f-string literal, assign to variable first\n   --> projection.py:251:22\n    |\n249 |     if alias is not None:\n250 |         return alias\n251 |     raise ValueError(f\"unknown astrocyte form '{value}'\")\n    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\nhelp: Assign to variable; remove f-string literal\n\nC901 `_enforce_primary_form_contract` is too complex (12 > 10)\n   --> projection.py:254:5\n    |\n254 | def _enforce_primary_form_contract(\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n255 |     node_forms: Mapping[str, str],\n256 |     edges: Sequence[tuple[str, str]],\n    |\n\nE501 Line too long (89 > 88)\n   --> projection.py:258:89\n    |\n256 |     edges: Sequence[tuple[str, str]],\n257 | ) -> None:\n258 |     begin_nodes = [node_id for node_id, form in node_forms.items() if form == FORM_BEGIN]\n    |                                                                                         ^\n259 |     if len(begin_nodes) != 1:\n260 |         raise ValueError(\"network must contain exactly one Form_1 astrocyte\")\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:260:15\n    |\n258 |     begin_nodes = [node_id for node_id, form in node_forms.items() if form == FORM_BEGIN]\n259 |     if len(begin_nodes) != 1:\n260 |         raise ValueError(\"network must contain exactly one Form_1 astrocyte\")\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n261 |     end_nodes = [node_id for node_id, form in node_forms.items() if form == FORM_END]\n262 |     if len(end_nodes) != 1:\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> projection.py:260:26\n    |\n258 |     begin_nodes = [node_id for node_id, form in node_forms.items() if form == FORM_BEGIN]\n259 |     if len(begin_nodes) != 1:\n260 |         raise ValueError(\"network must contain exactly one Form_1 astrocyte\")\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n261 |     end_nodes = [node_id for node_id, form in node_forms.items() if form == FORM_END]\n262 |     if len(end_nodes) != 1:\n    |\nhelp: Assign to variable; remove string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:263:15\n    |\n261 |     end_nodes = [node_id for node_id, form in node_forms.items() if form == FORM_END]\n262 |     if len(end_nodes) != 1:\n263 |         raise ValueError(\"network must contain exactly one Form_3 astrocyte\")\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n264 |\n265 |     incoming_by_target: dict[str, list[str]] = {}\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> projection.py:263:26\n    |\n261 |     end_nodes = [node_id for node_id, form in node_forms.items() if form == FORM_END]\n262 |     if len(end_nodes) != 1:\n263 |         raise ValueError(\"network must contain exactly one Form_3 astrocyte\")\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n264 |\n265 |     incoming_by_target: dict[str, list[str]] = {}\n    |\nhelp: Assign to variable; remove string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:271:19\n    |\n269 |         target_form = node_forms.get(target)\n270 |         if source_form == FORM_BEGIN and target_form == FORM_END:\n271 |             raise ValueError(\"Form_1 astrocytes must not connect directly to Form_3 astrocytes\")\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n272 |\n273 |     for node_id, form in node_forms.items():\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> projection.py:271:30\n    |\n269 |         target_form = node_forms.get(target)\n270 |         if source_form == FORM_BEGIN and target_form == FORM_END:\n271 |             raise ValueError(\"Form_1 astrocytes must not connect directly to Form_3 astrocytes\")\n    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n272 |\n273 |     for node_id, form in node_forms.items():\n    |\nhelp: Assign to variable; remove string literal\n\nE501 Line too long (96 > 88)\n   --> projection.py:271:89\n    |\n269 |         target_form = node_forms.get(target)\n270 |         if source_form == FORM_BEGIN and target_form == FORM_END:\n271 |             raise ValueError(\"Form_1 astrocytes must not connect directly to Form_3 astrocytes\")\n    |                                                                                         ^^^^^^^^\n272 |\n273 |     for node_id, form in node_forms.items():\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:277:23\n    |\n275 |           if form == FORM_EXECUTE:\n276 |               if not inbound_sources:\n277 |                   raise ValueError(\n    |  _______________________^\n278 | |                     f\"Form_2 astrocyte '{node_id}' must have an incoming edge\"\n279 | |                 )\n    | |_________________^\n280 |               if not any(\n281 |                   node_forms.get(source) in {FORM_BEGIN, FORM_EXECUTE}\n    |\n\nEM102 Exception must not use an f-string literal, assign to variable first\n   --> projection.py:278:21\n    |\n276 |             if not inbound_sources:\n277 |                 raise ValueError(\n278 |                     f\"Form_2 astrocyte '{node_id}' must have an incoming edge\"\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n279 |                 )\n280 |             if not any(\n    |\nhelp: Assign to variable; remove f-string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:284:23\n    |\n282 |                   for source in inbound_sources\n283 |               ):\n284 |                   raise ValueError(\n    |  _______________________^\n285 | |                     f\"Form_2 astrocyte '{node_id}' must be driven by Form_1 or Form_2 astrocytes\"\n286 | |                 )\n    | |_________________^\n287 |           if form == FORM_END:\n288 |               if not inbound_sources:\n    |\n\nEM102 Exception must not use an f-string literal, assign to variable first\n   --> projection.py:285:21\n    |\n283 |             ):\n284 |                 raise ValueError(\n285 |                     f\"Form_2 astrocyte '{node_id}' must be driven by Form_1 or Form_2 astrocytes\"\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n286 |                 )\n287 |         if form == FORM_END:\n    |\nhelp: Assign to variable; remove f-string literal\n\nE501 Line too long (97 > 88)\n   --> projection.py:285:89\n    |\n283 |             ):\n284 |                 raise ValueError(\n285 |                     f\"Form_2 astrocyte '{node_id}' must be driven by Form_1 or Form_2 astrocytes\"\n    |                                                                                         ^^^^^^^^^\n286 |                 )\n287 |         if form == FORM_END:\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:289:23\n    |\n287 |           if form == FORM_END:\n288 |               if not inbound_sources:\n289 |                   raise ValueError(\n    |  _______________________^\n290 | |                     \"Form_3 astrocyte must have at least one incoming edge\"\n291 | |                 )\n    | |_________________^\n292 |               if not any(node_forms.get(source) == FORM_EXECUTE for source in inbound_sources):\n293 |                   raise ValueError(\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> projection.py:290:21\n    |\n288 |             if not inbound_sources:\n289 |                 raise ValueError(\n290 |                     \"Form_3 astrocyte must have at least one incoming edge\"\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n291 |                 )\n292 |             if not any(node_forms.get(source) == FORM_EXECUTE for source in inbound_sources):\n    |\nhelp: Assign to variable; remove string literal\n\nE501 Line too long (93 > 88)\n   --> projection.py:292:89\n    |\n290 |                     \"Form_3 astrocyte must have at least one incoming edge\"\n291 |                 )\n292 |             if not any(node_forms.get(source) == FORM_EXECUTE for source in inbound_sources):\n    |                                                                                         ^^^^^\n293 |                 raise ValueError(\n294 |                     \"Form_3 astrocyte must be triggered by at least one Form_2 astrocyte\"\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:293:23\n    |\n291 |                   )\n292 |               if not any(node_forms.get(source) == FORM_EXECUTE for source in inbound_sources):\n293 |                   raise ValueError(\n    |  _______________________^\n294 | |                     \"Form_3 astrocyte must be triggered by at least one Form_2 astrocyte\"\n295 | |                 )\n    | |_________________^\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> projection.py:294:21\n    |\n292 |             if not any(node_forms.get(source) == FORM_EXECUTE for source in inbound_sources):\n293 |                 raise ValueError(\n294 |                     \"Form_3 astrocyte must be triggered by at least one Form_2 astrocyte\"\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n295 |                 )\n    |\nhelp: Assign to variable; remove string literal\n\nE501 Line too long (89 > 88)\n   --> projection.py:294:89\n    |\n292 |             if not any(node_forms.get(source) == FORM_EXECUTE for source in inbound_sources):\n293 |                 raise ValueError(\n294 |                     \"Form_3 astrocyte must be triggered by at least one Form_2 astrocyte\"\n    |                                                                                         ^\n295 |                 )\n    |\n\nE501 Line too long (91 > 88)\n   --> projection.py:392:89\n    |\n391 |     def __post_init__(self) -> None:\n392 |         object.__setattr__(self, \"source\", _require_identifier(self.source, \"edge.source\"))\n    |                                                                                         ^^^\n393 |         object.__setattr__(self, \"target\", _require_identifier(self.target, \"edge.target\"))\n394 |         object.__setattr__(\n    |\n\nE501 Line too long (91 > 88)\n   --> projection.py:393:89\n    |\n391 |     def __post_init__(self) -> None:\n392 |         object.__setattr__(self, \"source\", _require_identifier(self.source, \"edge.source\"))\n393 |         object.__setattr__(self, \"target\", _require_identifier(self.target, \"edge.target\"))\n    |                                                                                         ^^^\n394 |         object.__setattr__(\n395 |             self,\n    |\n\nSIM102 Use a single `if` statement instead of nested `if` statements\n   --> projection.py:439:9\n    |\n438 |       def __post_init__(self) -> None:\n439 | /         if self.batch_size is not None:\n440 | |             if self.batch_size <= 0:\n    | |____________________________________^\n441 |                   raise ValueError(\"execution_policy.batch_size must be positive\")\n442 |           if self.retry_limit is not None:\n    |\nhelp: Combine `if` statements using `and`\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:441:23\n    |\n439 |         if self.batch_size is not None:\n440 |             if self.batch_size <= 0:\n441 |                 raise ValueError(\"execution_policy.batch_size must be positive\")\n    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n442 |         if self.retry_limit is not None:\n443 |             if self.retry_limit < 0:\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> projection.py:441:34\n    |\n439 |         if self.batch_size is not None:\n440 |             if self.batch_size <= 0:\n441 |                 raise ValueError(\"execution_policy.batch_size must be positive\")\n    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n442 |         if self.retry_limit is not None:\n443 |             if self.retry_limit < 0:\n    |\nhelp: Assign to variable; remove string literal\n\nSIM102 Use a single `if` statement instead of nested `if` statements\n   --> projection.py:442:9\n    |\n440 |               if self.batch_size <= 0:\n441 |                   raise ValueError(\"execution_policy.batch_size must be positive\")\n442 | /         if self.retry_limit is not None:\n443 | |             if self.retry_limit < 0:\n    | |____________________________________^\n444 |                   raise ValueError(\"execution_policy.retry_limit must be non-negative\")\n445 |           if self.concurrency is not None:\n    |\nhelp: Combine `if` statements using `and`\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:444:23\n    |\n442 |         if self.retry_limit is not None:\n443 |             if self.retry_limit < 0:\n444 |                 raise ValueError(\"execution_policy.retry_limit must be non-negative\")\n    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n445 |         if self.concurrency is not None:\n446 |             object.__setattr__(\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> projection.py:444:34\n    |\n442 |         if self.retry_limit is not None:\n443 |             if self.retry_limit < 0:\n444 |                 raise ValueError(\"execution_policy.retry_limit must be non-negative\")\n    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n445 |         if self.concurrency is not None:\n446 |             object.__setattr__(\n    |\nhelp: Assign to variable; remove string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:530:23\n    |\n528 |           for bundle in self.data_bundles:\n529 |               if not isinstance(bundle, ProjectionDataBundle):\n530 |                   raise TypeError(\n    |  _______________________^\n531 | |                     \"resources.data_bundles entries must be ProjectionDataBundle instances\"\n532 | |                 )\n    | |_________________^\n533 |               bundles.append(bundle)\n534 |           object.__setattr__(self, \"data_bundles\", tuple(bundles))\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> projection.py:531:21\n    |\n529 |             if not isinstance(bundle, ProjectionDataBundle):\n530 |                 raise TypeError(\n531 |                     \"resources.data_bundles entries must be ProjectionDataBundle instances\"\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n532 |                 )\n533 |             bundles.append(bundle)\n    |\nhelp: Assign to variable; remove string literal\n\nE501 Line too long (91 > 88)\n   --> projection.py:531:89\n    |\n529 |             if not isinstance(bundle, ProjectionDataBundle):\n530 |                 raise TypeError(\n531 |                     \"resources.data_bundles entries must be ProjectionDataBundle instances\"\n    |                                                                                         ^^^\n532 |                 )\n533 |             bundles.append(bundle)\n    |\n\nE501 Line too long (89 > 88)\n   --> projection.py:588:89\n    |\n586 |                 _require_text(self.git_revision, \"origin.git_revision\"),\n587 |             )\n588 |         object.__setattr__(self, \"extras\", _coerce_mapping(self.extras, \"origin.extras\"))\n    |                                                                                         ^\n589 |\n590 |     def to_dict(self) -> dict[str, object]:\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:626:19\n    |\n624 |         node_ids = {node.id for node in self.nodes}\n625 |         if len(node_ids) != len(self.nodes):\n626 |             raise ValueError(\"network nodes must have unique ids\")\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n627 |         nodes_by_id = {node.id: node for node in self.nodes}\n628 |         for edge in self.edges:\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> projection.py:626:30\n    |\n624 |         node_ids = {node.id for node in self.nodes}\n625 |         if len(node_ids) != len(self.nodes):\n626 |             raise ValueError(\"network nodes must have unique ids\")\n    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n627 |         nodes_by_id = {node.id: node for node in self.nodes}\n628 |         for edge in self.edges:\n    |\nhelp: Assign to variable; remove string literal\n\nF841 Local variable `nodes_by_id` is assigned to but never used\n   --> projection.py:627:9\n    |\n625 |         if len(node_ids) != len(self.nodes):\n626 |             raise ValueError(\"network nodes must have unique ids\")\n627 |         nodes_by_id = {node.id: node for node in self.nodes}\n    |         ^^^^^^^^^^^\n628 |         for edge in self.edges:\n629 |             if edge.source not in node_ids:\n    |\nhelp: Remove assignment to unused variable `nodes_by_id`\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:630:23\n    |\n628 |         for edge in self.edges:\n629 |             if edge.source not in node_ids:\n630 |                 raise ValueError(f\"edge source '{edge.source}' is not defined\")\n    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n631 |             if edge.target not in node_ids:\n632 |                 raise ValueError(\n    |\n\nEM102 Exception must not use an f-string literal, assign to variable first\n   --> projection.py:630:34\n    |\n628 |         for edge in self.edges:\n629 |             if edge.source not in node_ids:\n630 |                 raise ValueError(f\"edge source '{edge.source}' is not defined\")\n    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n631 |             if edge.target not in node_ids:\n632 |                 raise ValueError(\n    |\nhelp: Assign to variable; remove f-string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:632:23\n    |\n630 |                   raise ValueError(f\"edge source '{edge.source}' is not defined\")\n631 |               if edge.target not in node_ids:\n632 |                   raise ValueError(\n    |  _______________________^\n633 | |                     f\"edge target '{edge.target}' is not defined\"\n634 | |                 )\n    | |_________________^\n635 |           for entry in self.entrypoints:\n636 |               if entry not in node_ids:\n    |\n\nEM102 Exception must not use an f-string literal, assign to variable first\n   --> projection.py:633:21\n    |\n631 |             if edge.target not in node_ids:\n632 |                 raise ValueError(\n633 |                     f\"edge target '{edge.target}' is not defined\"\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n634 |                 )\n635 |         for entry in self.entrypoints:\n    |\nhelp: Assign to variable; remove f-string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:637:23\n    |\n635 |         for entry in self.entrypoints:\n636 |             if entry not in node_ids:\n637 |                 raise ValueError(f\"entrypoint '{entry}' is not defined\")\n    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n638 |         for sink in self.sinks:\n639 |             if sink not in node_ids:\n    |\n\nEM102 Exception must not use an f-string literal, assign to variable first\n   --> projection.py:637:34\n    |\n635 |         for entry in self.entrypoints:\n636 |             if entry not in node_ids:\n637 |                 raise ValueError(f\"entrypoint '{entry}' is not defined\")\n    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n638 |         for sink in self.sinks:\n639 |             if sink not in node_ids:\n    |\nhelp: Assign to variable; remove f-string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:640:23\n    |\n638 |         for sink in self.sinks:\n639 |             if sink not in node_ids:\n640 |                 raise ValueError(f\"sink '{sink}' is not defined\")\n    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n641 |         node_forms = {node.id: node.form for node in self.nodes}\n642 |         edge_pairs = [(edge.source, edge.target) for edge in self.edges]\n    |\n\nEM102 Exception must not use an f-string literal, assign to variable first\n   --> projection.py:640:34\n    |\n638 |         for sink in self.sinks:\n639 |             if sink not in node_ids:\n640 |                 raise ValueError(f\"sink '{sink}' is not defined\")\n    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n641 |         node_forms = {node.id: node.form for node in self.nodes}\n642 |         edge_pairs = [(edge.source, edge.target) for edge in self.edges]\n    |\nhelp: Assign to variable; remove f-string literal\n\nC901 `to_markdown_document` is too complex (12 > 10)\n   --> projection.py:752:9\n    |\n750 |         return self.network.to_graphviz_spec()\n751 |\n752 |     def to_markdown_document(self) -> dict[str, object]:\n    |         ^^^^^^^^^^^^^^^^^^^^\n753 |         header_text = f\"Astral Projection \u00c2\u00b7 {self.id}\"\n754 |         network = self.network\n    |\n\nPERF401 Use a list comprehension to create a transformed list\n   --> projection.py:757:13\n    |\n755 |           nodes_rows: list[list[str]] = []\n756 |           for node in network.nodes:\n757 | /             nodes_rows.append(\n758 | |                 [\n759 | |                     node.id,\n760 | |                     node.form,\n761 | |                     node.operation,\n762 | |                     node.module,\n763 | |                 ]\n764 | |             )\n    | |_____________^\n765 |           edges_items: list[str] = []\n766 |           for edge in network.edges:\n    |\nhelp: Replace for loop with list comprehension\n\nPERF401 Use a list comprehension to create a transformed list\n   --> projection.py:767:13\n    |\n765 |         edges_items: list[str] = []\n766 |         for edge in network.edges:\n767 |             edges_items.append(f\"{edge.source} \u00e2\u2020\u2019 {edge.target} ({edge.channel})\")\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n768 |         entrypoints_text = \", \".join(network.entrypoints) if network.entrypoints else \"\u00e2\u20ac\u201d\"\n769 |         sinks_text = \", \".join(network.sinks) if network.sinks else \"\u00e2\u20ac\u201d\"\n    |\nhelp: Replace for loop with list comprehension\n\nE501 Line too long (89 > 88)\n   --> projection.py:768:89\n    |\n766 |         for edge in network.edges:\n767 |             edges_items.append(f\"{edge.source} \u00e2\u2020\u2019 {edge.target} ({edge.channel})\")\n768 |         entrypoints_text = \", \".join(network.entrypoints) if network.entrypoints else \"\u00e2\u20ac\u201d\"\n    |                                                                                         ^\n769 |         sinks_text = \", \".join(network.sinks) if network.sinks else \"\u00e2\u20ac\u201d\"\n770 |         policy_summary = \"Unspecified\"\n    |\n\nSLF001 Private member accessed: `_build_status_summary`\n   --> projection.py:782:26\n    |\n780 |             if policy_bits:\n781 |                 policy_summary = \", \".join(policy_bits)\n782 |         status_summary = network._build_status_summary()\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n783 |         missing_forms_obj = status_summary.get(\"missing_forms\", [])\n784 |         missing_forms_list: list[str] = []\n    |\n\nE501 Line too long (103 > 88)\n   --> projection.py:785:89\n    |\n783 |         missing_forms_obj = status_summary.get(\"missing_forms\", [])\n784 |         missing_forms_list: list[str] = []\n785 |         if isinstance(missing_forms_obj, Sequence) and not isinstance(missing_forms_obj, (str, bytes)):\n    |                                                                                         ^^^^^^^^^^^^^^^\n786 |             missing_forms_list = [str(item) for item in missing_forms_obj]\n787 |         missing_forms_text = \", \".join(missing_forms_list) if missing_forms_list else \"none\"\n    |\n\nE501 Line too long (92 > 88)\n   --> projection.py:787:89\n    |\n785 |         if isinstance(missing_forms_obj, Sequence) and not isinstance(missing_forms_obj, (str, bytes)):\n786 |             missing_forms_list = [str(item) for item in missing_forms_obj]\n787 |         missing_forms_text = \", \".join(missing_forms_list) if missing_forms_list else \"none\"\n    |                                                                                         ^^^^\n788 |         paragraph = (\n789 |             \"Snapshot captured by \"\n    |\n\nE501 Line too long (96 > 88)\n   --> projection.py:816:89\n    |\n814 |             if resources.python_requirements:\n815 |                 req_text = \", \".join(resources.python_requirements)\n816 |                 blocks.append({\"kind\": \"paragraph\", \"text\": f\"Python requirements: {req_text}\"})\n    |                                                                                         ^^^^^^^^\n817 |             if resources.data_bundles:\n818 |                 bundle_lines = [\n    |\n\nE501 Line too long (89 > 88)\n   --> projection.py:859:89\n    |\n859 | def write_snapshot(snapshot: ProjectionSnapshot, path: Path, *, indent: int = 2) -> Path:\n    |                                                                                         ^\n860 |     path.parent.mkdir(parents=True, exist_ok=True)\n861 |     payload = snapshot.to_json(indent=indent)\n    |\n\nPLC0415 `import` should be at the top-level of a file\n   --> projection.py:870:9\n    |\n869 |     try:\n870 |         import jsonschema\n    |         ^^^^^^^^^^^^^^^^^\n871 |     except ModuleNotFoundError as exc:  # pragma: no cover - optional dependency guard\n872 |         msg = \"jsonschema is required to validate astral projection snapshots\"\n    |\n\nTRY004 Prefer `TypeError` exception for invalid type\n   --> projection.py:879:9\n    |\n877 |     network_payload = payload.get(\"network\")\n878 |     if not isinstance(network_payload, Mapping):\n879 |         raise ValueError(\"snapshot payload must include a network mapping\")\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n880 |\n881 |     node_entries = network_payload.get(\"nodes\", [])\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:879:15\n    |\n877 |     network_payload = payload.get(\"network\")\n878 |     if not isinstance(network_payload, Mapping):\n879 |         raise ValueError(\"snapshot payload must include a network mapping\")\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n880 |\n881 |     node_entries = network_payload.get(\"nodes\", [])\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> projection.py:879:26\n    |\n877 |     network_payload = payload.get(\"network\")\n878 |     if not isinstance(network_payload, Mapping):\n879 |         raise ValueError(\"snapshot payload must include a network mapping\")\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n880 |\n881 |     node_entries = network_payload.get(\"nodes\", [])\n    |\nhelp: Assign to variable; remove string literal\n\nTRY004 Prefer `TypeError` exception for invalid type\n   --> projection.py:884:9\n    |\n882 |     edge_entries = network_payload.get(\"edges\", [])\n883 |     if not isinstance(node_entries, Sequence) or not isinstance(edge_entries, Sequence):\n884 |         raise ValueError(\"network nodes and edges must be sequences\")\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n885 |\n886 |     node_forms: dict[str, str] = {}\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:884:15\n    |\n882 |     edge_entries = network_payload.get(\"edges\", [])\n883 |     if not isinstance(node_entries, Sequence) or not isinstance(edge_entries, Sequence):\n884 |         raise ValueError(\"network nodes and edges must be sequences\")\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n885 |\n886 |     node_forms: dict[str, str] = {}\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> projection.py:884:26\n    |\n882 |     edge_entries = network_payload.get(\"edges\", [])\n883 |     if not isinstance(node_entries, Sequence) or not isinstance(edge_entries, Sequence):\n884 |         raise ValueError(\"network nodes and edges must be sequences\")\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n885 |\n886 |     node_forms: dict[str, str] = {}\n    |\nhelp: Assign to variable; remove string literal\n\nTRY004 Prefer `TypeError` exception for invalid type\n   --> projection.py:889:13\n    |\n887 |     for entry in node_entries:\n888 |         if not isinstance(entry, Mapping):\n889 |             raise ValueError(\"network nodes must be objects\")\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n890 |         node_id = entry.get(\"id\")\n891 |         node_form = entry.get(\"form\")\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:889:19\n    |\n887 |     for entry in node_entries:\n888 |         if not isinstance(entry, Mapping):\n889 |             raise ValueError(\"network nodes must be objects\")\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n890 |         node_id = entry.get(\"id\")\n891 |         node_form = entry.get(\"form\")\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> projection.py:889:30\n    |\n887 |     for entry in node_entries:\n888 |         if not isinstance(entry, Mapping):\n889 |             raise ValueError(\"network nodes must be objects\")\n    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n890 |         node_id = entry.get(\"id\")\n891 |         node_form = entry.get(\"form\")\n    |\nhelp: Assign to variable; remove string literal\n\nTRY004 Prefer `TypeError` exception for invalid type\n   --> projection.py:893:13\n    |\n891 |         node_form = entry.get(\"form\")\n892 |         if not isinstance(node_id, str) or not isinstance(node_form, str):\n893 |             raise ValueError(\"network node entries must include string id and form\")\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n894 |         node_forms[node_id] = node_form\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:893:19\n    |\n891 |         node_form = entry.get(\"form\")\n892 |         if not isinstance(node_id, str) or not isinstance(node_form, str):\n893 |             raise ValueError(\"network node entries must include string id and form\")\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n894 |         node_forms[node_id] = node_form\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> projection.py:893:30\n    |\n891 |         node_form = entry.get(\"form\")\n892 |         if not isinstance(node_id, str) or not isinstance(node_form, str):\n893 |             raise ValueError(\"network node entries must include string id and form\")\n    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n894 |         node_forms[node_id] = node_form\n    |\nhelp: Assign to variable; remove string literal\n\nTRY004 Prefer `TypeError` exception for invalid type\n   --> projection.py:899:13\n    |\n897 |     for entry in edge_entries:\n898 |         if not isinstance(entry, Mapping):\n899 |             raise ValueError(\"network edges must be objects\")\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n900 |         source = entry.get(\"source\")\n901 |         target = entry.get(\"target\")\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:899:19\n    |\n897 |     for entry in edge_entries:\n898 |         if not isinstance(entry, Mapping):\n899 |             raise ValueError(\"network edges must be objects\")\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n900 |         source = entry.get(\"source\")\n901 |         target = entry.get(\"target\")\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> projection.py:899:30\n    |\n897 |     for entry in edge_entries:\n898 |         if not isinstance(entry, Mapping):\n899 |             raise ValueError(\"network edges must be objects\")\n    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n900 |         source = entry.get(\"source\")\n901 |         target = entry.get(\"target\")\n    |\nhelp: Assign to variable; remove string literal\n\nTRY004 Prefer `TypeError` exception for invalid type\n   --> projection.py:903:13\n    |\n901 |         target = entry.get(\"target\")\n902 |         if not isinstance(source, str) or not isinstance(target, str):\n903 |             raise ValueError(\"network edge entries must include string source and target\")\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n904 |         edge_pairs.append((source, target))\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:903:19\n    |\n901 |         target = entry.get(\"target\")\n902 |         if not isinstance(source, str) or not isinstance(target, str):\n903 |             raise ValueError(\"network edge entries must include string source and target\")\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n904 |         edge_pairs.append((source, target))\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> projection.py:903:30\n    |\n901 |         target = entry.get(\"target\")\n902 |         if not isinstance(source, str) or not isinstance(target, str):\n903 |             raise ValueError(\"network edge entries must include string source and target\")\n    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n904 |         edge_pairs.append((source, target))\n    |\nhelp: Assign to variable; remove string literal\n\nE501 Line too long (90 > 88)\n   --> projection.py:903:89\n    |\n901 |         target = entry.get(\"target\")\n902 |         if not isinstance(source, str) or not isinstance(target, str):\n903 |             raise ValueError(\"network edge entries must include string source and target\")\n    |                                                                                         ^^\n904 |         edge_pairs.append((source, target))\n    |\n\nTC003 Move standard library import `collections.abc.Mapping` into a type-checking block\n --> service.py:7:29\n  |\n5 | import argparse\n6 | import logging\n7 | from collections.abc import Mapping\n  |                             ^^^^^^^\n8 | from typing import Any\n  |\nhelp: Move into type-checking block\n\nTRY003 Avoid specifying long messages outside the exception class\n  --> service.py:21:11\n   |\n19 |     from pydantic import BaseModel, Field\n20 | except ModuleNotFoundError as exc:  # pragma: no cover - service requires FastAPI\n21 |     raise ImportError(\"fastapi and pydantic are required to use the astrocyte service\") from exc\n   |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n22 |\n23 | from .astrocyte_gateway import AstrocyteGateway, AstrocyteLocality\n   |\n\nEM101 Exception must not use a string literal, assign to variable first\n  --> service.py:21:23\n   |\n19 |     from pydantic import BaseModel, Field\n20 | except ModuleNotFoundError as exc:  # pragma: no cover - service requires FastAPI\n21 |     raise ImportError(\"fastapi and pydantic are required to use the astrocyte service\") from exc\n   |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n22 |\n23 | from .astrocyte_gateway import AstrocyteGateway, AstrocyteLocality\n   |\nhelp: Assign to variable; remove string literal\n\nE501 Line too long (96 > 88)\n  --> service.py:21:89\n   |\n19 |     from pydantic import BaseModel, Field\n20 | except ModuleNotFoundError as exc:  # pragma: no cover - service requires FastAPI\n21 |     raise ImportError(\"fastapi and pydantic are required to use the astrocyte service\") from exc\n   |                                                                                         ^^^^^^^^\n22 |\n23 | from .astrocyte_gateway import AstrocyteGateway, AstrocyteLocality\n   |\n\nANN202 Missing return type annotation for private function `_authorizer`\n  --> service.py:45:5\n   |\n45 | def _authorizer(expected_key: str | None):\n   |     ^^^^^^^^^^^\n46 |     def dependency(header: str | None = Header(default=None, alias=_API_KEY_HEADER)) -> None:\n47 |         if expected_key and header != expected_key:\n   |\nhelp: Add return type annotation\n\nE501 Line too long (93 > 88)\n  --> service.py:46:89\n   |\n45 | def _authorizer(expected_key: str | None):\n46 |     def dependency(header: str | None = Header(default=None, alias=_API_KEY_HEADER)) -> None:\n   |                                                                                         ^^^^^\n47 |         if expected_key and header != expected_key:\n48 |             raise HTTPException(status_code=status.HTTP_401_UNAUTHORIZED, detail=\"invalid api key\")\n   |\n\nE501 Line too long (99 > 88)\n  --> service.py:48:89\n   |\n46 |     def dependency(header: str | None = Header(default=None, alias=_API_KEY_HEADER)) -> None:\n47 |         if expected_key and header != expected_key:\n48 |             raise HTTPException(status_code=status.HTTP_401_UNAUTHORIZED, detail=\"invalid api key\")\n   |                                                                                         ^^^^^^^^^^^\n49 |\n50 |     return dependency\n   |\n\nFAST002 FastAPI dependency without `Annotated`\n  --> service.py:73:28\n   |\n72 |     @app.get(\"/gateway\")\n73 |     def gateway_descriptor(_: None = Depends(authorize)) -> CapabilitiesResponse:\n   |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n74 |         return CapabilitiesResponse(\n75 |             gateway=astrocyte.descriptor(),\n   |\nhelp: Replace with `typing.Annotated`\n\nFAST002 FastAPI dependency without `Annotated`\n  --> service.py:80:40\n   |\n79 |     @app.post(\"/invoke\")\n80 |     def invoke(request: InvokeRequest, _: None = Depends(authorize)) -> JSONResponse:\n   |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n81 |         LOGGER.debug(\n82 |             \"invoke operation=%s payload_keys=%s\",\n   |\nhelp: Replace with `typing.Annotated`\n\nS104 Possible binding to all interfaces\n   --> service.py:101:17\n    |\n 99 | def serve(\n100 |     *,\n101 |     host: str = \"0.0.0.0\",\n    |                 ^^^^^^^^^\n102 |     port: int = 8080,\n103 |     api_key: str | None = None,\n    |\n\nPLC0415 `import` should be at the top-level of a file\n   --> service.py:108:9\n    |\n107 |     try:\n108 |         import uvicorn\n    |         ^^^^^^^^^^^^^^\n109 |     except ModuleNotFoundError as exc:  # pragma: no cover - optional dependency\n110 |         raise ImportError(\"uvicorn is required to run the astrocyte service\") from exc\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> service.py:110:15\n    |\n108 |         import uvicorn\n109 |     except ModuleNotFoundError as exc:  # pragma: no cover - optional dependency\n110 |         raise ImportError(\"uvicorn is required to run the astrocyte service\") from exc\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n111 |\n112 |     app = create_app(api_key=api_key)\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> service.py:110:27\n    |\n108 |         import uvicorn\n109 |     except ModuleNotFoundError as exc:  # pragma: no cover - optional dependency\n110 |         raise ImportError(\"uvicorn is required to run the astrocyte service\") from exc\n    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n111 |\n112 |     app = create_app(api_key=api_key)\n    |\nhelp: Assign to variable; remove string literal\n\nE501 Line too long (93 > 88)\n   --> service.py:122:89\n    |\n121 | def _build_cli_parser() -> argparse.ArgumentParser:\n122 |     parser = argparse.ArgumentParser(description=\"Run the astrocyte gateway FastAPI service\")\n    |                                                                                         ^^^^^\n123 |     parser.add_argument(\"--host\", default=\"0.0.0.0\", help=\"Host interface to bind (default: 0.0.0.0)\")\n124 |     parser.add_argument(\"--port\", type=int, default=8080, help=\"Port to bind (default: 8080)\")\n    |\n\nS104 Possible binding to all interfaces\n   --> service.py:123:43\n    |\n121 | def _build_cli_parser() -> argparse.ArgumentParser:\n122 |     parser = argparse.ArgumentParser(description=\"Run the astrocyte gateway FastAPI service\")\n123 |     parser.add_argument(\"--host\", default=\"0.0.0.0\", help=\"Host interface to bind (default: 0.0.0.0)\")\n    |                                           ^^^^^^^^^\n124 |     parser.add_argument(\"--port\", type=int, default=8080, help=\"Port to bind (default: 8080)\")\n125 |     parser.add_argument(\"--api-key\", dest=\"api_key\", help=\"Optional API key required via X-Astrocyte-Key header\")\n    |\n\nE501 Line too long (102 > 88)\n   --> service.py:123:89\n    |\n121 | def _build_cli_parser() -> argparse.ArgumentParser:\n122 |     parser = argparse.ArgumentParser(description=\"Run the astrocyte gateway FastAPI service\")\n123 |     parser.add_argument(\"--host\", default=\"0.0.0.0\", help=\"Host interface to bind (default: 0.0.0.0)\")\n    |                                                                                         ^^^^^^^^^^^^^^\n124 |     parser.add_argument(\"--port\", type=int, default=8080, help=\"Port to bind (default: 8080)\")\n125 |     parser.add_argument(\"--api-key\", dest=\"api_key\", help=\"Optional API key required via X-Astrocyte-Key header\")\n    |\n\nE501 Line too long (94 > 88)\n   --> service.py:124:89\n    |\n122 |     parser = argparse.ArgumentParser(description=\"Run the astrocyte gateway FastAPI service\")\n123 |     parser.add_argument(\"--host\", default=\"0.0.0.0\", help=\"Host interface to bind (default: 0.0.0.0)\")\n124 |     parser.add_argument(\"--port\", type=int, default=8080, help=\"Port to bind (default: 8080)\")\n    |                                                                                         ^^^^^^\n125 |     parser.add_argument(\"--api-key\", dest=\"api_key\", help=\"Optional API key required via X-Astrocyte-Key header\")\n126 |     return parser\n    |\n\nE501 Line too long (113 > 88)\n   --> service.py:125:89\n    |\n123 |     parser.add_argument(\"--host\", default=\"0.0.0.0\", help=\"Host interface to bind (default: 0.0.0.0)\")\n124 |     parser.add_argument(\"--port\", type=int, default=8080, help=\"Port to bind (default: 8080)\")\n125 |     parser.add_argument(\"--api-key\", dest=\"api_key\", help=\"Optional API key required via X-Astrocyte-Key header\")\n    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^\n126 |     return parser\n    |\n\nINP001 File `tests\\test_gateway.py` is part of an implicit namespace package. Add an `__init__.py`.\n--> tests\\test_gateway.py:1:1\n\nTC003 Move standard library import `collections.abc.Mapping` into a type-checking block\n --> tests\\test_gateway.py:3:29\n  |\n1 | from __future__ import annotations\n2 |\n3 | from collections.abc import Mapping\n  |                             ^^^^^^^\n4 | from typing import cast\n  |\nhelp: Move into type-checking block\n\nS101 Use of `assert` detected\n  --> tests\\test_gateway.py:14:5\n   |\n12 |     result = gateway.invoke_json(\"ping\", payload)\n13 |\n14 |     assert result[\"status\"] == \"success\"\n   |     ^^^^^^\n15 |     outputs = cast(\"Mapping[str, object]\", result[\"outputs\"])\n16 |     echo = cast(\"str\", outputs[\"echo\"])\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_gateway.py:17:5\n   |\n15 |     outputs = cast(\"Mapping[str, object]\", result[\"outputs\"])\n16 |     echo = cast(\"str\", outputs[\"echo\"])\n17 |     assert echo == \"hello\"\n   |     ^^^^^^\n18 |     payload_echo = cast(\"Mapping[str, object]\", outputs[\"payload\"])\n19 |     assert payload_echo == payload\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_gateway.py:19:5\n   |\n17 |     assert echo == \"hello\"\n18 |     payload_echo = cast(\"Mapping[str, object]\", outputs[\"payload\"])\n19 |     assert payload_echo == payload\n   |     ^^^^^^\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_gateway.py:27:5\n   |\n25 |     result = gateway.invoke_json(\"emit_string\", payload)\n26 |\n27 |     assert result[\"status\"] == \"success\"\n   |     ^^^^^^\n28 |     outputs = cast(\"Mapping[str, object]\", result[\"outputs\"])\n29 |     strings = cast(\"list[str]\", outputs[\"strings\"])\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_gateway.py:30:5\n   |\n28 |     outputs = cast(\"Mapping[str, object]\", result[\"outputs\"])\n29 |     strings = cast(\"list[str]\", outputs[\"strings\"])\n30 |     assert strings == [\"0:alpha\", \"1:alpha\", \"2:alpha\"]\n   |     ^^^^^^\n   |\n\nE501 Line too long (90 > 88)\n  --> tests\\test_gateway.py:35:89\n   |\n33 | def test_regex_transform_findall_produces_matches() -> None:\n34 |     gateway = AstrocyteGateway(name=\"regex\")\n35 |     payload = {\"text\": \"item-42 and item-93\", \"pattern\": r\"item-(\\d+)\", \"mode\": \"findall\"}\n   |                                                                                         ^^\n36 |     result = gateway.invoke_json(\"regex_transform\", payload)\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_gateway.py:38:5\n   |\n36 |     result = gateway.invoke_json(\"regex_transform\", payload)\n37 |\n38 |     assert result[\"status\"] == \"success\"\n   |     ^^^^^^\n39 |     outputs = cast(\"Mapping[str, object]\", result[\"outputs\"])\n40 |     matches = cast(\"list[object]\", outputs[\"matches\"])\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_gateway.py:41:5\n   |\n39 |     outputs = cast(\"Mapping[str, object]\", result[\"outputs\"])\n40 |     matches = cast(\"list[object]\", outputs[\"matches\"])\n41 |     assert matches == [\"42\", \"93\"]\n   |     ^^^^^^\n42 |     count = cast(\"int\", outputs[\"count\"])\n43 |     assert count == 2\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_gateway.py:43:5\n   |\n41 |     assert matches == [\"42\", \"93\"]\n42 |     count = cast(\"int\", outputs[\"count\"])\n43 |     assert count == 2\n   |     ^^^^^^\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `2` with a constant variable\n  --> tests\\test_gateway.py:43:21\n   |\n41 |     assert matches == [\"42\", \"93\"]\n42 |     count = cast(\"int\", outputs[\"count\"])\n43 |     assert count == 2\n   |                     ^\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_gateway.py:50:5\n   |\n48 |     result = gateway.invoke_json(\"missing\", {})\n49 |\n50 |     assert result[\"status\"] == \"failure\"\n   |     ^^^^^^\n51 |     outputs = cast(\"Mapping[str, object]\", result[\"outputs\"])\n52 |     error_message = cast(\"str\", outputs[\"error\"])\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_gateway.py:53:5\n   |\n51 |     outputs = cast(\"Mapping[str, object]\", result[\"outputs\"])\n52 |     error_message = cast(\"str\", outputs[\"error\"])\n53 |     assert error_message\n   |     ^^^^^^\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_gateway.py:65:5\n   |\n63 |     result = gateway.execute(\"invoke_module\", payload)\n64 |\n65 |     assert result.status == \"success\"\n   |     ^^^^^^\n66 |     outputs = result.outputs\n67 |     assert outputs[\"module\"] == \"x_make_yahw_x.x_cls_make_yahw_x\"\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_gateway.py:67:5\n   |\n65 |     assert result.status == \"success\"\n66 |     outputs = result.outputs\n67 |     assert outputs[\"module\"] == \"x_make_yahw_x.x_cls_make_yahw_x\"\n   |     ^^^^^^\n68 |     assert outputs[\"entrypoint\"] == \"main_json\"\n69 |     result_payload = cast(\"Mapping[str, object]\", outputs[\"result\"])\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_gateway.py:68:5\n   |\n66 |     outputs = result.outputs\n67 |     assert outputs[\"module\"] == \"x_make_yahw_x.x_cls_make_yahw_x\"\n68 |     assert outputs[\"entrypoint\"] == \"main_json\"\n   |     ^^^^^^\n69 |     result_payload = cast(\"Mapping[str, object]\", outputs[\"result\"])\n70 |     assert result_payload[\"status\"] == \"success\"\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_gateway.py:70:5\n   |\n68 |     assert outputs[\"entrypoint\"] == \"main_json\"\n69 |     result_payload = cast(\"Mapping[str, object]\", outputs[\"result\"])\n70 |     assert result_payload[\"status\"] == \"success\"\n   |     ^^^^^^\n   |\n\nINP001 File `tests\\test_projection.py` is part of an implicit namespace package. Add an `__init__.py`.\n--> tests\\test_projection.py:1:1\n\nTC003 Move standard library import `collections.abc.Mapping` into a type-checking block\n --> tests\\test_projection.py:4:29\n  |\n3 | import json\n4 | from collections.abc import Mapping, Sequence\n  |                             ^^^^^^^\n5 | from pathlib import Path\n6 | from typing import Any, cast\n  |\nhelp: Move into type-checking block\n\nTC003 Move standard library import `collections.abc.Sequence` into a type-checking block\n --> tests\\test_projection.py:4:38\n  |\n3 | import json\n4 | from collections.abc import Mapping, Sequence\n  |                                      ^^^^^^^^\n5 | from pathlib import Path\n6 | from typing import Any, cast\n  |\nhelp: Move into type-checking block\n\nTC003 Move standard library import `pathlib.Path` into a type-checking block\n --> tests\\test_projection.py:5:21\n  |\n3 | import json\n4 | from collections.abc import Mapping, Sequence\n5 | from pathlib import Path\n  |                     ^^^^\n6 | from typing import Any, cast\n  |\nhelp: Move into type-checking block\n\nE402 Module level import not at top of file\n  --> tests\\test_projection.py:13:1\n   |\n11 |   jsonschema_validate = jsonschema.validate\n12 |\n13 | / from x_make_astrocyte_gateway_x import (\n14 | |     ASTRAL_SCHEMA_VERSION,\n15 | |     ExecutionPolicy,\n16 | |     ProjectionDataBundle,\n17 | |     ProjectionEdge,\n18 | |     ProjectionNetwork,\n19 | |     ProjectionNode,\n20 | |     ProjectionOrigin,\n21 | |     ProjectionResources,\n22 | |     ProjectionSnapshot,\n23 | |     ProjectionTelemetry,\n24 | |     canonicalize_form,\n25 | |     write_snapshot,\n26 | | )\n   | |_^\n27 |   from x_make_graphviz_x.json_contracts import INPUT_SCHEMA as GRAPHVIZ_INPUT_SCHEMA\n28 |   from x_make_markdown_x.json_contracts import INPUT_SCHEMA as MARKDOWN_INPUT_SCHEMA\n   |\n\nE402 Module level import not at top of file\n  --> tests\\test_projection.py:27:1\n   |\n25 |     write_snapshot,\n26 | )\n27 | from x_make_graphviz_x.json_contracts import INPUT_SCHEMA as GRAPHVIZ_INPUT_SCHEMA\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n28 | from x_make_markdown_x.json_contracts import INPUT_SCHEMA as MARKDOWN_INPUT_SCHEMA\n   |\n\nE402 Module level import not at top of file\n  --> tests\\test_projection.py:28:1\n   |\n26 | )\n27 | from x_make_graphviz_x.json_contracts import INPUT_SCHEMA as GRAPHVIZ_INPUT_SCHEMA\n28 | from x_make_markdown_x.json_contracts import INPUT_SCHEMA as MARKDOWN_INPUT_SCHEMA\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n   |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:122:5\n    |\n120 |     )\n121 |\n122 |     assert node_gateway.form == \"Form_1\"\n    |     ^^^^^^\n123 |     assert node_monad.form == \"Form_2\"\n124 |     assert node_wormhole.form == \"Form_3\"\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:123:5\n    |\n122 |     assert node_gateway.form == \"Form_1\"\n123 |     assert node_monad.form == \"Form_2\"\n    |     ^^^^^^\n124 |     assert node_wormhole.form == \"Form_3\"\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:124:5\n    |\n122 |     assert node_gateway.form == \"Form_1\"\n123 |     assert node_monad.form == \"Form_2\"\n124 |     assert node_wormhole.form == \"Form_3\"\n    |     ^^^^^^\n    |\n\nPT011 `pytest.raises(ValueError)` is too broad, set the `match` parameter or use a more specific exception\n   --> tests\\test_projection.py:128:24\n    |\n127 | def test_canonicalize_form_rejects_unknown_alias() -> None:\n128 |     with pytest.raises(ValueError):\n    |                        ^^^^^^^^^^\n129 |         canonicalize_form(\"astral_portal\")\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:136:5\n    |\n134 |     payload = cast(\"dict[str, object]\", snapshot.to_dict())\n135 |\n136 |     assert cast(\"str\", payload[\"schema_version\"]) == ASTRAL_SCHEMA_VERSION\n    |     ^^^^^^\n137 |     assert cast(\"str\", payload[\"id\"]) == \"fibonacci_swarm\"\n138 |     origin_payload = cast(\"Mapping[str, Any]\", payload[\"origin\"])\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:137:5\n    |\n136 |     assert cast(\"str\", payload[\"schema_version\"]) == ASTRAL_SCHEMA_VERSION\n137 |     assert cast(\"str\", payload[\"id\"]) == \"fibonacci_swarm\"\n    |     ^^^^^^\n138 |     origin_payload = cast(\"Mapping[str, Any]\", payload[\"origin\"])\n139 |     assert origin_payload[\"workspace_root\"] == \"C:/x_runner_x\"\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:139:5\n    |\n137 |     assert cast(\"str\", payload[\"id\"]) == \"fibonacci_swarm\"\n138 |     origin_payload = cast(\"Mapping[str, Any]\", payload[\"origin\"])\n139 |     assert origin_payload[\"workspace_root\"] == \"C:/x_runner_x\"\n    |     ^^^^^^\n140 |     network_payload = cast(\"Mapping[str, Any]\", payload[\"network\"])\n141 |     nodes_field = network_payload[\"nodes\"]\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:145:5\n    |\n143 |     nodes_payload = list(nodes_raw)\n144 |     node_ids = {node[\"id\"] for node in nodes_payload}\n145 |     assert node_ids == {\"seed\", \"accumulator\", \"collector\"}\n    |     ^^^^^^\n146 |     form_lookup = {node[\"id\"]: node[\"form\"] for node in nodes_payload}\n147 |     assert form_lookup == {\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:147:5\n    |\n145 |     assert node_ids == {\"seed\", \"accumulator\", \"collector\"}\n146 |     form_lookup = {node[\"id\"]: node[\"form\"] for node in nodes_payload}\n147 |     assert form_lookup == {\n    |     ^^^^^^\n148 |         \"seed\": \"Form_1\",\n149 |         \"accumulator\": \"Form_2\",\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:153:5\n    |\n151 |     }\n152 |     resources_payload = cast(\"Mapping[str, Any]\", payload[\"resources\"])\n153 |     assert resources_payload[\"python_requirements\"] == [\"numpy==2.1.0\"]\n    |     ^^^^^^\n154 |     bundles_field = resources_payload[\"data_bundles\"]\n155 |     bundles_raw = cast(\"Sequence[Mapping[str, Any]]\", bundles_field)\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:157:5\n    |\n155 |     bundles_raw = cast(\"Sequence[Mapping[str, Any]]\", bundles_field)\n156 |     bundles = list(bundles_raw)\n157 |     assert bundles[0][\"encrypted\"] is True\n    |     ^^^^^^\n158 |     telemetry_payload = cast(\"Mapping[str, Any]\", payload[\"telemetry\"])\n159 |     assert telemetry_payload[\"log_level\"] == \"INFO\"\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:159:5\n    |\n157 |     assert bundles[0][\"encrypted\"] is True\n158 |     telemetry_payload = cast(\"Mapping[str, Any]\", payload[\"telemetry\"])\n159 |     assert telemetry_payload[\"log_level\"] == \"INFO\"\n    |     ^^^^^^\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:168:5\n    |\n166 |     write_snapshot(snapshot, output_path)\n167 |\n168 |     assert output_path.exists()\n    |     ^^^^^^\n169 |     data = json.loads(output_path.read_text(encoding=\"utf-8\"))\n170 |     assert data[\"schema_version\"] == ASTRAL_SCHEMA_VERSION\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:170:5\n    |\n168 |     assert output_path.exists()\n169 |     data = json.loads(output_path.read_text(encoding=\"utf-8\"))\n170 |     assert data[\"schema_version\"] == ASTRAL_SCHEMA_VERSION\n    |     ^^^^^^\n    |\n\nPT011 `pytest.raises(ValueError)` is too broad, set the `match` parameter or use a more specific exception\n   --> tests\\test_projection.py:180:24\n    |\n178 |         module=\"mod\",\n179 |     )\n180 |     with pytest.raises(ValueError):\n    |                        ^^^^^^^^^^\n181 |         ProjectionNetwork(nodes=(node,), entrypoints=(\"missing\",))\n    |\n\nPT011 `pytest.raises(ValueError)` is too broad, set the `match` parameter or use a more specific exception\n   --> tests\\test_projection.py:219:24\n    |\n217 |         module=\"astro.finish\",\n218 |     )\n219 |     with pytest.raises(ValueError):\n    |                        ^^^^^^^^^^\n220 |         ProjectionNetwork(\n221 |             nodes=(begin, end),\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:270:5\n    |\n269 |     parameters = cast(\"Mapping[str, Any]\", graph_payload[\"parameters\"])\n270 |     assert graph_payload[\"command\"] == \"x_make_graphviz_x\"\n    |     ^^^^^^\n271 |     assert parameters[\"directed\"] is True\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:271:5\n    |\n269 |     parameters = cast(\"Mapping[str, Any]\", graph_payload[\"parameters\"])\n270 |     assert graph_payload[\"command\"] == \"x_make_graphviz_x\"\n271 |     assert parameters[\"directed\"] is True\n    |     ^^^^^^\n272 |\n273 |     nodes = cast(\"Sequence[Mapping[str, Any]]\", parameters[\"nodes\"])\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:275:5\n    |\n273 |     nodes = cast(\"Sequence[Mapping[str, Any]]\", parameters[\"nodes\"])\n274 |     node_index = {node[\"id\"]: node for node in nodes}\n275 |     assert set(node_index) == {\"seed\", \"accumulator\", \"collector\"}\n    |     ^^^^^^\n276 |     accumulator = node_index[\"accumulator\"]\n277 |     assert accumulator[\"label\"].startswith(\"Form_2\")\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:277:5\n    |\n275 |     assert set(node_index) == {\"seed\", \"accumulator\", \"collector\"}\n276 |     accumulator = node_index[\"accumulator\"]\n277 |     assert accumulator[\"label\"].startswith(\"Form_2\")\n    |     ^^^^^^\n278 |     acc_attrs = cast(\"Mapping[str, Any]\", accumulator[\"attributes\"])\n279 |     assert acc_attrs[\"form\"] == \"Form_2\"\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:279:5\n    |\n277 |     assert accumulator[\"label\"].startswith(\"Form_2\")\n278 |     acc_attrs = cast(\"Mapping[str, Any]\", accumulator[\"attributes\"])\n279 |     assert acc_attrs[\"form\"] == \"Form_2\"\n    |     ^^^^^^\n280 |     assert acc_attrs[\"operation\"] == \"accumulate\"\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:280:5\n    |\n278 |     acc_attrs = cast(\"Mapping[str, Any]\", accumulator[\"attributes\"])\n279 |     assert acc_attrs[\"form\"] == \"Form_2\"\n280 |     assert acc_attrs[\"operation\"] == \"accumulate\"\n    |     ^^^^^^\n281 |\n282 |     edges = cast(\"Sequence[Mapping[str, Any]]\", parameters[\"edges\"])\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:285:5\n    |\n283 |     transition = edges[0]\n284 |     edge_attrs = cast(\"Mapping[str, Any]\", transition[\"attributes\"])\n285 |     assert edge_attrs[\"channel\"] == \"sequence\"\n    |     ^^^^^^\n286 |     assert edge_attrs[\"source_form\"] == \"Form_1\"\n287 |     assert edge_attrs[\"target_form\"] == \"Form_2\"\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:286:5\n    |\n284 |     edge_attrs = cast(\"Mapping[str, Any]\", transition[\"attributes\"])\n285 |     assert edge_attrs[\"channel\"] == \"sequence\"\n286 |     assert edge_attrs[\"source_form\"] == \"Form_1\"\n    |     ^^^^^^\n287 |     assert edge_attrs[\"target_form\"] == \"Form_2\"\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:287:5\n    |\n285 |     assert edge_attrs[\"channel\"] == \"sequence\"\n286 |     assert edge_attrs[\"source_form\"] == \"Form_1\"\n287 |     assert edge_attrs[\"target_form\"] == \"Form_2\"\n    |     ^^^^^^\n288 |\n289 |     graph_attrs = cast(\"Mapping[str, Any]\", parameters[\"graph_attributes\"])\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:290:5\n    |\n289 |     graph_attrs = cast(\"Mapping[str, Any]\", parameters[\"graph_attributes\"])\n290 |     assert \"entrypoints\" in graph_attrs\n    |     ^^^^^^\n291 |     assert \"sinks\" in graph_attrs\n292 |     status_summary = cast(\"Mapping[str, Any]\", graph_attrs[\"status_summary\"])\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:291:5\n    |\n289 |     graph_attrs = cast(\"Mapping[str, Any]\", parameters[\"graph_attributes\"])\n290 |     assert \"entrypoints\" in graph_attrs\n291 |     assert \"sinks\" in graph_attrs\n    |     ^^^^^^\n292 |     status_summary = cast(\"Mapping[str, Any]\", graph_attrs[\"status_summary\"])\n293 |     assert status_summary[\"has_all_forms\"] is True\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:293:5\n    |\n291 |     assert \"sinks\" in graph_attrs\n292 |     status_summary = cast(\"Mapping[str, Any]\", graph_attrs[\"status_summary\"])\n293 |     assert status_summary[\"has_all_forms\"] is True\n    |     ^^^^^^\n294 |     assert status_summary[\"execution_policy_defined\"] is True\n295 |     dimensions = cast(\"Mapping[str, Any]\", graph_attrs[\"dimensions\"])\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:294:5\n    |\n292 |     status_summary = cast(\"Mapping[str, Any]\", graph_attrs[\"status_summary\"])\n293 |     assert status_summary[\"has_all_forms\"] is True\n294 |     assert status_summary[\"execution_policy_defined\"] is True\n    |     ^^^^^^\n295 |     dimensions = cast(\"Mapping[str, Any]\", graph_attrs[\"dimensions\"])\n296 |     assert dimensions[\"node_count\"] == 3\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:296:5\n    |\n294 |     assert status_summary[\"execution_policy_defined\"] is True\n295 |     dimensions = cast(\"Mapping[str, Any]\", graph_attrs[\"dimensions\"])\n296 |     assert dimensions[\"node_count\"] == 3\n    |     ^^^^^^\n297 |     assert dimensions[\"edge_count\"] == 2\n    |\n\nPLR2004 Magic value used in comparison, consider replacing `3` with a constant variable\n   --> tests\\test_projection.py:296:40\n    |\n294 |     assert status_summary[\"execution_policy_defined\"] is True\n295 |     dimensions = cast(\"Mapping[str, Any]\", graph_attrs[\"dimensions\"])\n296 |     assert dimensions[\"node_count\"] == 3\n    |                                        ^\n297 |     assert dimensions[\"edge_count\"] == 2\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:297:5\n    |\n295 |     dimensions = cast(\"Mapping[str, Any]\", graph_attrs[\"dimensions\"])\n296 |     assert dimensions[\"node_count\"] == 3\n297 |     assert dimensions[\"edge_count\"] == 2\n    |     ^^^^^^\n    |\n\nPLR2004 Magic value used in comparison, consider replacing `2` with a constant variable\n   --> tests\\test_projection.py:297:40\n    |\n295 |     dimensions = cast(\"Mapping[str, Any]\", graph_attrs[\"dimensions\"])\n296 |     assert dimensions[\"node_count\"] == 3\n297 |     assert dimensions[\"edge_count\"] == 2\n    |                                        ^\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:313:5\n    |\n311 |     blocks = cast(\"Sequence[Mapping[str, Any]]\", document[\"blocks\"])\n312 |     headers = [block for block in blocks if block.get(\"kind\") == \"header\"]\n313 |     assert any(block.get(\"text\") == \"Nodes\" for block in headers)\n    |     ^^^^^^\n314 |     tables = [block for block in blocks if block.get(\"kind\") == \"table\"]\n315 |     assert tables, \"markdown document must include nodes table\"\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:315:5\n    |\n313 |     assert any(block.get(\"text\") == \"Nodes\" for block in headers)\n314 |     tables = [block for block in blocks if block.get(\"kind\") == \"table\"]\n315 |     assert tables, \"markdown document must include nodes table\"\n    |     ^^^^^^\n316 |     table = tables[0]\n317 |     rows = cast(\"Sequence[Sequence[str]]\", table[\"rows\"])\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:318:5\n    |\n316 |     table = tables[0]\n317 |     rows = cast(\"Sequence[Sequence[str]]\", table[\"rows\"])\n318 |     assert any(row[0] == \"accumulator\" for row in rows)\n    |     ^^^^^^\n319 |     first_paragraph = blocks[1]\n320 |     assert \"Missing forms: none\" in first_paragraph[\"text\"]\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:320:5\n    |\n318 |     assert any(row[0] == \"accumulator\" for row in rows)\n319 |     first_paragraph = blocks[1]\n320 |     assert \"Missing forms: none\" in first_paragraph[\"text\"]\n    |     ^^^^^^\n    |\n\nINP001 File `tests\\test_projection_validation.py` is part of an implicit namespace package. Add an `__init__.py`.\n--> tests\\test_projection_validation.py:1:1\n\nTC003 Move standard library import `collections.abc.Sequence` into a type-checking block\n --> tests\\test_projection_validation.py:3:29\n  |\n1 | from __future__ import annotations\n2 |\n3 | from collections.abc import Sequence\n  |                             ^^^^^^^^\n4 | from datetime import UTC, datetime\n5 | from typing import Any, cast\n  |\nhelp: Move into type-checking block\n\nRET504 Unnecessary assignment to `snapshot` before `return` statement\n  --> tests\\test_projection_validation.py:86:12\n   |\n84 |         description=\"Sample snapshot for validation tests\",\n85 |     )\n86 |     return snapshot\n   |            ^^^^^^^^\n   |\nhelp: Remove unnecessary assignment\n\nPT011 `pytest.raises(ValueError)` is too broad, set the `match` parameter or use a more specific exception\n   --> tests\\test_projection_validation.py:135:24\n    |\n133 |     network_payload[\"edges\"] = edges  # type: ignore[index]\n134 |\n135 |     with pytest.raises(ValueError):\n    |                        ^^^^^^^^^^\n136 |         validate_snapshot_payload(payload)\n    |\n\nINP001 File `tests\\test_service.py` is part of an implicit namespace package. Add an `__init__.py`.\n--> tests\\test_service.py:1:1\n\nTC003 Move standard library import `collections.abc.Mapping` into a type-checking block\n --> tests\\test_service.py:3:29\n  |\n1 | from __future__ import annotations\n2 |\n3 | from collections.abc import Mapping\n  |                             ^^^^^^^\n4 | from pathlib import Path\n5 | from typing import TYPE_CHECKING, Any, cast\n  |\nhelp: Move into type-checking block\n\nPGH003 Use specific rule codes when ignoring type issues\n  --> tests\\test_service.py:17:44\n   |\n15 | httpx = cast(\"httpx_module\", pytest.importorskip(\"httpx\"))\n16 |\n17 | from fastapi.testclient import TestClient  # type: ignore  # noqa: E402\n   |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n18 |\n19 | from interface.gui.environment_studio.services import EnvironmentService  # noqa: E402\n   |\n\nANN401 Dynamically typed expressions (typing.Any) are disallowed in `response`\n  --> tests\\test_service.py:23:34\n   |\n22 | class _ResponseAdapter:\n23 |     def __init__(self, response: Any) -> None:\n   |                                  ^^^\n24 |         self._response = response\n25 |         self.status_code = response.status_code\n   |\n\nANN401 Dynamically typed expressions (typing.Any) are disallowed in `json`\n  --> tests\\test_service.py:27:23\n   |\n25 |         self.status_code = response.status_code\n26 |\n27 |     def json(self) -> Any:\n   |                       ^^^\n28 |         return self._response.json()\n   |\n\nE402 Module level import not at top of file\n  --> tests\\test_service.py:47:1\n   |\n45 |       write_snapshot,\n46 |   )\n47 | / from x_make_astrocyte_gateway_x.tests.test_projection import (\n48 | |     _build_sample_snapshot,\n49 | | )\n   | |_^\n   |\n\nANN001 Missing type annotation for function argument `gateway_app`\n  --> tests\\test_service.py:58:34\n   |\n58 | def test_service_invoke_endpoint(gateway_app) -> None:\n   |                                  ^^^^^^^^^^^\n59 |     client = TestClient(gateway_app)  # type: ignore[arg-type]\n60 |     response = client.post(\"/invoke\", json={\"operation\": \"ping\", \"payload\": {\"message\": \"hi\"}})\n   |\n\nE501 Line too long (95 > 88)\n  --> tests\\test_service.py:60:89\n   |\n58 | def test_service_invoke_endpoint(gateway_app) -> None:\n59 |     client = TestClient(gateway_app)  # type: ignore[arg-type]\n60 |     response = client.post(\"/invoke\", json={\"operation\": \"ping\", \"payload\": {\"message\": \"hi\"}})\n   |                                                                                         ^^^^^^^\n61 |     assert response.status_code == 200\n62 |     data = cast(\"Mapping[str, Any]\", response.json())\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_service.py:61:5\n   |\n59 |     client = TestClient(gateway_app)  # type: ignore[arg-type]\n60 |     response = client.post(\"/invoke\", json={\"operation\": \"ping\", \"payload\": {\"message\": \"hi\"}})\n61 |     assert response.status_code == 200\n   |     ^^^^^^\n62 |     data = cast(\"Mapping[str, Any]\", response.json())\n63 |     assert data[\"status\"] == \"success\"\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `200` with a constant variable\n  --> tests\\test_service.py:61:36\n   |\n59 |     client = TestClient(gateway_app)  # type: ignore[arg-type]\n60 |     response = client.post(\"/invoke\", json={\"operation\": \"ping\", \"payload\": {\"message\": \"hi\"}})\n61 |     assert response.status_code == 200\n   |                                    ^^^\n62 |     data = cast(\"Mapping[str, Any]\", response.json())\n63 |     assert data[\"status\"] == \"success\"\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_service.py:63:5\n   |\n61 |     assert response.status_code == 200\n62 |     data = cast(\"Mapping[str, Any]\", response.json())\n63 |     assert data[\"status\"] == \"success\"\n   |     ^^^^^^\n64 |     outputs = cast(\"Mapping[str, Any]\", data[\"outputs\"])\n65 |     assert outputs[\"echo\"] == \"hi\"\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_service.py:65:5\n   |\n63 |     assert data[\"status\"] == \"success\"\n64 |     outputs = cast(\"Mapping[str, Any]\", data[\"outputs\"])\n65 |     assert outputs[\"echo\"] == \"hi\"\n   |     ^^^^^^\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_service.py:72:5\n   |\n70 |     client = TestClient(secured_app)  # type: ignore[arg-type]\n71 |     response = client.post(\"/invoke\", json={\"operation\": \"ping\"})\n72 |     assert response.status_code == 401\n   |     ^^^^^^\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `401` with a constant variable\n  --> tests\\test_service.py:72:36\n   |\n70 |     client = TestClient(secured_app)  # type: ignore[arg-type]\n71 |     response = client.post(\"/invoke\", json={\"operation\": \"ping\"})\n72 |     assert response.status_code == 401\n   |                                    ^^^\n   |\n\nANN001 Missing type annotation for function argument `app`\n  --> tests\\test_service.py:76:24\n   |\n75 | class _HttpxTestClientAdapter:\n76 |     def __init__(self, app) -> None:\n   |                        ^^^\n77 |         self._client = TestClient(app)  # type: ignore[arg-type]\n   |\n\nE501 Line too long (91 > 88)\n  --> tests\\test_service.py:79:89\n   |\n77 |         self._client = TestClient(app)  # type: ignore[arg-type]\n78 |\n79 |     def get(self, url: str, *, headers: Mapping[str, str] | None = None) -> _HttpxResponse:  # type: ignore[override]\n   |                                                                                         ^^^\n80 |         response = self._client.get(url, headers=headers)  # type: ignore[call-arg]\n81 |         return _ResponseAdapter(response)\n   |\n\nANN001 Missing type annotation for function argument `gateway_app`\n  --> tests\\test_service.py:97:50\n   |\n97 | def test_remote_gateway_executes_against_service(gateway_app) -> None:\n   |                                                  ^^^^^^^^^^^\n98 |     http_client = _HttpxTestClientAdapter(gateway_app)\n99 |     with RemoteAstrocyteGateway(base_url=\"http://testserver\", client=http_client) as remote:\n   |\n\nE501 Line too long (92 > 88)\n   --> tests\\test_service.py:99:89\n    |\n 97 | def test_remote_gateway_executes_against_service(gateway_app) -> None:\n 98 |     http_client = _HttpxTestClientAdapter(gateway_app)\n 99 |     with RemoteAstrocyteGateway(base_url=\"http://testserver\", client=http_client) as remote:\n    |                                                                                         ^^^^\n100 |         result = remote.execute(\"ping\", {\"message\": \"remote\"})\n101 |         assert result.status == \"success\"\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_service.py:101:9\n    |\n 99 |     with RemoteAstrocyteGateway(base_url=\"http://testserver\", client=http_client) as remote:\n100 |         result = remote.execute(\"ping\", {\"message\": \"remote\"})\n101 |         assert result.status == \"success\"\n    |         ^^^^^^\n102 |         assert result.outputs[\"echo\"] == \"remote\"\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_service.py:102:9\n    |\n100 |         result = remote.execute(\"ping\", {\"message\": \"remote\"})\n101 |         assert result.status == \"success\"\n102 |         assert result.outputs[\"echo\"] == \"remote\"\n    |         ^^^^^^\n    |\n\nE501 Line too long (92 > 88)\n   --> tests\\test_service.py:113:89\n    |\n113 | def test_environment_service_render_projection_graphviz(sample_snapshot_file: Path) -> None:\n    |                                                                                         ^^^^\n114 |     service = EnvironmentService()\n115 |     payload = service.render_projection_graphviz(sample_snapshot_file)\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_service.py:118:5\n    |\n117 |     result = cast(\"Mapping[str, Any]\", payload[\"result\"])\n118 |     assert result.get(\"status\") == \"success\"\n    |     ^^^^^^\n119 |     assert payload[\"dot_source\"]\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_service.py:119:5\n    |\n117 |     result = cast(\"Mapping[str, Any]\", payload[\"result\"])\n118 |     assert result.get(\"status\") == \"success\"\n119 |     assert payload[\"dot_source\"]\n    |     ^^^^^^\n120 |\n121 |     status_summary = cast(\"Mapping[str, Any]\", payload[\"status_summary\"])\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_service.py:122:5\n    |\n121 |     status_summary = cast(\"Mapping[str, Any]\", payload[\"status_summary\"])\n122 |     assert status_summary.get(\"has_all_forms\") is True\n    |     ^^^^^^\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_service.py:134:5\n    |\n133 |     result = cast(\"Mapping[str, Any]\", payload[\"result\"])\n134 |     assert result.get(\"status\") == \"success\"\n    |     ^^^^^^\n135 |     generated_path = Path(str(payload[\"output_path\"]))\n136 |     assert generated_path.exists()\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_service.py:136:5\n    |\n134 |     assert result.get(\"status\") == \"success\"\n135 |     generated_path = Path(str(payload[\"output_path\"]))\n136 |     assert generated_path.exists()\n    |     ^^^^^^\n    |\n\nINP001 File `tools\\ui_projection_smoke.py` is part of an implicit namespace package. Add an `__init__.py`.\n--> tools\\ui_projection_smoke.py:1:1\n\nTC003 Move standard library import `collections.abc.Mapping` into a type-checking block\n  --> tools\\ui_projection_smoke.py:13:29\n   |\n11 | import json\n12 | import tempfile\n13 | from collections.abc import Mapping\n   |                             ^^^^^^^\n14 | from pathlib import Path\n15 | from typing import Any\n   |\nhelp: Move into type-checking block\n\nE501 Line too long (100 > 88)\n  --> x_cls_make_astrocyte_gateway_x.py:37:89\n   |\n36 | def main() -> dict[str, object]:\n37 |     return main_json({\"command\": \"x_make_astrocyte_gateway_x\", \"parameters\": {\"operation\": \"ping\"}})\n   |                                                                                         ^^^^^^^^^^^^\n   |\n\nE501 Line too long (93 > 88)\n  --> x_cls_make_astrocyte_gateway_x.py:91:89\n   |\n89 |     gateway = AstrocyteGateway(name=name, role=role, locality=locality)\n90 |\n91 |     result_payload = gateway.invoke_json(operation, payload_mapping, options=options_mapping)\n   |                                                                                         ^^^^^\n92 |\n93 |     status_obj = result_payload.get(\"status\")\n   |\n\nE501 Line too long (100 > 88)\n   --> x_cls_make_astrocyte_gateway_x.py:115:89\n    |\n114 |     messages_obj = result_payload.get(\"messages\")\n115 |     if isinstance(messages_obj, Sequence) and not isinstance(messages_obj, (str, bytes, bytearray)):\n    |                                                                                         ^^^^^^^^^^^^\n116 |         success_payload[\"messages\"] = [str(entry) for entry in messages_obj]\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> x_cls_make_astrocyte_gateway_x.py:176:19\n    |\n174 |         loaded: object = json.load(handle)\n175 |         if not isinstance(loaded, Mapping):\n176 |             raise TypeError(\"JSON payload must be an object\")\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n177 |         return cast(\"Mapping[str, object]\", loaded)\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> x_cls_make_astrocyte_gateway_x.py:176:29\n    |\n174 |         loaded: object = json.load(handle)\n175 |         if not isinstance(loaded, Mapping):\n176 |             raise TypeError(\"JSON payload must be an object\")\n    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n177 |         return cast(\"Mapping[str, object]\", loaded)\n    |\nhelp: Assign to variable; remove string literal\n\nE501 Line too long (90 > 88)\n   --> x_cls_make_astrocyte_gateway_x.py:186:89\n    |\n185 | def _run_json_cli(args: Sequence[str]) -> None:\n186 |     parser = argparse.ArgumentParser(description=\"x_make_astrocyte_gateway_x JSON runner\")\n    |                                                                                         ^^\n187 |     parser.add_argument(\"--json\", action=\"store_true\", help=\"Read JSON payload from stdin\")\n188 |     parser.add_argument(\"--json-file\", type=str, help=\"Path to JSON payload file\")\n    |\n\nE501 Line too long (91 > 88)\n   --> x_cls_make_astrocyte_gateway_x.py:187:89\n    |\n185 | def _run_json_cli(args: Sequence[str]) -> None:\n186 |     parser = argparse.ArgumentParser(description=\"x_make_astrocyte_gateway_x JSON runner\")\n187 |     parser.add_argument(\"--json\", action=\"store_true\", help=\"Read JSON payload from stdin\")\n    |                                                                                         ^^^\n188 |     parser.add_argument(\"--json-file\", type=str, help=\"Path to JSON payload file\")\n189 |     parsed = parser.parse_args(args)\n    |\n\nFound 269 errors.\nNo fixes available (65 hidden fixes can be enabled with the `--unsafe-fixes` option).\n",
                "tool": "ruff_check",
                "tool_module": "ruff",
                "tool_version": "ruff 0.14.4"
            },
            "exit": "exit 1",
            "message": "ruff_check failed for x_make_astrocyte_gateway_x (exit 1)\ncwd: C:\\x_runner_x\\x_make_astrocyte_gateway_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311\nstarted_at: 2025-11-10T06:12:36.296057+00:00\nduration: 0.194s\ntool_version: ruff 0.14.4\nstdout:\nANN202 Missing return type annotation for private function `_fastapi_missing`\n  --> __init__.py:42:9\n   |\n40 |     app = None  # type: ignore[assignment]\n41 |\n\u2026\nstderr:\n<empty>",
            "repo": "x_make_astrocyte_gateway_x",
            "repo_path": "C:\\x_runner_x\\x_make_astrocyte_gateway_x",
            "stderr_preview": null,
            "stdout_preview": "ANN202 Missing return type annotation for private function `_fastapi_missing`\n  --> __init__.py:42:9\n   |\n40 |     app = None  # type: ignore[assignment]\n41 |\n\u2026",
            "suggested_action": "Investigate",
            "summary": "ruff_check failed for x_make_astrocyte_gateway_x (exit 1) cwd: C:\\x_runner_x\\x_make_astrocyte_gateway_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --\u2026",
            "tool": "ruff_check",
            "tool_version": "ruff 0.14.4"
        },
        {
            "captured_at": "2025-11-10T06:12:33.195783+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "ruff",
                    "check",
                    ".",
                    "--fix",
                    "--select",
                    "ALL",
                    "--ignore",
                    "D,COM812,ISC001,T20",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
                "cwd": "C:\\x_runner_x\\x_make_astrocyte_gateway_x",
                "duration_seconds": 0.24148879997665063,
                "ended_at": "2025-11-10T06:12:33.195783+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "astrocyte_gateway.py",
                    "client.py",
                    "json_contracts.py",
                    "projection.py",
                    "service.py",
                    "tests/test_gateway.py",
                    "tests/test_projection.py",
                    "tests/test_projection_validation.py",
                    "tests/test_service.py",
                    "tools/ui_projection_smoke.py",
                    "x_cls_make_astrocyte_gateway_x.py"
                ],
                "repo": "x_make_astrocyte_gateway_x",
                "repo_hash": "0187073162d89bee242fa03bf6399239bec10b8a3c1d1c5025846aa4883a2eb9",
                "repo_path": "C:\\x_runner_x\\x_make_astrocyte_gateway_x",
                "started_at": "2025-11-10T06:12:32.954295+00:00",
                "stderr": "",
                "stdout": "ANN202 Missing return type annotation for private function `_fastapi_missing`\n  --> __init__.py:42:9\n   |\n40 |     app = None  # type: ignore[assignment]\n41 |\n42 |     def _fastapi_missing(*args, **kwargs):  # type: ignore[override]\n   |         ^^^^^^^^^^^^^^^^\n43 |         raise ImportError(\"fastapi is required to use the astrocyte gateway service\")\n   |\nhelp: Add return type annotation: `Never`\n\nANN002 Missing type annotation for `*args`\n  --> __init__.py:42:26\n   |\n40 |     app = None  # type: ignore[assignment]\n41 |\n42 |     def _fastapi_missing(*args, **kwargs):  # type: ignore[override]\n   |                          ^^^^^\n43 |         raise ImportError(\"fastapi is required to use the astrocyte gateway service\")\n   |\n\nARG001 Unused function argument: `args`\n  --> __init__.py:42:27\n   |\n40 |     app = None  # type: ignore[assignment]\n41 |\n42 |     def _fastapi_missing(*args, **kwargs):  # type: ignore[override]\n   |                           ^^^^\n43 |         raise ImportError(\"fastapi is required to use the astrocyte gateway service\")\n   |\n\nANN003 Missing type annotation for `**kwargs`\n  --> __init__.py:42:33\n   |\n40 |     app = None  # type: ignore[assignment]\n41 |\n42 |     def _fastapi_missing(*args, **kwargs):  # type: ignore[override]\n   |                                 ^^^^^^^^\n43 |         raise ImportError(\"fastapi is required to use the astrocyte gateway service\")\n   |\n\nARG001 Unused function argument: `kwargs`\n  --> __init__.py:42:35\n   |\n40 |     app = None  # type: ignore[assignment]\n41 |\n42 |     def _fastapi_missing(*args, **kwargs):  # type: ignore[override]\n   |                                   ^^^^^^\n43 |         raise ImportError(\"fastapi is required to use the astrocyte gateway service\")\n   |\n\nTRY003 Avoid specifying long messages outside the exception class\n  --> __init__.py:43:15\n   |\n42 |     def _fastapi_missing(*args, **kwargs):  # type: ignore[override]\n43 |         raise ImportError(\"fastapi is required to use the astrocyte gateway service\")\n   |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n44 |\n45 |     create_app = serve = _fastapi_missing  # type: ignore[assignment]\n   |\n\nEM101 Exception must not use a string literal, assign to variable first\n  --> __init__.py:43:27\n   |\n42 |     def _fastapi_missing(*args, **kwargs):  # type: ignore[override]\n43 |         raise ImportError(\"fastapi is required to use the astrocyte gateway service\")\n   |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n44 |\n45 |     create_app = serve = _fastapi_missing  # type: ignore[assignment]\n   |\nhelp: Assign to variable; remove string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> astrocyte_gateway.py:153:19\n    |\n151 |         key = operation.strip().lower()\n152 |         if not key:\n153 |             raise ValueError(\"operation name must be non-empty\")\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n154 |         if not callable(handler):\n155 |             raise TypeError(\"operation handler must be callable\")\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> astrocyte_gateway.py:153:30\n    |\n151 |         key = operation.strip().lower()\n152 |         if not key:\n153 |             raise ValueError(\"operation name must be non-empty\")\n    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n154 |         if not callable(handler):\n155 |             raise TypeError(\"operation handler must be callable\")\n    |\nhelp: Assign to variable; remove string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> astrocyte_gateway.py:155:19\n    |\n153 |             raise ValueError(\"operation name must be non-empty\")\n154 |         if not callable(handler):\n155 |             raise TypeError(\"operation handler must be callable\")\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n156 |         self._operations[key] = handler\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> astrocyte_gateway.py:155:29\n    |\n153 |             raise ValueError(\"operation name must be non-empty\")\n154 |         if not callable(handler):\n155 |             raise TypeError(\"operation handler must be callable\")\n    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n156 |         self._operations[key] = handler\n    |\nhelp: Assign to variable; remove string literal\n\nE501 Line too long (108 > 88)\n   --> astrocyte_gateway.py:240:89\n    |\n238 |     if payload.get(\"include_payload\"):\n239 |         outputs[\"payload\"] = dict(payload)\n240 |     return OperationResult.success(outputs=outputs, messages=[\"ping\"], diagnostics={\"length\": len(message)})\n    |                                                                                         ^^^^^^^^^^^^^^^^^^^^\n    |\n\nS311 Standard pseudo-random generators are not suitable for cryptographic purposes\n   --> astrocyte_gateway.py:255:11\n    |\n253 |     length = _coerce_positive_int(payload.get(\"length\"), default=16)\n254 |     seed_obj = payload.get(\"seed\")\n255 |     rng = random.Random(seed_obj) if isinstance(seed_obj, (int, float)) else None\n    |           ^^^^^^^^^^^^^^^^^^^^^^^\n256 |     strings: list[str] = []\n257 |     while len(strings) < count:\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> astrocyte_gateway.py:296:15\n    |\n294 |     text_obj = payload.get(\"text\")\n295 |     if not isinstance(pattern_obj, str) or not isinstance(text_obj, str):\n296 |         raise AstrocyteOperationError(\"pattern and text must be strings\")\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n297 |     mode_obj = payload.get(\"mode\")\n298 |     mode = str(mode_obj).lower() if isinstance(mode_obj, str) else \"search\"\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> astrocyte_gateway.py:296:39\n    |\n294 |     text_obj = payload.get(\"text\")\n295 |     if not isinstance(pattern_obj, str) or not isinstance(text_obj, str):\n296 |         raise AstrocyteOperationError(\"pattern and text must be strings\")\n    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n297 |     mode_obj = payload.get(\"mode\")\n298 |     mode = str(mode_obj).lower() if isinstance(mode_obj, str) else \"search\"\n    |\nhelp: Assign to variable; remove string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> astrocyte_gateway.py:312:19\n    |\n310 |         replacement_obj = payload.get(\"replacement\")\n311 |         if not isinstance(replacement_obj, str):\n312 |             raise AstrocyteOperationError(\"replacement must be provided for sub mode\")\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n313 |         result, count = compiled.subn(replacement_obj, text_obj)\n314 |         outputs = {\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> astrocyte_gateway.py:312:43\n    |\n310 |         replacement_obj = payload.get(\"replacement\")\n311 |         if not isinstance(replacement_obj, str):\n312 |             raise AstrocyteOperationError(\"replacement must be provided for sub mode\")\n    |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n313 |         result, count = compiled.subn(replacement_obj, text_obj)\n314 |         outputs = {\n    |\nhelp: Assign to variable; remove string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> astrocyte_gateway.py:343:15\n    |\n341 |     entrypoint_obj = payload.get(\"entrypoint\")\n342 |     if not isinstance(module_obj, str) or not module_obj.strip():\n343 |         raise AstrocyteOperationError(\"module must be a non-empty string\")\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n344 |     module_name = module_obj.strip()\n345 |     entrypoint_name = entrypoint_obj.strip() if isinstance(entrypoint_obj, str) and entrypoint_obj.strip() else \"main_json\"\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> astrocyte_gateway.py:343:39\n    |\n341 |     entrypoint_obj = payload.get(\"entrypoint\")\n342 |     if not isinstance(module_obj, str) or not module_obj.strip():\n343 |         raise AstrocyteOperationError(\"module must be a non-empty string\")\n    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n344 |     module_name = module_obj.strip()\n345 |     entrypoint_name = entrypoint_obj.strip() if isinstance(entrypoint_obj, str) and entrypoint_obj.strip() else \"main_json\"\n    |\nhelp: Assign to variable; remove string literal\n\nE501 Line too long (123 > 88)\n   --> astrocyte_gateway.py:345:89\n    |\n343 |         raise AstrocyteOperationError(\"module must be a non-empty string\")\n344 |     module_name = module_obj.strip()\n345 |     entrypoint_name = entrypoint_obj.strip() if isinstance(entrypoint_obj, str) and entrypoint_obj.strip() else \"main_json\"\n    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n346 |\n347 |     payload_obj = payload.get(\"payload\", {})\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> astrocyte_gateway.py:349:15\n    |\n347 |     payload_obj = payload.get(\"payload\", {})\n348 |     if not isinstance(payload_obj, Mapping):\n349 |         raise AstrocyteOperationError(\"payload must be a JSON object\")\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n350 |\n351 |     context_obj = payload.get(\"context\")\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> astrocyte_gateway.py:349:39\n    |\n347 |     payload_obj = payload.get(\"payload\", {})\n348 |     if not isinstance(payload_obj, Mapping):\n349 |         raise AstrocyteOperationError(\"payload must be a JSON object\")\n    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n350 |\n351 |     context_obj = payload.get(\"context\")\n    |\nhelp: Assign to variable; remove string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> astrocyte_gateway.py:353:15\n    |\n351 |     context_obj = payload.get(\"context\")\n352 |     if context_obj is not None and not isinstance(context_obj, Mapping):\n353 |         raise AstrocyteOperationError(\"context must be a JSON object when provided\")\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n354 |\n355 |     try:\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> astrocyte_gateway.py:353:39\n    |\n351 |     context_obj = payload.get(\"context\")\n352 |     if context_obj is not None and not isinstance(context_obj, Mapping):\n353 |         raise AstrocyteOperationError(\"context must be a JSON object when provided\")\n    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n354 |\n355 |     try:\n    |\nhelp: Assign to variable; remove string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> astrocyte_gateway.py:358:15\n    |\n356 |         module = importlib.import_module(module_name)\n357 |     except ModuleNotFoundError as exc:\n358 |         raise AstrocyteOperationError(f\"module '{module_name}' not found\") from exc\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n359 |\n360 |     entrypoint = getattr(module, entrypoint_name, None)\n    |\n\nEM102 Exception must not use an f-string literal, assign to variable first\n   --> astrocyte_gateway.py:358:39\n    |\n356 |         module = importlib.import_module(module_name)\n357 |     except ModuleNotFoundError as exc:\n358 |         raise AstrocyteOperationError(f\"module '{module_name}' not found\") from exc\n    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n359 |\n360 |     entrypoint = getattr(module, entrypoint_name, None)\n    |\nhelp: Assign to variable; remove f-string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> astrocyte_gateway.py:362:15\n    |\n360 |       entrypoint = getattr(module, entrypoint_name, None)\n361 |       if entrypoint is None:\n362 |           raise AstrocyteOperationError(\n    |  _______________^\n363 | |             f\"module '{module_name}' has no attribute '{entrypoint_name}'\"\n364 | |         )\n    | |_________^\n365 |\n366 |       result_payload: object\n    |\n\nEM102 Exception must not use an f-string literal, assign to variable first\n   --> astrocyte_gateway.py:363:13\n    |\n361 |     if entrypoint is None:\n362 |         raise AstrocyteOperationError(\n363 |             f\"module '{module_name}' has no attribute '{entrypoint_name}'\"\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n364 |         )\n    |\nhelp: Assign to variable; remove f-string literal\n\nE501 Line too long (125 > 88)\n   --> astrocyte_gateway.py:384:89\n    |\n384 | def _call_entrypoint(func: Callable[..., object], payload: Mapping[str, object], ctx: Mapping[str, object] | None) -> object:\n    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n385 |     try:\n386 |         return func(payload)\n    |\n\nPLR2004 Magic value used in comparison, consider replacing `2` with a constant variable\n   --> astrocyte_gateway.py:389:41\n    |\n387 |     except TypeError as original:\n388 |         signature = inspect.signature(func)\n389 |         if len(signature.parameters) == 2:\n    |                                         ^\n390 |             return func(payload, ctx)\n391 |         raise AstrocyteOperationError(str(original)) from original\n    |\n\nE501 Line too long (96 > 88)\n   --> astrocyte_gateway.py:394:89\n    |\n394 | def _serialize_match(match: re.Match[str] | None, pattern: str, mode: str) -> dict[str, object]:\n    |                                                                                         ^^^^^^^^\n395 |     if match is None:\n396 |         return {\"matched\": False, \"pattern\": pattern, \"mode\": mode}\n    |\n\nE501 Line too long (92 > 88)\n   --> astrocyte_gateway.py:397:89\n    |\n395 |     if match is None:\n396 |         return {\"matched\": False, \"pattern\": pattern, \"mode\": mode}\n397 |     groups = [None if value is None else str(value) for value in match.groups(default=None)]\n    |                                                                                         ^^^^\n398 |     groupdict = {key: (None if value is None else str(value)) for key, value in match.groupdict().items()}\n399 |     span_start, span_end = match.span()\n    |\n\nE501 Line too long (106 > 88)\n   --> astrocyte_gateway.py:398:89\n    |\n396 |         return {\"matched\": False, \"pattern\": pattern, \"mode\": mode}\n397 |     groups = [None if value is None else str(value) for value in match.groups(default=None)]\n398 |     groupdict = {key: (None if value is None else str(value)) for key, value in match.groupdict().items()}\n    |                                                                                         ^^^^^^^^^^^^^^^^^^\n399 |     span_start, span_end = match.span()\n400 |     return {\n    |\n\nE501 Line too long (92 > 88)\n   --> astrocyte_gateway.py:426:89\n    |\n424 |         return [candidate]\n425 |     if isinstance(candidate, Sequence):\n426 |         return [str(item) for item in candidate if not isinstance(item, (bytes, bytearray))]\n    |                                                                                         ^^^^\n427 |     return []\n    |\n\nANN401 Dynamically typed expressions (typing.Any) are disallowed in `client`\n  --> client.py:39:17\n   |\n37 |         api_key: str | None = None,\n38 |         timeout: float = 30.0,\n39 |         client: Any | None = None,\n   |                 ^^^^^^^^^^\n40 |     ) -> None:\n41 |         if httpx is None or _HTTPX_IMPORT_ERROR is not None:  # pragma: no cover - optional dependency\n   |\n\nE501 Line too long (102 > 88)\n  --> client.py:41:89\n   |\n39 |         client: Any | None = None,\n40 |     ) -> None:\n41 |         if httpx is None or _HTTPX_IMPORT_ERROR is not None:  # pragma: no cover - optional dependency\n   |                                                                                         ^^^^^^^^^^^^^^\n42 |             raise ImportError(\"httpx is required to use RemoteAstrocyteGateway\") from _HTTPX_IMPORT_ERROR\n   |\n\nTRY003 Avoid specifying long messages outside the exception class\n  --> client.py:42:19\n   |\n40 |     ) -> None:\n41 |         if httpx is None or _HTTPX_IMPORT_ERROR is not None:  # pragma: no cover - optional dependency\n42 |             raise ImportError(\"httpx is required to use RemoteAstrocyteGateway\") from _HTTPX_IMPORT_ERROR\n   |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n43 |\n44 |         super().__init__(\n   |\n\nEM101 Exception must not use a string literal, assign to variable first\n  --> client.py:42:31\n   |\n40 |     ) -> None:\n41 |         if httpx is None or _HTTPX_IMPORT_ERROR is not None:  # pragma: no cover - optional dependency\n42 |             raise ImportError(\"httpx is required to use RemoteAstrocyteGateway\") from _HTTPX_IMPORT_ERROR\n   |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n43 |\n44 |         super().__init__(\n   |\nhelp: Assign to variable; remove string literal\n\nE501 Line too long (105 > 88)\n  --> client.py:42:89\n   |\n40 |     ) -> None:\n41 |         if httpx is None or _HTTPX_IMPORT_ERROR is not None:  # pragma: no cover - optional dependency\n42 |             raise ImportError(\"httpx is required to use RemoteAstrocyteGateway\") from _HTTPX_IMPORT_ERROR\n   |                                                                                         ^^^^^^^^^^^^^^^^^\n43 |\n44 |         super().__init__(\n   |\n\nE501 Line too long (98 > 88)\n  --> client.py:62:89\n   |\n60 |                 self.role = AstrocyteRole(role_value)\n61 |         except ValueError:\n62 |             LOGGER.debug(\"remote role %s not recognized; defaulting to %s\", role_value, self.role)\n   |                                                                                         ^^^^^^^^^^\n63 |         locality_value = self._descriptor.get(\"locality\")\n64 |         try:\n   |\n\nE501 Line too long (110 > 88)\n  --> client.py:68:89\n   |\n66 |                 self.locality = AstrocyteLocality(locality_value)\n67 |         except ValueError:\n68 |             LOGGER.debug(\"remote locality %s not recognized; defaulting to %s\", locality_value, self.locality)\n   |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^\n69 |\n70 |         remote_ops = self._descriptor.get(\"operations\")\n   |\n\nE501 Line too long (100 > 88)\n  --> client.py:71:89\n   |\n70 |         remote_ops = self._descriptor.get(\"operations\")\n71 |         if isinstance(remote_ops, Sequence) and not isinstance(remote_ops, (str, bytes, bytearray)):\n   |                                                                                         ^^^^^^^^^^^^\n72 |             self._remote_operations = tuple(str(entry) for entry in remote_ops)\n73 |         else:\n   |\n\nC408 Unnecessary `tuple()` call (rewrite as a literal)\n  --> client.py:74:39\n   |\n72 |             self._remote_operations = tuple(str(entry) for entry in remote_ops)\n73 |         else:\n74 |             self._remote_operations = tuple()\n   |                                       ^^^^^^^\n75 |\n76 |     def close(self) -> None:\n   |\nhelp: Rewrite as a literal\n\nPYI034 `__enter__` methods in classes like `RemoteAstrocyteGateway` usually return `self` at runtime\n  --> client.py:80:9\n   |\n78 |             self._client.close()\n79 |\n80 |     def __enter__(self) -> RemoteAstrocyteGateway:\n   |         ^^^^^^^^^\n81 |         return self\n   |\nhelp: Use `Self` as return type\n\nANN001 Missing type annotation for function argument `exc_type`\n  --> client.py:83:24\n   |\n81 |         return self\n82 |\n83 |     def __exit__(self, exc_type, exc, tb) -> None:  # type: ignore[override]\n   |                        ^^^^^^^^\n84 |         self.close()\n   |\n\nANN001 Missing type annotation for function argument `exc`\n  --> client.py:83:34\n   |\n81 |         return self\n82 |\n83 |     def __exit__(self, exc_type, exc, tb) -> None:  # type: ignore[override]\n   |                                  ^^^\n84 |         self.close()\n   |\n\nANN001 Missing type annotation for function argument `tb`\n  --> client.py:83:39\n   |\n81 |         return self\n82 |\n83 |     def __exit__(self, exc_type, exc, tb) -> None:  # type: ignore[override]\n   |                                       ^^\n84 |         self.close()\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `401` with a constant variable\n   --> client.py:111:36\n    |\n109 |         headers = self._headers()\n110 |         response = self._client.post(\"/invoke\", json=request_payload, headers=headers)\n111 |         if response.status_code == 401:\n    |                                    ^^^\n112 |             raise AstrocyteOperationError(\"remote astrocyte rejected credentials\")\n113 |         if response.status_code >= 500:\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> client.py:112:19\n    |\n110 |         response = self._client.post(\"/invoke\", json=request_payload, headers=headers)\n111 |         if response.status_code == 401:\n112 |             raise AstrocyteOperationError(\"remote astrocyte rejected credentials\")\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n113 |         if response.status_code >= 500:\n114 |             raise AstrocyteOperationError(\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> client.py:112:43\n    |\n110 |         response = self._client.post(\"/invoke\", json=request_payload, headers=headers)\n111 |         if response.status_code == 401:\n112 |             raise AstrocyteOperationError(\"remote astrocyte rejected credentials\")\n    |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n113 |         if response.status_code >= 500:\n114 |             raise AstrocyteOperationError(\n    |\nhelp: Assign to variable; remove string literal\n\nPLR2004 Magic value used in comparison, consider replacing `500` with a constant variable\n   --> client.py:113:36\n    |\n111 |         if response.status_code == 401:\n112 |             raise AstrocyteOperationError(\"remote astrocyte rejected credentials\")\n113 |         if response.status_code >= 500:\n    |                                    ^^^\n114 |             raise AstrocyteOperationError(\n115 |                 f\"remote astrocyte error ({response.status_code})\"\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> client.py:114:19\n    |\n112 |               raise AstrocyteOperationError(\"remote astrocyte rejected credentials\")\n113 |           if response.status_code >= 500:\n114 |               raise AstrocyteOperationError(\n    |  ___________________^\n115 | |                 f\"remote astrocyte error ({response.status_code})\"\n116 | |             )\n    | |_____________^\n117 |\n118 |           result_payload = response.json()\n    |\n\nEM102 Exception must not use an f-string literal, assign to variable first\n   --> client.py:115:17\n    |\n113 |         if response.status_code >= 500:\n114 |             raise AstrocyteOperationError(\n115 |                 f\"remote astrocyte error ({response.status_code})\"\n    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n116 |             )\n    |\nhelp: Assign to variable; remove f-string literal\n\nE501 Line too long (91 > 88)\n   --> client.py:124:89\n    |\n122 |         messages = _ensure_string_sequence(result_payload.get(\"messages\"))\n123 |         diagnostics_obj = result_payload.get(\"diagnostics\", {})\n124 |         diagnostics = dict(diagnostics_obj) if isinstance(diagnostics_obj, Mapping) else {}\n    |                                                                                         ^^^\n125 |         if status == \"success\":\n126 |             return OperationResult.success(\n    |\n\nPLR2004 Magic value used in comparison, consider replacing `401` with a constant variable\n   --> client.py:148:36\n    |\n146 |         headers = self._headers()\n147 |         response = self._client.get(\"/gateway\", headers=headers)\n148 |         if response.status_code == 401:\n    |                                    ^^^\n149 |             raise AstrocyteOperationError(\"unauthorized when fetching descriptor\")\n150 |         response.raise_for_status()\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> client.py:149:19\n    |\n147 |         response = self._client.get(\"/gateway\", headers=headers)\n148 |         if response.status_code == 401:\n149 |             raise AstrocyteOperationError(\"unauthorized when fetching descriptor\")\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n150 |         response.raise_for_status()\n151 |         data = response.json()\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> client.py:149:43\n    |\n147 |         response = self._client.get(\"/gateway\", headers=headers)\n148 |         if response.status_code == 401:\n149 |             raise AstrocyteOperationError(\"unauthorized when fetching descriptor\")\n    |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n150 |         response.raise_for_status()\n151 |         data = response.json()\n    |\nhelp: Assign to variable; remove string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> client.py:154:19\n    |\n152 |         gateway_obj = data.get(\"gateway\")\n153 |         if not isinstance(gateway_obj, Mapping):\n154 |             raise AstrocyteOperationError(\"descriptor payload missing gateway information\")\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n155 |         operations = data.get(\"operations\", [])\n156 |         if isinstance(operations, Sequence) and not isinstance(operations, (str, bytes, bytearray)):\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> client.py:154:43\n    |\n152 |         gateway_obj = data.get(\"gateway\")\n153 |         if not isinstance(gateway_obj, Mapping):\n154 |             raise AstrocyteOperationError(\"descriptor payload missing gateway information\")\n    |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n155 |         operations = data.get(\"operations\", [])\n156 |         if isinstance(operations, Sequence) and not isinstance(operations, (str, bytes, bytearray)):\n    |\nhelp: Assign to variable; remove string literal\n\nE501 Line too long (91 > 88)\n   --> client.py:154:89\n    |\n152 |         gateway_obj = data.get(\"gateway\")\n153 |         if not isinstance(gateway_obj, Mapping):\n154 |             raise AstrocyteOperationError(\"descriptor payload missing gateway information\")\n    |                                                                                         ^^^\n155 |         operations = data.get(\"operations\", [])\n156 |         if isinstance(operations, Sequence) and not isinstance(operations, (str, bytes, bytearray)):\n    |\n\nE501 Line too long (100 > 88)\n   --> client.py:156:89\n    |\n154 |             raise AstrocyteOperationError(\"descriptor payload missing gateway information\")\n155 |         operations = data.get(\"operations\", [])\n156 |         if isinstance(operations, Sequence) and not isinstance(operations, (str, bytes, bytearray)):\n    |                                                                                         ^^^^^^^^^^^^\n157 |             operations_tuple = tuple(str(entry) for entry in operations)\n158 |         else:\n    |\n\nTC003 Move standard library import `pathlib.Path` into a type-checking block\n  --> projection.py:9:21\n   |\n 7 | from dataclasses import dataclass, field\n 8 | from datetime import UTC, datetime\n 9 | from pathlib import Path\n   |                     ^^^^\n10 | from types import MappingProxyType\n   |\nhelp: Move into type-checking block\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:185:15\n    |\n183 | def _require_text(value: str, field_name: str) -> str:\n184 |     if not isinstance(value, str):\n185 |         raise TypeError(f\"{field_name} must be a string\")\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n186 |     trimmed = value.strip()\n187 |     if not trimmed:\n    |\n\nEM102 Exception must not use an f-string literal, assign to variable first\n   --> projection.py:185:25\n    |\n183 | def _require_text(value: str, field_name: str) -> str:\n184 |     if not isinstance(value, str):\n185 |         raise TypeError(f\"{field_name} must be a string\")\n    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n186 |     trimmed = value.strip()\n187 |     if not trimmed:\n    |\nhelp: Assign to variable; remove f-string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:188:15\n    |\n186 |     trimmed = value.strip()\n187 |     if not trimmed:\n188 |         raise ValueError(f\"{field_name} must be a non-empty string\")\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n189 |     return trimmed\n    |\n\nEM102 Exception must not use an f-string literal, assign to variable first\n   --> projection.py:188:26\n    |\n186 |     trimmed = value.strip()\n187 |     if not trimmed:\n188 |         raise ValueError(f\"{field_name} must be a non-empty string\")\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n189 |     return trimmed\n    |\nhelp: Assign to variable; remove f-string literal\n\nRET504 Unnecessary assignment to `text` before `return` statement\n   --> projection.py:194:12\n    |\n192 | def _require_identifier(value: str, field_name: str) -> str:\n193 |     text = _require_text(value, field_name)\n194 |     return text\n    |            ^^^^\n    |\nhelp: Remove unnecessary assignment\n\nE501 Line too long (92 > 88)\n   --> projection.py:197:89\n    |\n197 | def _coerce_mapping(mapping: Mapping[str, object], field_name: str) -> Mapping[str, object]:\n    |                                                                                         ^^^^\n198 |     if not isinstance(mapping, Mapping):\n199 |         raise TypeError(f\"{field_name} must be a mapping\")\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:199:15\n    |\n197 | def _coerce_mapping(mapping: Mapping[str, object], field_name: str) -> Mapping[str, object]:\n198 |     if not isinstance(mapping, Mapping):\n199 |         raise TypeError(f\"{field_name} must be a mapping\")\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n200 |     return MappingProxyType({str(key): value for key, value in mapping.items()})\n    |\n\nEM102 Exception must not use an f-string literal, assign to variable first\n   --> projection.py:199:25\n    |\n197 | def _coerce_mapping(mapping: Mapping[str, object], field_name: str) -> Mapping[str, object]:\n198 |     if not isinstance(mapping, Mapping):\n199 |         raise TypeError(f\"{field_name} must be a mapping\")\n    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n200 |     return MappingProxyType({str(key): value for key, value in mapping.items()})\n    |\nhelp: Assign to variable; remove f-string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:205:15\n    |\n203 | def _coerce_string_tuple(values: Sequence[str], field_name: str) -> tuple[str, ...]:\n204 |     if not isinstance(values, Sequence):\n205 |         raise TypeError(f\"{field_name} must be a sequence\")\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n206 |     result: list[str] = []\n207 |     for item in values:\n    |\n\nEM102 Exception must not use an f-string literal, assign to variable first\n   --> projection.py:205:25\n    |\n203 | def _coerce_string_tuple(values: Sequence[str], field_name: str) -> tuple[str, ...]:\n204 |     if not isinstance(values, Sequence):\n205 |         raise TypeError(f\"{field_name} must be a sequence\")\n    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n206 |     result: list[str] = []\n207 |     for item in values:\n    |\nhelp: Assign to variable; remove f-string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:209:19\n    |\n207 |     for item in values:\n208 |         if not isinstance(item, str):\n209 |             raise TypeError(f\"{field_name} entries must be strings\")\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n210 |         trimmed = item.strip()\n211 |         if trimmed:\n    |\n\nEM102 Exception must not use an f-string literal, assign to variable first\n   --> projection.py:209:29\n    |\n207 |     for item in values:\n208 |         if not isinstance(item, str):\n209 |             raise TypeError(f\"{field_name} entries must be strings\")\n    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n210 |         trimmed = item.strip()\n211 |         if trimmed:\n    |\nhelp: Assign to variable; remove f-string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:245:15\n    |\n243 |     text = value.strip()\n244 |     if not text:\n245 |         raise ValueError(\"node.form must be a non-empty string\")\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n246 |     if text.startswith(\"Form_\"):\n247 |         return text\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> projection.py:245:26\n    |\n243 |     text = value.strip()\n244 |     if not text:\n245 |         raise ValueError(\"node.form must be a non-empty string\")\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n246 |     if text.startswith(\"Form_\"):\n247 |         return text\n    |\nhelp: Assign to variable; remove string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:251:11\n    |\n249 |     if alias is not None:\n250 |         return alias\n251 |     raise ValueError(f\"unknown astrocyte form '{value}'\")\n    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n\nEM102 Exception must not use an f-string literal, assign to variable first\n   --> projection.py:251:22\n    |\n249 |     if alias is not None:\n250 |         return alias\n251 |     raise ValueError(f\"unknown astrocyte form '{value}'\")\n    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\nhelp: Assign to variable; remove f-string literal\n\nC901 `_enforce_primary_form_contract` is too complex (12 > 10)\n   --> projection.py:254:5\n    |\n254 | def _enforce_primary_form_contract(\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n255 |     node_forms: Mapping[str, str],\n256 |     edges: Sequence[tuple[str, str]],\n    |\n\nE501 Line too long (89 > 88)\n   --> projection.py:258:89\n    |\n256 |     edges: Sequence[tuple[str, str]],\n257 | ) -> None:\n258 |     begin_nodes = [node_id for node_id, form in node_forms.items() if form == FORM_BEGIN]\n    |                                                                                         ^\n259 |     if len(begin_nodes) != 1:\n260 |         raise ValueError(\"network must contain exactly one Form_1 astrocyte\")\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:260:15\n    |\n258 |     begin_nodes = [node_id for node_id, form in node_forms.items() if form == FORM_BEGIN]\n259 |     if len(begin_nodes) != 1:\n260 |         raise ValueError(\"network must contain exactly one Form_1 astrocyte\")\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n261 |     end_nodes = [node_id for node_id, form in node_forms.items() if form == FORM_END]\n262 |     if len(end_nodes) != 1:\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> projection.py:260:26\n    |\n258 |     begin_nodes = [node_id for node_id, form in node_forms.items() if form == FORM_BEGIN]\n259 |     if len(begin_nodes) != 1:\n260 |         raise ValueError(\"network must contain exactly one Form_1 astrocyte\")\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n261 |     end_nodes = [node_id for node_id, form in node_forms.items() if form == FORM_END]\n262 |     if len(end_nodes) != 1:\n    |\nhelp: Assign to variable; remove string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:263:15\n    |\n261 |     end_nodes = [node_id for node_id, form in node_forms.items() if form == FORM_END]\n262 |     if len(end_nodes) != 1:\n263 |         raise ValueError(\"network must contain exactly one Form_3 astrocyte\")\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n264 |\n265 |     incoming_by_target: dict[str, list[str]] = {}\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> projection.py:263:26\n    |\n261 |     end_nodes = [node_id for node_id, form in node_forms.items() if form == FORM_END]\n262 |     if len(end_nodes) != 1:\n263 |         raise ValueError(\"network must contain exactly one Form_3 astrocyte\")\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n264 |\n265 |     incoming_by_target: dict[str, list[str]] = {}\n    |\nhelp: Assign to variable; remove string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:271:19\n    |\n269 |         target_form = node_forms.get(target)\n270 |         if source_form == FORM_BEGIN and target_form == FORM_END:\n271 |             raise ValueError(\"Form_1 astrocytes must not connect directly to Form_3 astrocytes\")\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n272 |\n273 |     for node_id, form in node_forms.items():\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> projection.py:271:30\n    |\n269 |         target_form = node_forms.get(target)\n270 |         if source_form == FORM_BEGIN and target_form == FORM_END:\n271 |             raise ValueError(\"Form_1 astrocytes must not connect directly to Form_3 astrocytes\")\n    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n272 |\n273 |     for node_id, form in node_forms.items():\n    |\nhelp: Assign to variable; remove string literal\n\nE501 Line too long (96 > 88)\n   --> projection.py:271:89\n    |\n269 |         target_form = node_forms.get(target)\n270 |         if source_form == FORM_BEGIN and target_form == FORM_END:\n271 |             raise ValueError(\"Form_1 astrocytes must not connect directly to Form_3 astrocytes\")\n    |                                                                                         ^^^^^^^^\n272 |\n273 |     for node_id, form in node_forms.items():\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:277:23\n    |\n275 |           if form == FORM_EXECUTE:\n276 |               if not inbound_sources:\n277 |                   raise ValueError(\n    |  _______________________^\n278 | |                     f\"Form_2 astrocyte '{node_id}' must have an incoming edge\"\n279 | |                 )\n    | |_________________^\n280 |               if not any(\n281 |                   node_forms.get(source) in {FORM_BEGIN, FORM_EXECUTE}\n    |\n\nEM102 Exception must not use an f-string literal, assign to variable first\n   --> projection.py:278:21\n    |\n276 |             if not inbound_sources:\n277 |                 raise ValueError(\n278 |                     f\"Form_2 astrocyte '{node_id}' must have an incoming edge\"\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n279 |                 )\n280 |             if not any(\n    |\nhelp: Assign to variable; remove f-string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:284:23\n    |\n282 |                   for source in inbound_sources\n283 |               ):\n284 |                   raise ValueError(\n    |  _______________________^\n285 | |                     f\"Form_2 astrocyte '{node_id}' must be driven by Form_1 or Form_2 astrocytes\"\n286 | |                 )\n    | |_________________^\n287 |           if form == FORM_END:\n288 |               if not inbound_sources:\n    |\n\nEM102 Exception must not use an f-string literal, assign to variable first\n   --> projection.py:285:21\n    |\n283 |             ):\n284 |                 raise ValueError(\n285 |                     f\"Form_2 astrocyte '{node_id}' must be driven by Form_1 or Form_2 astrocytes\"\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n286 |                 )\n287 |         if form == FORM_END:\n    |\nhelp: Assign to variable; remove f-string literal\n\nE501 Line too long (97 > 88)\n   --> projection.py:285:89\n    |\n283 |             ):\n284 |                 raise ValueError(\n285 |                     f\"Form_2 astrocyte '{node_id}' must be driven by Form_1 or Form_2 astrocytes\"\n    |                                                                                         ^^^^^^^^^\n286 |                 )\n287 |         if form == FORM_END:\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:289:23\n    |\n287 |           if form == FORM_END:\n288 |               if not inbound_sources:\n289 |                   raise ValueError(\n    |  _______________________^\n290 | |                     \"Form_3 astrocyte must have at least one incoming edge\"\n291 | |                 )\n    | |_________________^\n292 |               if not any(node_forms.get(source) == FORM_EXECUTE for source in inbound_sources):\n293 |                   raise ValueError(\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> projection.py:290:21\n    |\n288 |             if not inbound_sources:\n289 |                 raise ValueError(\n290 |                     \"Form_3 astrocyte must have at least one incoming edge\"\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n291 |                 )\n292 |             if not any(node_forms.get(source) == FORM_EXECUTE for source in inbound_sources):\n    |\nhelp: Assign to variable; remove string literal\n\nE501 Line too long (93 > 88)\n   --> projection.py:292:89\n    |\n290 |                     \"Form_3 astrocyte must have at least one incoming edge\"\n291 |                 )\n292 |             if not any(node_forms.get(source) == FORM_EXECUTE for source in inbound_sources):\n    |                                                                                         ^^^^^\n293 |                 raise ValueError(\n294 |                     \"Form_3 astrocyte must be triggered by at least one Form_2 astrocyte\"\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:293:23\n    |\n291 |                   )\n292 |               if not any(node_forms.get(source) == FORM_EXECUTE for source in inbound_sources):\n293 |                   raise ValueError(\n    |  _______________________^\n294 | |                     \"Form_3 astrocyte must be triggered by at least one Form_2 astrocyte\"\n295 | |                 )\n    | |_________________^\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> projection.py:294:21\n    |\n292 |             if not any(node_forms.get(source) == FORM_EXECUTE for source in inbound_sources):\n293 |                 raise ValueError(\n294 |                     \"Form_3 astrocyte must be triggered by at least one Form_2 astrocyte\"\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n295 |                 )\n    |\nhelp: Assign to variable; remove string literal\n\nE501 Line too long (89 > 88)\n   --> projection.py:294:89\n    |\n292 |             if not any(node_forms.get(source) == FORM_EXECUTE for source in inbound_sources):\n293 |                 raise ValueError(\n294 |                     \"Form_3 astrocyte must be triggered by at least one Form_2 astrocyte\"\n    |                                                                                         ^\n295 |                 )\n    |\n\nE501 Line too long (91 > 88)\n   --> projection.py:392:89\n    |\n391 |     def __post_init__(self) -> None:\n392 |         object.__setattr__(self, \"source\", _require_identifier(self.source, \"edge.source\"))\n    |                                                                                         ^^^\n393 |         object.__setattr__(self, \"target\", _require_identifier(self.target, \"edge.target\"))\n394 |         object.__setattr__(\n    |\n\nE501 Line too long (91 > 88)\n   --> projection.py:393:89\n    |\n391 |     def __post_init__(self) -> None:\n392 |         object.__setattr__(self, \"source\", _require_identifier(self.source, \"edge.source\"))\n393 |         object.__setattr__(self, \"target\", _require_identifier(self.target, \"edge.target\"))\n    |                                                                                         ^^^\n394 |         object.__setattr__(\n395 |             self,\n    |\n\nSIM102 Use a single `if` statement instead of nested `if` statements\n   --> projection.py:439:9\n    |\n438 |       def __post_init__(self) -> None:\n439 | /         if self.batch_size is not None:\n440 | |             if self.batch_size <= 0:\n    | |____________________________________^\n441 |                   raise ValueError(\"execution_policy.batch_size must be positive\")\n442 |           if self.retry_limit is not None:\n    |\nhelp: Combine `if` statements using `and`\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:441:23\n    |\n439 |         if self.batch_size is not None:\n440 |             if self.batch_size <= 0:\n441 |                 raise ValueError(\"execution_policy.batch_size must be positive\")\n    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n442 |         if self.retry_limit is not None:\n443 |             if self.retry_limit < 0:\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> projection.py:441:34\n    |\n439 |         if self.batch_size is not None:\n440 |             if self.batch_size <= 0:\n441 |                 raise ValueError(\"execution_policy.batch_size must be positive\")\n    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n442 |         if self.retry_limit is not None:\n443 |             if self.retry_limit < 0:\n    |\nhelp: Assign to variable; remove string literal\n\nSIM102 Use a single `if` statement instead of nested `if` statements\n   --> projection.py:442:9\n    |\n440 |               if self.batch_size <= 0:\n441 |                   raise ValueError(\"execution_policy.batch_size must be positive\")\n442 | /         if self.retry_limit is not None:\n443 | |             if self.retry_limit < 0:\n    | |____________________________________^\n444 |                   raise ValueError(\"execution_policy.retry_limit must be non-negative\")\n445 |           if self.concurrency is not None:\n    |\nhelp: Combine `if` statements using `and`\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:444:23\n    |\n442 |         if self.retry_limit is not None:\n443 |             if self.retry_limit < 0:\n444 |                 raise ValueError(\"execution_policy.retry_limit must be non-negative\")\n    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n445 |         if self.concurrency is not None:\n446 |             object.__setattr__(\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> projection.py:444:34\n    |\n442 |         if self.retry_limit is not None:\n443 |             if self.retry_limit < 0:\n444 |                 raise ValueError(\"execution_policy.retry_limit must be non-negative\")\n    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n445 |         if self.concurrency is not None:\n446 |             object.__setattr__(\n    |\nhelp: Assign to variable; remove string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:530:23\n    |\n528 |           for bundle in self.data_bundles:\n529 |               if not isinstance(bundle, ProjectionDataBundle):\n530 |                   raise TypeError(\n    |  _______________________^\n531 | |                     \"resources.data_bundles entries must be ProjectionDataBundle instances\"\n532 | |                 )\n    | |_________________^\n533 |               bundles.append(bundle)\n534 |           object.__setattr__(self, \"data_bundles\", tuple(bundles))\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> projection.py:531:21\n    |\n529 |             if not isinstance(bundle, ProjectionDataBundle):\n530 |                 raise TypeError(\n531 |                     \"resources.data_bundles entries must be ProjectionDataBundle instances\"\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n532 |                 )\n533 |             bundles.append(bundle)\n    |\nhelp: Assign to variable; remove string literal\n\nE501 Line too long (91 > 88)\n   --> projection.py:531:89\n    |\n529 |             if not isinstance(bundle, ProjectionDataBundle):\n530 |                 raise TypeError(\n531 |                     \"resources.data_bundles entries must be ProjectionDataBundle instances\"\n    |                                                                                         ^^^\n532 |                 )\n533 |             bundles.append(bundle)\n    |\n\nE501 Line too long (89 > 88)\n   --> projection.py:588:89\n    |\n586 |                 _require_text(self.git_revision, \"origin.git_revision\"),\n587 |             )\n588 |         object.__setattr__(self, \"extras\", _coerce_mapping(self.extras, \"origin.extras\"))\n    |                                                                                         ^\n589 |\n590 |     def to_dict(self) -> dict[str, object]:\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:626:19\n    |\n624 |         node_ids = {node.id for node in self.nodes}\n625 |         if len(node_ids) != len(self.nodes):\n626 |             raise ValueError(\"network nodes must have unique ids\")\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n627 |         nodes_by_id = {node.id: node for node in self.nodes}\n628 |         for edge in self.edges:\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> projection.py:626:30\n    |\n624 |         node_ids = {node.id for node in self.nodes}\n625 |         if len(node_ids) != len(self.nodes):\n626 |             raise ValueError(\"network nodes must have unique ids\")\n    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n627 |         nodes_by_id = {node.id: node for node in self.nodes}\n628 |         for edge in self.edges:\n    |\nhelp: Assign to variable; remove string literal\n\nF841 Local variable `nodes_by_id` is assigned to but never used\n   --> projection.py:627:9\n    |\n625 |         if len(node_ids) != len(self.nodes):\n626 |             raise ValueError(\"network nodes must have unique ids\")\n627 |         nodes_by_id = {node.id: node for node in self.nodes}\n    |         ^^^^^^^^^^^\n628 |         for edge in self.edges:\n629 |             if edge.source not in node_ids:\n    |\nhelp: Remove assignment to unused variable `nodes_by_id`\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:630:23\n    |\n628 |         for edge in self.edges:\n629 |             if edge.source not in node_ids:\n630 |                 raise ValueError(f\"edge source '{edge.source}' is not defined\")\n    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n631 |             if edge.target not in node_ids:\n632 |                 raise ValueError(\n    |\n\nEM102 Exception must not use an f-string literal, assign to variable first\n   --> projection.py:630:34\n    |\n628 |         for edge in self.edges:\n629 |             if edge.source not in node_ids:\n630 |                 raise ValueError(f\"edge source '{edge.source}' is not defined\")\n    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n631 |             if edge.target not in node_ids:\n632 |                 raise ValueError(\n    |\nhelp: Assign to variable; remove f-string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:632:23\n    |\n630 |                   raise ValueError(f\"edge source '{edge.source}' is not defined\")\n631 |               if edge.target not in node_ids:\n632 |                   raise ValueError(\n    |  _______________________^\n633 | |                     f\"edge target '{edge.target}' is not defined\"\n634 | |                 )\n    | |_________________^\n635 |           for entry in self.entrypoints:\n636 |               if entry not in node_ids:\n    |\n\nEM102 Exception must not use an f-string literal, assign to variable first\n   --> projection.py:633:21\n    |\n631 |             if edge.target not in node_ids:\n632 |                 raise ValueError(\n633 |                     f\"edge target '{edge.target}' is not defined\"\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n634 |                 )\n635 |         for entry in self.entrypoints:\n    |\nhelp: Assign to variable; remove f-string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:637:23\n    |\n635 |         for entry in self.entrypoints:\n636 |             if entry not in node_ids:\n637 |                 raise ValueError(f\"entrypoint '{entry}' is not defined\")\n    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n638 |         for sink in self.sinks:\n639 |             if sink not in node_ids:\n    |\n\nEM102 Exception must not use an f-string literal, assign to variable first\n   --> projection.py:637:34\n    |\n635 |         for entry in self.entrypoints:\n636 |             if entry not in node_ids:\n637 |                 raise ValueError(f\"entrypoint '{entry}' is not defined\")\n    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n638 |         for sink in self.sinks:\n639 |             if sink not in node_ids:\n    |\nhelp: Assign to variable; remove f-string literal\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:640:23\n    |\n638 |         for sink in self.sinks:\n639 |             if sink not in node_ids:\n640 |                 raise ValueError(f\"sink '{sink}' is not defined\")\n    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n641 |         node_forms = {node.id: node.form for node in self.nodes}\n642 |         edge_pairs = [(edge.source, edge.target) for edge in self.edges]\n    |\n\nEM102 Exception must not use an f-string literal, assign to variable first\n   --> projection.py:640:34\n    |\n638 |         for sink in self.sinks:\n639 |             if sink not in node_ids:\n640 |                 raise ValueError(f\"sink '{sink}' is not defined\")\n    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n641 |         node_forms = {node.id: node.form for node in self.nodes}\n642 |         edge_pairs = [(edge.source, edge.target) for edge in self.edges]\n    |\nhelp: Assign to variable; remove f-string literal\n\nC901 `to_markdown_document` is too complex (12 > 10)\n   --> projection.py:752:9\n    |\n750 |         return self.network.to_graphviz_spec()\n751 |\n752 |     def to_markdown_document(self) -> dict[str, object]:\n    |         ^^^^^^^^^^^^^^^^^^^^\n753 |         header_text = f\"Astral Projection \u00c2\u00b7 {self.id}\"\n754 |         network = self.network\n    |\n\nPERF401 Use a list comprehension to create a transformed list\n   --> projection.py:757:13\n    |\n755 |           nodes_rows: list[list[str]] = []\n756 |           for node in network.nodes:\n757 | /             nodes_rows.append(\n758 | |                 [\n759 | |                     node.id,\n760 | |                     node.form,\n761 | |                     node.operation,\n762 | |                     node.module,\n763 | |                 ]\n764 | |             )\n    | |_____________^\n765 |           edges_items: list[str] = []\n766 |           for edge in network.edges:\n    |\nhelp: Replace for loop with list comprehension\n\nPERF401 Use a list comprehension to create a transformed list\n   --> projection.py:767:13\n    |\n765 |         edges_items: list[str] = []\n766 |         for edge in network.edges:\n767 |             edges_items.append(f\"{edge.source} \u00e2\u2020\u2019 {edge.target} ({edge.channel})\")\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n768 |         entrypoints_text = \", \".join(network.entrypoints) if network.entrypoints else \"\u00e2\u20ac\u201d\"\n769 |         sinks_text = \", \".join(network.sinks) if network.sinks else \"\u00e2\u20ac\u201d\"\n    |\nhelp: Replace for loop with list comprehension\n\nE501 Line too long (89 > 88)\n   --> projection.py:768:89\n    |\n766 |         for edge in network.edges:\n767 |             edges_items.append(f\"{edge.source} \u00e2\u2020\u2019 {edge.target} ({edge.channel})\")\n768 |         entrypoints_text = \", \".join(network.entrypoints) if network.entrypoints else \"\u00e2\u20ac\u201d\"\n    |                                                                                         ^\n769 |         sinks_text = \", \".join(network.sinks) if network.sinks else \"\u00e2\u20ac\u201d\"\n770 |         policy_summary = \"Unspecified\"\n    |\n\nSLF001 Private member accessed: `_build_status_summary`\n   --> projection.py:782:26\n    |\n780 |             if policy_bits:\n781 |                 policy_summary = \", \".join(policy_bits)\n782 |         status_summary = network._build_status_summary()\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n783 |         missing_forms_obj = status_summary.get(\"missing_forms\", [])\n784 |         missing_forms_list: list[str] = []\n    |\n\nE501 Line too long (103 > 88)\n   --> projection.py:785:89\n    |\n783 |         missing_forms_obj = status_summary.get(\"missing_forms\", [])\n784 |         missing_forms_list: list[str] = []\n785 |         if isinstance(missing_forms_obj, Sequence) and not isinstance(missing_forms_obj, (str, bytes)):\n    |                                                                                         ^^^^^^^^^^^^^^^\n786 |             missing_forms_list = [str(item) for item in missing_forms_obj]\n787 |         missing_forms_text = \", \".join(missing_forms_list) if missing_forms_list else \"none\"\n    |\n\nE501 Line too long (92 > 88)\n   --> projection.py:787:89\n    |\n785 |         if isinstance(missing_forms_obj, Sequence) and not isinstance(missing_forms_obj, (str, bytes)):\n786 |             missing_forms_list = [str(item) for item in missing_forms_obj]\n787 |         missing_forms_text = \", \".join(missing_forms_list) if missing_forms_list else \"none\"\n    |                                                                                         ^^^^\n788 |         paragraph = (\n789 |             \"Snapshot captured by \"\n    |\n\nE501 Line too long (96 > 88)\n   --> projection.py:816:89\n    |\n814 |             if resources.python_requirements:\n815 |                 req_text = \", \".join(resources.python_requirements)\n816 |                 blocks.append({\"kind\": \"paragraph\", \"text\": f\"Python requirements: {req_text}\"})\n    |                                                                                         ^^^^^^^^\n817 |             if resources.data_bundles:\n818 |                 bundle_lines = [\n    |\n\nE501 Line too long (89 > 88)\n   --> projection.py:859:89\n    |\n859 | def write_snapshot(snapshot: ProjectionSnapshot, path: Path, *, indent: int = 2) -> Path:\n    |                                                                                         ^\n860 |     path.parent.mkdir(parents=True, exist_ok=True)\n861 |     payload = snapshot.to_json(indent=indent)\n    |\n\nPLC0415 `import` should be at the top-level of a file\n   --> projection.py:870:9\n    |\n869 |     try:\n870 |         import jsonschema\n    |         ^^^^^^^^^^^^^^^^^\n871 |     except ModuleNotFoundError as exc:  # pragma: no cover - optional dependency guard\n872 |         msg = \"jsonschema is required to validate astral projection snapshots\"\n    |\n\nTRY004 Prefer `TypeError` exception for invalid type\n   --> projection.py:879:9\n    |\n877 |     network_payload = payload.get(\"network\")\n878 |     if not isinstance(network_payload, Mapping):\n879 |         raise ValueError(\"snapshot payload must include a network mapping\")\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n880 |\n881 |     node_entries = network_payload.get(\"nodes\", [])\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:879:15\n    |\n877 |     network_payload = payload.get(\"network\")\n878 |     if not isinstance(network_payload, Mapping):\n879 |         raise ValueError(\"snapshot payload must include a network mapping\")\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n880 |\n881 |     node_entries = network_payload.get(\"nodes\", [])\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> projection.py:879:26\n    |\n877 |     network_payload = payload.get(\"network\")\n878 |     if not isinstance(network_payload, Mapping):\n879 |         raise ValueError(\"snapshot payload must include a network mapping\")\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n880 |\n881 |     node_entries = network_payload.get(\"nodes\", [])\n    |\nhelp: Assign to variable; remove string literal\n\nTRY004 Prefer `TypeError` exception for invalid type\n   --> projection.py:884:9\n    |\n882 |     edge_entries = network_payload.get(\"edges\", [])\n883 |     if not isinstance(node_entries, Sequence) or not isinstance(edge_entries, Sequence):\n884 |         raise ValueError(\"network nodes and edges must be sequences\")\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n885 |\n886 |     node_forms: dict[str, str] = {}\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:884:15\n    |\n882 |     edge_entries = network_payload.get(\"edges\", [])\n883 |     if not isinstance(node_entries, Sequence) or not isinstance(edge_entries, Sequence):\n884 |         raise ValueError(\"network nodes and edges must be sequences\")\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n885 |\n886 |     node_forms: dict[str, str] = {}\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> projection.py:884:26\n    |\n882 |     edge_entries = network_payload.get(\"edges\", [])\n883 |     if not isinstance(node_entries, Sequence) or not isinstance(edge_entries, Sequence):\n884 |         raise ValueError(\"network nodes and edges must be sequences\")\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n885 |\n886 |     node_forms: dict[str, str] = {}\n    |\nhelp: Assign to variable; remove string literal\n\nTRY004 Prefer `TypeError` exception for invalid type\n   --> projection.py:889:13\n    |\n887 |     for entry in node_entries:\n888 |         if not isinstance(entry, Mapping):\n889 |             raise ValueError(\"network nodes must be objects\")\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n890 |         node_id = entry.get(\"id\")\n891 |         node_form = entry.get(\"form\")\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:889:19\n    |\n887 |     for entry in node_entries:\n888 |         if not isinstance(entry, Mapping):\n889 |             raise ValueError(\"network nodes must be objects\")\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n890 |         node_id = entry.get(\"id\")\n891 |         node_form = entry.get(\"form\")\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> projection.py:889:30\n    |\n887 |     for entry in node_entries:\n888 |         if not isinstance(entry, Mapping):\n889 |             raise ValueError(\"network nodes must be objects\")\n    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n890 |         node_id = entry.get(\"id\")\n891 |         node_form = entry.get(\"form\")\n    |\nhelp: Assign to variable; remove string literal\n\nTRY004 Prefer `TypeError` exception for invalid type\n   --> projection.py:893:13\n    |\n891 |         node_form = entry.get(\"form\")\n892 |         if not isinstance(node_id, str) or not isinstance(node_form, str):\n893 |             raise ValueError(\"network node entries must include string id and form\")\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n894 |         node_forms[node_id] = node_form\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:893:19\n    |\n891 |         node_form = entry.get(\"form\")\n892 |         if not isinstance(node_id, str) or not isinstance(node_form, str):\n893 |             raise ValueError(\"network node entries must include string id and form\")\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n894 |         node_forms[node_id] = node_form\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> projection.py:893:30\n    |\n891 |         node_form = entry.get(\"form\")\n892 |         if not isinstance(node_id, str) or not isinstance(node_form, str):\n893 |             raise ValueError(\"network node entries must include string id and form\")\n    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n894 |         node_forms[node_id] = node_form\n    |\nhelp: Assign to variable; remove string literal\n\nTRY004 Prefer `TypeError` exception for invalid type\n   --> projection.py:899:13\n    |\n897 |     for entry in edge_entries:\n898 |         if not isinstance(entry, Mapping):\n899 |             raise ValueError(\"network edges must be objects\")\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n900 |         source = entry.get(\"source\")\n901 |         target = entry.get(\"target\")\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:899:19\n    |\n897 |     for entry in edge_entries:\n898 |         if not isinstance(entry, Mapping):\n899 |             raise ValueError(\"network edges must be objects\")\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n900 |         source = entry.get(\"source\")\n901 |         target = entry.get(\"target\")\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> projection.py:899:30\n    |\n897 |     for entry in edge_entries:\n898 |         if not isinstance(entry, Mapping):\n899 |             raise ValueError(\"network edges must be objects\")\n    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n900 |         source = entry.get(\"source\")\n901 |         target = entry.get(\"target\")\n    |\nhelp: Assign to variable; remove string literal\n\nTRY004 Prefer `TypeError` exception for invalid type\n   --> projection.py:903:13\n    |\n901 |         target = entry.get(\"target\")\n902 |         if not isinstance(source, str) or not isinstance(target, str):\n903 |             raise ValueError(\"network edge entries must include string source and target\")\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n904 |         edge_pairs.append((source, target))\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> projection.py:903:19\n    |\n901 |         target = entry.get(\"target\")\n902 |         if not isinstance(source, str) or not isinstance(target, str):\n903 |             raise ValueError(\"network edge entries must include string source and target\")\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n904 |         edge_pairs.append((source, target))\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> projection.py:903:30\n    |\n901 |         target = entry.get(\"target\")\n902 |         if not isinstance(source, str) or not isinstance(target, str):\n903 |             raise ValueError(\"network edge entries must include string source and target\")\n    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n904 |         edge_pairs.append((source, target))\n    |\nhelp: Assign to variable; remove string literal\n\nE501 Line too long (90 > 88)\n   --> projection.py:903:89\n    |\n901 |         target = entry.get(\"target\")\n902 |         if not isinstance(source, str) or not isinstance(target, str):\n903 |             raise ValueError(\"network edge entries must include string source and target\")\n    |                                                                                         ^^\n904 |         edge_pairs.append((source, target))\n    |\n\nTC003 Move standard library import `collections.abc.Mapping` into a type-checking block\n --> service.py:7:29\n  |\n5 | import argparse\n6 | import logging\n7 | from collections.abc import Mapping\n  |                             ^^^^^^^\n8 | from typing import Any\n  |\nhelp: Move into type-checking block\n\nTRY003 Avoid specifying long messages outside the exception class\n  --> service.py:21:11\n   |\n19 |     from pydantic import BaseModel, Field\n20 | except ModuleNotFoundError as exc:  # pragma: no cover - service requires FastAPI\n21 |     raise ImportError(\"fastapi and pydantic are required to use the astrocyte service\") from exc\n   |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n22 |\n23 | from .astrocyte_gateway import AstrocyteGateway, AstrocyteLocality\n   |\n\nEM101 Exception must not use a string literal, assign to variable first\n  --> service.py:21:23\n   |\n19 |     from pydantic import BaseModel, Field\n20 | except ModuleNotFoundError as exc:  # pragma: no cover - service requires FastAPI\n21 |     raise ImportError(\"fastapi and pydantic are required to use the astrocyte service\") from exc\n   |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n22 |\n23 | from .astrocyte_gateway import AstrocyteGateway, AstrocyteLocality\n   |\nhelp: Assign to variable; remove string literal\n\nE501 Line too long (96 > 88)\n  --> service.py:21:89\n   |\n19 |     from pydantic import BaseModel, Field\n20 | except ModuleNotFoundError as exc:  # pragma: no cover - service requires FastAPI\n21 |     raise ImportError(\"fastapi and pydantic are required to use the astrocyte service\") from exc\n   |                                                                                         ^^^^^^^^\n22 |\n23 | from .astrocyte_gateway import AstrocyteGateway, AstrocyteLocality\n   |\n\nANN202 Missing return type annotation for private function `_authorizer`\n  --> service.py:45:5\n   |\n45 | def _authorizer(expected_key: str | None):\n   |     ^^^^^^^^^^^\n46 |     def dependency(header: str | None = Header(default=None, alias=_API_KEY_HEADER)) -> None:\n47 |         if expected_key and header != expected_key:\n   |\nhelp: Add return type annotation\n\nE501 Line too long (93 > 88)\n  --> service.py:46:89\n   |\n45 | def _authorizer(expected_key: str | None):\n46 |     def dependency(header: str | None = Header(default=None, alias=_API_KEY_HEADER)) -> None:\n   |                                                                                         ^^^^^\n47 |         if expected_key and header != expected_key:\n48 |             raise HTTPException(status_code=status.HTTP_401_UNAUTHORIZED, detail=\"invalid api key\")\n   |\n\nE501 Line too long (99 > 88)\n  --> service.py:48:89\n   |\n46 |     def dependency(header: str | None = Header(default=None, alias=_API_KEY_HEADER)) -> None:\n47 |         if expected_key and header != expected_key:\n48 |             raise HTTPException(status_code=status.HTTP_401_UNAUTHORIZED, detail=\"invalid api key\")\n   |                                                                                         ^^^^^^^^^^^\n49 |\n50 |     return dependency\n   |\n\nFAST002 FastAPI dependency without `Annotated`\n  --> service.py:73:28\n   |\n72 |     @app.get(\"/gateway\")\n73 |     def gateway_descriptor(_: None = Depends(authorize)) -> CapabilitiesResponse:\n   |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n74 |         return CapabilitiesResponse(\n75 |             gateway=astrocyte.descriptor(),\n   |\nhelp: Replace with `typing.Annotated`\n\nFAST002 FastAPI dependency without `Annotated`\n  --> service.py:80:40\n   |\n79 |     @app.post(\"/invoke\")\n80 |     def invoke(request: InvokeRequest, _: None = Depends(authorize)) -> JSONResponse:\n   |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n81 |         LOGGER.debug(\n82 |             \"invoke operation=%s payload_keys=%s\",\n   |\nhelp: Replace with `typing.Annotated`\n\nS104 Possible binding to all interfaces\n   --> service.py:101:17\n    |\n 99 | def serve(\n100 |     *,\n101 |     host: str = \"0.0.0.0\",\n    |                 ^^^^^^^^^\n102 |     port: int = 8080,\n103 |     api_key: str | None = None,\n    |\n\nPLC0415 `import` should be at the top-level of a file\n   --> service.py:108:9\n    |\n107 |     try:\n108 |         import uvicorn\n    |         ^^^^^^^^^^^^^^\n109 |     except ModuleNotFoundError as exc:  # pragma: no cover - optional dependency\n110 |         raise ImportError(\"uvicorn is required to run the astrocyte service\") from exc\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> service.py:110:15\n    |\n108 |         import uvicorn\n109 |     except ModuleNotFoundError as exc:  # pragma: no cover - optional dependency\n110 |         raise ImportError(\"uvicorn is required to run the astrocyte service\") from exc\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n111 |\n112 |     app = create_app(api_key=api_key)\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> service.py:110:27\n    |\n108 |         import uvicorn\n109 |     except ModuleNotFoundError as exc:  # pragma: no cover - optional dependency\n110 |         raise ImportError(\"uvicorn is required to run the astrocyte service\") from exc\n    |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n111 |\n112 |     app = create_app(api_key=api_key)\n    |\nhelp: Assign to variable; remove string literal\n\nE501 Line too long (93 > 88)\n   --> service.py:122:89\n    |\n121 | def _build_cli_parser() -> argparse.ArgumentParser:\n122 |     parser = argparse.ArgumentParser(description=\"Run the astrocyte gateway FastAPI service\")\n    |                                                                                         ^^^^^\n123 |     parser.add_argument(\"--host\", default=\"0.0.0.0\", help=\"Host interface to bind (default: 0.0.0.0)\")\n124 |     parser.add_argument(\"--port\", type=int, default=8080, help=\"Port to bind (default: 8080)\")\n    |\n\nS104 Possible binding to all interfaces\n   --> service.py:123:43\n    |\n121 | def _build_cli_parser() -> argparse.ArgumentParser:\n122 |     parser = argparse.ArgumentParser(description=\"Run the astrocyte gateway FastAPI service\")\n123 |     parser.add_argument(\"--host\", default=\"0.0.0.0\", help=\"Host interface to bind (default: 0.0.0.0)\")\n    |                                           ^^^^^^^^^\n124 |     parser.add_argument(\"--port\", type=int, default=8080, help=\"Port to bind (default: 8080)\")\n125 |     parser.add_argument(\"--api-key\", dest=\"api_key\", help=\"Optional API key required via X-Astrocyte-Key header\")\n    |\n\nE501 Line too long (102 > 88)\n   --> service.py:123:89\n    |\n121 | def _build_cli_parser() -> argparse.ArgumentParser:\n122 |     parser = argparse.ArgumentParser(description=\"Run the astrocyte gateway FastAPI service\")\n123 |     parser.add_argument(\"--host\", default=\"0.0.0.0\", help=\"Host interface to bind (default: 0.0.0.0)\")\n    |                                                                                         ^^^^^^^^^^^^^^\n124 |     parser.add_argument(\"--port\", type=int, default=8080, help=\"Port to bind (default: 8080)\")\n125 |     parser.add_argument(\"--api-key\", dest=\"api_key\", help=\"Optional API key required via X-Astrocyte-Key header\")\n    |\n\nE501 Line too long (94 > 88)\n   --> service.py:124:89\n    |\n122 |     parser = argparse.ArgumentParser(description=\"Run the astrocyte gateway FastAPI service\")\n123 |     parser.add_argument(\"--host\", default=\"0.0.0.0\", help=\"Host interface to bind (default: 0.0.0.0)\")\n124 |     parser.add_argument(\"--port\", type=int, default=8080, help=\"Port to bind (default: 8080)\")\n    |                                                                                         ^^^^^^\n125 |     parser.add_argument(\"--api-key\", dest=\"api_key\", help=\"Optional API key required via X-Astrocyte-Key header\")\n126 |     return parser\n    |\n\nE501 Line too long (113 > 88)\n   --> service.py:125:89\n    |\n123 |     parser.add_argument(\"--host\", default=\"0.0.0.0\", help=\"Host interface to bind (default: 0.0.0.0)\")\n124 |     parser.add_argument(\"--port\", type=int, default=8080, help=\"Port to bind (default: 8080)\")\n125 |     parser.add_argument(\"--api-key\", dest=\"api_key\", help=\"Optional API key required via X-Astrocyte-Key header\")\n    |                                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^\n126 |     return parser\n    |\n\nINP001 File `tests\\test_gateway.py` is part of an implicit namespace package. Add an `__init__.py`.\n--> tests\\test_gateway.py:1:1\n\nTC003 Move standard library import `collections.abc.Mapping` into a type-checking block\n --> tests\\test_gateway.py:3:29\n  |\n1 | from __future__ import annotations\n2 |\n3 | from collections.abc import Mapping\n  |                             ^^^^^^^\n4 | from typing import cast\n  |\nhelp: Move into type-checking block\n\nS101 Use of `assert` detected\n  --> tests\\test_gateway.py:14:5\n   |\n12 |     result = gateway.invoke_json(\"ping\", payload)\n13 |\n14 |     assert result[\"status\"] == \"success\"\n   |     ^^^^^^\n15 |     outputs = cast(\"Mapping[str, object]\", result[\"outputs\"])\n16 |     echo = cast(\"str\", outputs[\"echo\"])\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_gateway.py:17:5\n   |\n15 |     outputs = cast(\"Mapping[str, object]\", result[\"outputs\"])\n16 |     echo = cast(\"str\", outputs[\"echo\"])\n17 |     assert echo == \"hello\"\n   |     ^^^^^^\n18 |     payload_echo = cast(\"Mapping[str, object]\", outputs[\"payload\"])\n19 |     assert payload_echo == payload\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_gateway.py:19:5\n   |\n17 |     assert echo == \"hello\"\n18 |     payload_echo = cast(\"Mapping[str, object]\", outputs[\"payload\"])\n19 |     assert payload_echo == payload\n   |     ^^^^^^\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_gateway.py:27:5\n   |\n25 |     result = gateway.invoke_json(\"emit_string\", payload)\n26 |\n27 |     assert result[\"status\"] == \"success\"\n   |     ^^^^^^\n28 |     outputs = cast(\"Mapping[str, object]\", result[\"outputs\"])\n29 |     strings = cast(\"list[str]\", outputs[\"strings\"])\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_gateway.py:30:5\n   |\n28 |     outputs = cast(\"Mapping[str, object]\", result[\"outputs\"])\n29 |     strings = cast(\"list[str]\", outputs[\"strings\"])\n30 |     assert strings == [\"0:alpha\", \"1:alpha\", \"2:alpha\"]\n   |     ^^^^^^\n   |\n\nE501 Line too long (90 > 88)\n  --> tests\\test_gateway.py:35:89\n   |\n33 | def test_regex_transform_findall_produces_matches() -> None:\n34 |     gateway = AstrocyteGateway(name=\"regex\")\n35 |     payload = {\"text\": \"item-42 and item-93\", \"pattern\": r\"item-(\\d+)\", \"mode\": \"findall\"}\n   |                                                                                         ^^\n36 |     result = gateway.invoke_json(\"regex_transform\", payload)\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_gateway.py:38:5\n   |\n36 |     result = gateway.invoke_json(\"regex_transform\", payload)\n37 |\n38 |     assert result[\"status\"] == \"success\"\n   |     ^^^^^^\n39 |     outputs = cast(\"Mapping[str, object]\", result[\"outputs\"])\n40 |     matches = cast(\"list[object]\", outputs[\"matches\"])\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_gateway.py:41:5\n   |\n39 |     outputs = cast(\"Mapping[str, object]\", result[\"outputs\"])\n40 |     matches = cast(\"list[object]\", outputs[\"matches\"])\n41 |     assert matches == [\"42\", \"93\"]\n   |     ^^^^^^\n42 |     count = cast(\"int\", outputs[\"count\"])\n43 |     assert count == 2\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_gateway.py:43:5\n   |\n41 |     assert matches == [\"42\", \"93\"]\n42 |     count = cast(\"int\", outputs[\"count\"])\n43 |     assert count == 2\n   |     ^^^^^^\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `2` with a constant variable\n  --> tests\\test_gateway.py:43:21\n   |\n41 |     assert matches == [\"42\", \"93\"]\n42 |     count = cast(\"int\", outputs[\"count\"])\n43 |     assert count == 2\n   |                     ^\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_gateway.py:50:5\n   |\n48 |     result = gateway.invoke_json(\"missing\", {})\n49 |\n50 |     assert result[\"status\"] == \"failure\"\n   |     ^^^^^^\n51 |     outputs = cast(\"Mapping[str, object]\", result[\"outputs\"])\n52 |     error_message = cast(\"str\", outputs[\"error\"])\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_gateway.py:53:5\n   |\n51 |     outputs = cast(\"Mapping[str, object]\", result[\"outputs\"])\n52 |     error_message = cast(\"str\", outputs[\"error\"])\n53 |     assert error_message\n   |     ^^^^^^\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_gateway.py:65:5\n   |\n63 |     result = gateway.execute(\"invoke_module\", payload)\n64 |\n65 |     assert result.status == \"success\"\n   |     ^^^^^^\n66 |     outputs = result.outputs\n67 |     assert outputs[\"module\"] == \"x_make_yahw_x.x_cls_make_yahw_x\"\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_gateway.py:67:5\n   |\n65 |     assert result.status == \"success\"\n66 |     outputs = result.outputs\n67 |     assert outputs[\"module\"] == \"x_make_yahw_x.x_cls_make_yahw_x\"\n   |     ^^^^^^\n68 |     assert outputs[\"entrypoint\"] == \"main_json\"\n69 |     result_payload = cast(\"Mapping[str, object]\", outputs[\"result\"])\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_gateway.py:68:5\n   |\n66 |     outputs = result.outputs\n67 |     assert outputs[\"module\"] == \"x_make_yahw_x.x_cls_make_yahw_x\"\n68 |     assert outputs[\"entrypoint\"] == \"main_json\"\n   |     ^^^^^^\n69 |     result_payload = cast(\"Mapping[str, object]\", outputs[\"result\"])\n70 |     assert result_payload[\"status\"] == \"success\"\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_gateway.py:70:5\n   |\n68 |     assert outputs[\"entrypoint\"] == \"main_json\"\n69 |     result_payload = cast(\"Mapping[str, object]\", outputs[\"result\"])\n70 |     assert result_payload[\"status\"] == \"success\"\n   |     ^^^^^^\n   |\n\nINP001 File `tests\\test_projection.py` is part of an implicit namespace package. Add an `__init__.py`.\n--> tests\\test_projection.py:1:1\n\nTC003 Move standard library import `collections.abc.Mapping` into a type-checking block\n --> tests\\test_projection.py:4:29\n  |\n3 | import json\n4 | from collections.abc import Mapping, Sequence\n  |                             ^^^^^^^\n5 | from pathlib import Path\n6 | from typing import Any, cast\n  |\nhelp: Move into type-checking block\n\nTC003 Move standard library import `collections.abc.Sequence` into a type-checking block\n --> tests\\test_projection.py:4:38\n  |\n3 | import json\n4 | from collections.abc import Mapping, Sequence\n  |                                      ^^^^^^^^\n5 | from pathlib import Path\n6 | from typing import Any, cast\n  |\nhelp: Move into type-checking block\n\nTC003 Move standard library import `pathlib.Path` into a type-checking block\n --> tests\\test_projection.py:5:21\n  |\n3 | import json\n4 | from collections.abc import Mapping, Sequence\n5 | from pathlib import Path\n  |                     ^^^^\n6 | from typing import Any, cast\n  |\nhelp: Move into type-checking block\n\nE402 Module level import not at top of file\n  --> tests\\test_projection.py:13:1\n   |\n11 |   jsonschema_validate = jsonschema.validate\n12 |\n13 | / from x_make_astrocyte_gateway_x import (\n14 | |     ASTRAL_SCHEMA_VERSION,\n15 | |     ExecutionPolicy,\n16 | |     ProjectionDataBundle,\n17 | |     ProjectionEdge,\n18 | |     ProjectionNetwork,\n19 | |     ProjectionNode,\n20 | |     ProjectionOrigin,\n21 | |     ProjectionResources,\n22 | |     ProjectionSnapshot,\n23 | |     ProjectionTelemetry,\n24 | |     canonicalize_form,\n25 | |     write_snapshot,\n26 | | )\n   | |_^\n27 |   from x_make_graphviz_x.json_contracts import INPUT_SCHEMA as GRAPHVIZ_INPUT_SCHEMA\n28 |   from x_make_markdown_x.json_contracts import INPUT_SCHEMA as MARKDOWN_INPUT_SCHEMA\n   |\n\nE402 Module level import not at top of file\n  --> tests\\test_projection.py:27:1\n   |\n25 |     write_snapshot,\n26 | )\n27 | from x_make_graphviz_x.json_contracts import INPUT_SCHEMA as GRAPHVIZ_INPUT_SCHEMA\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n28 | from x_make_markdown_x.json_contracts import INPUT_SCHEMA as MARKDOWN_INPUT_SCHEMA\n   |\n\nE402 Module level import not at top of file\n  --> tests\\test_projection.py:28:1\n   |\n26 | )\n27 | from x_make_graphviz_x.json_contracts import INPUT_SCHEMA as GRAPHVIZ_INPUT_SCHEMA\n28 | from x_make_markdown_x.json_contracts import INPUT_SCHEMA as MARKDOWN_INPUT_SCHEMA\n   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n   |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:122:5\n    |\n120 |     )\n121 |\n122 |     assert node_gateway.form == \"Form_1\"\n    |     ^^^^^^\n123 |     assert node_monad.form == \"Form_2\"\n124 |     assert node_wormhole.form == \"Form_3\"\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:123:5\n    |\n122 |     assert node_gateway.form == \"Form_1\"\n123 |     assert node_monad.form == \"Form_2\"\n    |     ^^^^^^\n124 |     assert node_wormhole.form == \"Form_3\"\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:124:5\n    |\n122 |     assert node_gateway.form == \"Form_1\"\n123 |     assert node_monad.form == \"Form_2\"\n124 |     assert node_wormhole.form == \"Form_3\"\n    |     ^^^^^^\n    |\n\nPT011 `pytest.raises(ValueError)` is too broad, set the `match` parameter or use a more specific exception\n   --> tests\\test_projection.py:128:24\n    |\n127 | def test_canonicalize_form_rejects_unknown_alias() -> None:\n128 |     with pytest.raises(ValueError):\n    |                        ^^^^^^^^^^\n129 |         canonicalize_form(\"astral_portal\")\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:136:5\n    |\n134 |     payload = cast(\"dict[str, object]\", snapshot.to_dict())\n135 |\n136 |     assert cast(\"str\", payload[\"schema_version\"]) == ASTRAL_SCHEMA_VERSION\n    |     ^^^^^^\n137 |     assert cast(\"str\", payload[\"id\"]) == \"fibonacci_swarm\"\n138 |     origin_payload = cast(\"Mapping[str, Any]\", payload[\"origin\"])\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:137:5\n    |\n136 |     assert cast(\"str\", payload[\"schema_version\"]) == ASTRAL_SCHEMA_VERSION\n137 |     assert cast(\"str\", payload[\"id\"]) == \"fibonacci_swarm\"\n    |     ^^^^^^\n138 |     origin_payload = cast(\"Mapping[str, Any]\", payload[\"origin\"])\n139 |     assert origin_payload[\"workspace_root\"] == \"C:/x_runner_x\"\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:139:5\n    |\n137 |     assert cast(\"str\", payload[\"id\"]) == \"fibonacci_swarm\"\n138 |     origin_payload = cast(\"Mapping[str, Any]\", payload[\"origin\"])\n139 |     assert origin_payload[\"workspace_root\"] == \"C:/x_runner_x\"\n    |     ^^^^^^\n140 |     network_payload = cast(\"Mapping[str, Any]\", payload[\"network\"])\n141 |     nodes_field = network_payload[\"nodes\"]\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:145:5\n    |\n143 |     nodes_payload = list(nodes_raw)\n144 |     node_ids = {node[\"id\"] for node in nodes_payload}\n145 |     assert node_ids == {\"seed\", \"accumulator\", \"collector\"}\n    |     ^^^^^^\n146 |     form_lookup = {node[\"id\"]: node[\"form\"] for node in nodes_payload}\n147 |     assert form_lookup == {\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:147:5\n    |\n145 |     assert node_ids == {\"seed\", \"accumulator\", \"collector\"}\n146 |     form_lookup = {node[\"id\"]: node[\"form\"] for node in nodes_payload}\n147 |     assert form_lookup == {\n    |     ^^^^^^\n148 |         \"seed\": \"Form_1\",\n149 |         \"accumulator\": \"Form_2\",\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:153:5\n    |\n151 |     }\n152 |     resources_payload = cast(\"Mapping[str, Any]\", payload[\"resources\"])\n153 |     assert resources_payload[\"python_requirements\"] == [\"numpy==2.1.0\"]\n    |     ^^^^^^\n154 |     bundles_field = resources_payload[\"data_bundles\"]\n155 |     bundles_raw = cast(\"Sequence[Mapping[str, Any]]\", bundles_field)\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:157:5\n    |\n155 |     bundles_raw = cast(\"Sequence[Mapping[str, Any]]\", bundles_field)\n156 |     bundles = list(bundles_raw)\n157 |     assert bundles[0][\"encrypted\"] is True\n    |     ^^^^^^\n158 |     telemetry_payload = cast(\"Mapping[str, Any]\", payload[\"telemetry\"])\n159 |     assert telemetry_payload[\"log_level\"] == \"INFO\"\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:159:5\n    |\n157 |     assert bundles[0][\"encrypted\"] is True\n158 |     telemetry_payload = cast(\"Mapping[str, Any]\", payload[\"telemetry\"])\n159 |     assert telemetry_payload[\"log_level\"] == \"INFO\"\n    |     ^^^^^^\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:168:5\n    |\n166 |     write_snapshot(snapshot, output_path)\n167 |\n168 |     assert output_path.exists()\n    |     ^^^^^^\n169 |     data = json.loads(output_path.read_text(encoding=\"utf-8\"))\n170 |     assert data[\"schema_version\"] == ASTRAL_SCHEMA_VERSION\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:170:5\n    |\n168 |     assert output_path.exists()\n169 |     data = json.loads(output_path.read_text(encoding=\"utf-8\"))\n170 |     assert data[\"schema_version\"] == ASTRAL_SCHEMA_VERSION\n    |     ^^^^^^\n    |\n\nPT011 `pytest.raises(ValueError)` is too broad, set the `match` parameter or use a more specific exception\n   --> tests\\test_projection.py:180:24\n    |\n178 |         module=\"mod\",\n179 |     )\n180 |     with pytest.raises(ValueError):\n    |                        ^^^^^^^^^^\n181 |         ProjectionNetwork(nodes=(node,), entrypoints=(\"missing\",))\n    |\n\nPT011 `pytest.raises(ValueError)` is too broad, set the `match` parameter or use a more specific exception\n   --> tests\\test_projection.py:219:24\n    |\n217 |         module=\"astro.finish\",\n218 |     )\n219 |     with pytest.raises(ValueError):\n    |                        ^^^^^^^^^^\n220 |         ProjectionNetwork(\n221 |             nodes=(begin, end),\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:270:5\n    |\n269 |     parameters = cast(\"Mapping[str, Any]\", graph_payload[\"parameters\"])\n270 |     assert graph_payload[\"command\"] == \"x_make_graphviz_x\"\n    |     ^^^^^^\n271 |     assert parameters[\"directed\"] is True\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:271:5\n    |\n269 |     parameters = cast(\"Mapping[str, Any]\", graph_payload[\"parameters\"])\n270 |     assert graph_payload[\"command\"] == \"x_make_graphviz_x\"\n271 |     assert parameters[\"directed\"] is True\n    |     ^^^^^^\n272 |\n273 |     nodes = cast(\"Sequence[Mapping[str, Any]]\", parameters[\"nodes\"])\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:275:5\n    |\n273 |     nodes = cast(\"Sequence[Mapping[str, Any]]\", parameters[\"nodes\"])\n274 |     node_index = {node[\"id\"]: node for node in nodes}\n275 |     assert set(node_index) == {\"seed\", \"accumulator\", \"collector\"}\n    |     ^^^^^^\n276 |     accumulator = node_index[\"accumulator\"]\n277 |     assert accumulator[\"label\"].startswith(\"Form_2\")\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:277:5\n    |\n275 |     assert set(node_index) == {\"seed\", \"accumulator\", \"collector\"}\n276 |     accumulator = node_index[\"accumulator\"]\n277 |     assert accumulator[\"label\"].startswith(\"Form_2\")\n    |     ^^^^^^\n278 |     acc_attrs = cast(\"Mapping[str, Any]\", accumulator[\"attributes\"])\n279 |     assert acc_attrs[\"form\"] == \"Form_2\"\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:279:5\n    |\n277 |     assert accumulator[\"label\"].startswith(\"Form_2\")\n278 |     acc_attrs = cast(\"Mapping[str, Any]\", accumulator[\"attributes\"])\n279 |     assert acc_attrs[\"form\"] == \"Form_2\"\n    |     ^^^^^^\n280 |     assert acc_attrs[\"operation\"] == \"accumulate\"\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:280:5\n    |\n278 |     acc_attrs = cast(\"Mapping[str, Any]\", accumulator[\"attributes\"])\n279 |     assert acc_attrs[\"form\"] == \"Form_2\"\n280 |     assert acc_attrs[\"operation\"] == \"accumulate\"\n    |     ^^^^^^\n281 |\n282 |     edges = cast(\"Sequence[Mapping[str, Any]]\", parameters[\"edges\"])\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:285:5\n    |\n283 |     transition = edges[0]\n284 |     edge_attrs = cast(\"Mapping[str, Any]\", transition[\"attributes\"])\n285 |     assert edge_attrs[\"channel\"] == \"sequence\"\n    |     ^^^^^^\n286 |     assert edge_attrs[\"source_form\"] == \"Form_1\"\n287 |     assert edge_attrs[\"target_form\"] == \"Form_2\"\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:286:5\n    |\n284 |     edge_attrs = cast(\"Mapping[str, Any]\", transition[\"attributes\"])\n285 |     assert edge_attrs[\"channel\"] == \"sequence\"\n286 |     assert edge_attrs[\"source_form\"] == \"Form_1\"\n    |     ^^^^^^\n287 |     assert edge_attrs[\"target_form\"] == \"Form_2\"\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:287:5\n    |\n285 |     assert edge_attrs[\"channel\"] == \"sequence\"\n286 |     assert edge_attrs[\"source_form\"] == \"Form_1\"\n287 |     assert edge_attrs[\"target_form\"] == \"Form_2\"\n    |     ^^^^^^\n288 |\n289 |     graph_attrs = cast(\"Mapping[str, Any]\", parameters[\"graph_attributes\"])\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:290:5\n    |\n289 |     graph_attrs = cast(\"Mapping[str, Any]\", parameters[\"graph_attributes\"])\n290 |     assert \"entrypoints\" in graph_attrs\n    |     ^^^^^^\n291 |     assert \"sinks\" in graph_attrs\n292 |     status_summary = cast(\"Mapping[str, Any]\", graph_attrs[\"status_summary\"])\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:291:5\n    |\n289 |     graph_attrs = cast(\"Mapping[str, Any]\", parameters[\"graph_attributes\"])\n290 |     assert \"entrypoints\" in graph_attrs\n291 |     assert \"sinks\" in graph_attrs\n    |     ^^^^^^\n292 |     status_summary = cast(\"Mapping[str, Any]\", graph_attrs[\"status_summary\"])\n293 |     assert status_summary[\"has_all_forms\"] is True\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:293:5\n    |\n291 |     assert \"sinks\" in graph_attrs\n292 |     status_summary = cast(\"Mapping[str, Any]\", graph_attrs[\"status_summary\"])\n293 |     assert status_summary[\"has_all_forms\"] is True\n    |     ^^^^^^\n294 |     assert status_summary[\"execution_policy_defined\"] is True\n295 |     dimensions = cast(\"Mapping[str, Any]\", graph_attrs[\"dimensions\"])\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:294:5\n    |\n292 |     status_summary = cast(\"Mapping[str, Any]\", graph_attrs[\"status_summary\"])\n293 |     assert status_summary[\"has_all_forms\"] is True\n294 |     assert status_summary[\"execution_policy_defined\"] is True\n    |     ^^^^^^\n295 |     dimensions = cast(\"Mapping[str, Any]\", graph_attrs[\"dimensions\"])\n296 |     assert dimensions[\"node_count\"] == 3\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:296:5\n    |\n294 |     assert status_summary[\"execution_policy_defined\"] is True\n295 |     dimensions = cast(\"Mapping[str, Any]\", graph_attrs[\"dimensions\"])\n296 |     assert dimensions[\"node_count\"] == 3\n    |     ^^^^^^\n297 |     assert dimensions[\"edge_count\"] == 2\n    |\n\nPLR2004 Magic value used in comparison, consider replacing `3` with a constant variable\n   --> tests\\test_projection.py:296:40\n    |\n294 |     assert status_summary[\"execution_policy_defined\"] is True\n295 |     dimensions = cast(\"Mapping[str, Any]\", graph_attrs[\"dimensions\"])\n296 |     assert dimensions[\"node_count\"] == 3\n    |                                        ^\n297 |     assert dimensions[\"edge_count\"] == 2\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:297:5\n    |\n295 |     dimensions = cast(\"Mapping[str, Any]\", graph_attrs[\"dimensions\"])\n296 |     assert dimensions[\"node_count\"] == 3\n297 |     assert dimensions[\"edge_count\"] == 2\n    |     ^^^^^^\n    |\n\nPLR2004 Magic value used in comparison, consider replacing `2` with a constant variable\n   --> tests\\test_projection.py:297:40\n    |\n295 |     dimensions = cast(\"Mapping[str, Any]\", graph_attrs[\"dimensions\"])\n296 |     assert dimensions[\"node_count\"] == 3\n297 |     assert dimensions[\"edge_count\"] == 2\n    |                                        ^\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:313:5\n    |\n311 |     blocks = cast(\"Sequence[Mapping[str, Any]]\", document[\"blocks\"])\n312 |     headers = [block for block in blocks if block.get(\"kind\") == \"header\"]\n313 |     assert any(block.get(\"text\") == \"Nodes\" for block in headers)\n    |     ^^^^^^\n314 |     tables = [block for block in blocks if block.get(\"kind\") == \"table\"]\n315 |     assert tables, \"markdown document must include nodes table\"\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:315:5\n    |\n313 |     assert any(block.get(\"text\") == \"Nodes\" for block in headers)\n314 |     tables = [block for block in blocks if block.get(\"kind\") == \"table\"]\n315 |     assert tables, \"markdown document must include nodes table\"\n    |     ^^^^^^\n316 |     table = tables[0]\n317 |     rows = cast(\"Sequence[Sequence[str]]\", table[\"rows\"])\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:318:5\n    |\n316 |     table = tables[0]\n317 |     rows = cast(\"Sequence[Sequence[str]]\", table[\"rows\"])\n318 |     assert any(row[0] == \"accumulator\" for row in rows)\n    |     ^^^^^^\n319 |     first_paragraph = blocks[1]\n320 |     assert \"Missing forms: none\" in first_paragraph[\"text\"]\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_projection.py:320:5\n    |\n318 |     assert any(row[0] == \"accumulator\" for row in rows)\n319 |     first_paragraph = blocks[1]\n320 |     assert \"Missing forms: none\" in first_paragraph[\"text\"]\n    |     ^^^^^^\n    |\n\nINP001 File `tests\\test_projection_validation.py` is part of an implicit namespace package. Add an `__init__.py`.\n--> tests\\test_projection_validation.py:1:1\n\nTC003 Move standard library import `collections.abc.Sequence` into a type-checking block\n --> tests\\test_projection_validation.py:3:29\n  |\n1 | from __future__ import annotations\n2 |\n3 | from collections.abc import Sequence\n  |                             ^^^^^^^^\n4 | from datetime import UTC, datetime\n5 | from typing import Any, cast\n  |\nhelp: Move into type-checking block\n\nRET504 Unnecessary assignment to `snapshot` before `return` statement\n  --> tests\\test_projection_validation.py:86:12\n   |\n84 |         description=\"Sample snapshot for validation tests\",\n85 |     )\n86 |     return snapshot\n   |            ^^^^^^^^\n   |\nhelp: Remove unnecessary assignment\n\nPT011 `pytest.raises(ValueError)` is too broad, set the `match` parameter or use a more specific exception\n   --> tests\\test_projection_validation.py:135:24\n    |\n133 |     network_payload[\"edges\"] = edges  # type: ignore[index]\n134 |\n135 |     with pytest.raises(ValueError):\n    |                        ^^^^^^^^^^\n136 |         validate_snapshot_payload(payload)\n    |\n\nINP001 File `tests\\test_service.py` is part of an implicit namespace package. Add an `__init__.py`.\n--> tests\\test_service.py:1:1\n\nTC003 Move standard library import `collections.abc.Mapping` into a type-checking block\n --> tests\\test_service.py:3:29\n  |\n1 | from __future__ import annotations\n2 |\n3 | from collections.abc import Mapping\n  |                             ^^^^^^^\n4 | from pathlib import Path\n5 | from typing import TYPE_CHECKING, Any, cast\n  |\nhelp: Move into type-checking block\n\nPGH003 Use specific rule codes when ignoring type issues\n  --> tests\\test_service.py:17:44\n   |\n15 | httpx = cast(\"httpx_module\", pytest.importorskip(\"httpx\"))\n16 |\n17 | from fastapi.testclient import TestClient  # type: ignore  # noqa: E402\n   |                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n18 |\n19 | from interface.gui.environment_studio.services import EnvironmentService  # noqa: E402\n   |\n\nANN401 Dynamically typed expressions (typing.Any) are disallowed in `response`\n  --> tests\\test_service.py:23:34\n   |\n22 | class _ResponseAdapter:\n23 |     def __init__(self, response: Any) -> None:\n   |                                  ^^^\n24 |         self._response = response\n25 |         self.status_code = response.status_code\n   |\n\nANN401 Dynamically typed expressions (typing.Any) are disallowed in `json`\n  --> tests\\test_service.py:27:23\n   |\n25 |         self.status_code = response.status_code\n26 |\n27 |     def json(self) -> Any:\n   |                       ^^^\n28 |         return self._response.json()\n   |\n\nE402 Module level import not at top of file\n  --> tests\\test_service.py:47:1\n   |\n45 |       write_snapshot,\n46 |   )\n47 | / from x_make_astrocyte_gateway_x.tests.test_projection import (\n48 | |     _build_sample_snapshot,\n49 | | )\n   | |_^\n   |\n\nANN001 Missing type annotation for function argument `gateway_app`\n  --> tests\\test_service.py:58:34\n   |\n58 | def test_service_invoke_endpoint(gateway_app) -> None:\n   |                                  ^^^^^^^^^^^\n59 |     client = TestClient(gateway_app)  # type: ignore[arg-type]\n60 |     response = client.post(\"/invoke\", json={\"operation\": \"ping\", \"payload\": {\"message\": \"hi\"}})\n   |\n\nE501 Line too long (95 > 88)\n  --> tests\\test_service.py:60:89\n   |\n58 | def test_service_invoke_endpoint(gateway_app) -> None:\n59 |     client = TestClient(gateway_app)  # type: ignore[arg-type]\n60 |     response = client.post(\"/invoke\", json={\"operation\": \"ping\", \"payload\": {\"message\": \"hi\"}})\n   |                                                                                         ^^^^^^^\n61 |     assert response.status_code == 200\n62 |     data = cast(\"Mapping[str, Any]\", response.json())\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_service.py:61:5\n   |\n59 |     client = TestClient(gateway_app)  # type: ignore[arg-type]\n60 |     response = client.post(\"/invoke\", json={\"operation\": \"ping\", \"payload\": {\"message\": \"hi\"}})\n61 |     assert response.status_code == 200\n   |     ^^^^^^\n62 |     data = cast(\"Mapping[str, Any]\", response.json())\n63 |     assert data[\"status\"] == \"success\"\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `200` with a constant variable\n  --> tests\\test_service.py:61:36\n   |\n59 |     client = TestClient(gateway_app)  # type: ignore[arg-type]\n60 |     response = client.post(\"/invoke\", json={\"operation\": \"ping\", \"payload\": {\"message\": \"hi\"}})\n61 |     assert response.status_code == 200\n   |                                    ^^^\n62 |     data = cast(\"Mapping[str, Any]\", response.json())\n63 |     assert data[\"status\"] == \"success\"\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_service.py:63:5\n   |\n61 |     assert response.status_code == 200\n62 |     data = cast(\"Mapping[str, Any]\", response.json())\n63 |     assert data[\"status\"] == \"success\"\n   |     ^^^^^^\n64 |     outputs = cast(\"Mapping[str, Any]\", data[\"outputs\"])\n65 |     assert outputs[\"echo\"] == \"hi\"\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_service.py:65:5\n   |\n63 |     assert data[\"status\"] == \"success\"\n64 |     outputs = cast(\"Mapping[str, Any]\", data[\"outputs\"])\n65 |     assert outputs[\"echo\"] == \"hi\"\n   |     ^^^^^^\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_service.py:72:5\n   |\n70 |     client = TestClient(secured_app)  # type: ignore[arg-type]\n71 |     response = client.post(\"/invoke\", json={\"operation\": \"ping\"})\n72 |     assert response.status_code == 401\n   |     ^^^^^^\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `401` with a constant variable\n  --> tests\\test_service.py:72:36\n   |\n70 |     client = TestClient(secured_app)  # type: ignore[arg-type]\n71 |     response = client.post(\"/invoke\", json={\"operation\": \"ping\"})\n72 |     assert response.status_code == 401\n   |                                    ^^^\n   |\n\nANN001 Missing type annotation for function argument `app`\n  --> tests\\test_service.py:76:24\n   |\n75 | class _HttpxTestClientAdapter:\n76 |     def __init__(self, app) -> None:\n   |                        ^^^\n77 |         self._client = TestClient(app)  # type: ignore[arg-type]\n   |\n\nE501 Line too long (91 > 88)\n  --> tests\\test_service.py:79:89\n   |\n77 |         self._client = TestClient(app)  # type: ignore[arg-type]\n78 |\n79 |     def get(self, url: str, *, headers: Mapping[str, str] | None = None) -> _HttpxResponse:  # type: ignore[override]\n   |                                                                                         ^^^\n80 |         response = self._client.get(url, headers=headers)  # type: ignore[call-arg]\n81 |         return _ResponseAdapter(response)\n   |\n\nANN001 Missing type annotation for function argument `gateway_app`\n  --> tests\\test_service.py:97:50\n   |\n97 | def test_remote_gateway_executes_against_service(gateway_app) -> None:\n   |                                                  ^^^^^^^^^^^\n98 |     http_client = _HttpxTestClientAdapter(gateway_app)\n99 |     with RemoteAstrocyteGateway(base_url=\"http://testserver\", client=http_client) as remote:\n   |\n\nE501 Line too long (92 > 88)\n   --> tests\\test_service.py:99:89\n    |\n 97 | def test_remote_gateway_executes_against_service(gateway_app) -> None:\n 98 |     http_client = _HttpxTestClientAdapter(gateway_app)\n 99 |     with RemoteAstrocyteGateway(base_url=\"http://testserver\", client=http_client) as remote:\n    |                                                                                         ^^^^\n100 |         result = remote.execute(\"ping\", {\"message\": \"remote\"})\n101 |         assert result.status == \"success\"\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_service.py:101:9\n    |\n 99 |     with RemoteAstrocyteGateway(base_url=\"http://testserver\", client=http_client) as remote:\n100 |         result = remote.execute(\"ping\", {\"message\": \"remote\"})\n101 |         assert result.status == \"success\"\n    |         ^^^^^^\n102 |         assert result.outputs[\"echo\"] == \"remote\"\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_service.py:102:9\n    |\n100 |         result = remote.execute(\"ping\", {\"message\": \"remote\"})\n101 |         assert result.status == \"success\"\n102 |         assert result.outputs[\"echo\"] == \"remote\"\n    |         ^^^^^^\n    |\n\nE501 Line too long (92 > 88)\n   --> tests\\test_service.py:113:89\n    |\n113 | def test_environment_service_render_projection_graphviz(sample_snapshot_file: Path) -> None:\n    |                                                                                         ^^^^\n114 |     service = EnvironmentService()\n115 |     payload = service.render_projection_graphviz(sample_snapshot_file)\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_service.py:118:5\n    |\n117 |     result = cast(\"Mapping[str, Any]\", payload[\"result\"])\n118 |     assert result.get(\"status\") == \"success\"\n    |     ^^^^^^\n119 |     assert payload[\"dot_source\"]\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_service.py:119:5\n    |\n117 |     result = cast(\"Mapping[str, Any]\", payload[\"result\"])\n118 |     assert result.get(\"status\") == \"success\"\n119 |     assert payload[\"dot_source\"]\n    |     ^^^^^^\n120 |\n121 |     status_summary = cast(\"Mapping[str, Any]\", payload[\"status_summary\"])\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_service.py:122:5\n    |\n121 |     status_summary = cast(\"Mapping[str, Any]\", payload[\"status_summary\"])\n122 |     assert status_summary.get(\"has_all_forms\") is True\n    |     ^^^^^^\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_service.py:134:5\n    |\n133 |     result = cast(\"Mapping[str, Any]\", payload[\"result\"])\n134 |     assert result.get(\"status\") == \"success\"\n    |     ^^^^^^\n135 |     generated_path = Path(str(payload[\"output_path\"]))\n136 |     assert generated_path.exists()\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_service.py:136:5\n    |\n134 |     assert result.get(\"status\") == \"success\"\n135 |     generated_path = Path(str(payload[\"output_path\"]))\n136 |     assert generated_path.exists()\n    |     ^^^^^^\n    |\n\nINP001 File `tools\\ui_projection_smoke.py` is part of an implicit namespace package. Add an `__init__.py`.\n--> tools\\ui_projection_smoke.py:1:1\n\nTC003 Move standard library import `collections.abc.Mapping` into a type-checking block\n  --> tools\\ui_projection_smoke.py:13:29\n   |\n11 | import json\n12 | import tempfile\n13 | from collections.abc import Mapping\n   |                             ^^^^^^^\n14 | from pathlib import Path\n15 | from typing import Any\n   |\nhelp: Move into type-checking block\n\nE501 Line too long (100 > 88)\n  --> x_cls_make_astrocyte_gateway_x.py:37:89\n   |\n36 | def main() -> dict[str, object]:\n37 |     return main_json({\"command\": \"x_make_astrocyte_gateway_x\", \"parameters\": {\"operation\": \"ping\"}})\n   |                                                                                         ^^^^^^^^^^^^\n   |\n\nE501 Line too long (93 > 88)\n  --> x_cls_make_astrocyte_gateway_x.py:91:89\n   |\n89 |     gateway = AstrocyteGateway(name=name, role=role, locality=locality)\n90 |\n91 |     result_payload = gateway.invoke_json(operation, payload_mapping, options=options_mapping)\n   |                                                                                         ^^^^^\n92 |\n93 |     status_obj = result_payload.get(\"status\")\n   |\n\nE501 Line too long (100 > 88)\n   --> x_cls_make_astrocyte_gateway_x.py:115:89\n    |\n114 |     messages_obj = result_payload.get(\"messages\")\n115 |     if isinstance(messages_obj, Sequence) and not isinstance(messages_obj, (str, bytes, bytearray)):\n    |                                                                                         ^^^^^^^^^^^^\n116 |         success_payload[\"messages\"] = [str(entry) for entry in messages_obj]\n    |\n\nTRY003 Avoid specifying long messages outside the exception class\n   --> x_cls_make_astrocyte_gateway_x.py:176:19\n    |\n174 |         loaded: object = json.load(handle)\n175 |         if not isinstance(loaded, Mapping):\n176 |             raise TypeError(\"JSON payload must be an object\")\n    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n177 |         return cast(\"Mapping[str, object]\", loaded)\n    |\n\nEM101 Exception must not use a string literal, assign to variable first\n   --> x_cls_make_astrocyte_gateway_x.py:176:29\n    |\n174 |         loaded: object = json.load(handle)\n175 |         if not isinstance(loaded, Mapping):\n176 |             raise TypeError(\"JSON payload must be an object\")\n    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n177 |         return cast(\"Mapping[str, object]\", loaded)\n    |\nhelp: Assign to variable; remove string literal\n\nE501 Line too long (90 > 88)\n   --> x_cls_make_astrocyte_gateway_x.py:186:89\n    |\n185 | def _run_json_cli(args: Sequence[str]) -> None:\n186 |     parser = argparse.ArgumentParser(description=\"x_make_astrocyte_gateway_x JSON runner\")\n    |                                                                                         ^^\n187 |     parser.add_argument(\"--json\", action=\"store_true\", help=\"Read JSON payload from stdin\")\n188 |     parser.add_argument(\"--json-file\", type=str, help=\"Path to JSON payload file\")\n    |\n\nE501 Line too long (91 > 88)\n   --> x_cls_make_astrocyte_gateway_x.py:187:89\n    |\n185 | def _run_json_cli(args: Sequence[str]) -> None:\n186 |     parser = argparse.ArgumentParser(description=\"x_make_astrocyte_gateway_x JSON runner\")\n187 |     parser.add_argument(\"--json\", action=\"store_true\", help=\"Read JSON payload from stdin\")\n    |                                                                                         ^^^\n188 |     parser.add_argument(\"--json-file\", type=str, help=\"Path to JSON payload file\")\n189 |     parsed = parser.parse_args(args)\n    |\n\nFound 269 errors.\nNo fixes available (65 hidden fixes can be enabled with the `--unsafe-fixes` option).\n",
                "tool": "ruff_fix",
                "tool_module": "ruff",
                "tool_version": "ruff 0.14.4"
            },
            "exit": "exit 1",
            "message": "ruff_fix failed for x_make_astrocyte_gateway_x (exit 1)\ncwd: C:\\x_runner_x\\x_make_astrocyte_gateway_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311\nstarted_at: 2025-11-10T06:12:32.954295+00:00\nduration: 0.241s\ntool_version: ruff 0.14.4\nstdout:\nANN202 Missing return type annotation for private function `_fastapi_missing`\n  --> __init__.py:42:9\n   |\n40 |     app = None  # type: ignore[assignment]\n41 |\n\u2026\nstderr:\n<empty>",
            "repo": "x_make_astrocyte_gateway_x",
            "repo_path": "C:\\x_runner_x\\x_make_astrocyte_gateway_x",
            "stderr_preview": null,
            "stdout_preview": "ANN202 Missing return type annotation for private function `_fastapi_missing`\n  --> __init__.py:42:9\n   |\n40 |     app = None  # type: ignore[assignment]\n41 |\n\u2026",
            "suggested_action": "Investigate",
            "summary": "ruff_fix failed for x_make_astrocyte_gateway_x (exit 1) cwd: C:\\x_runner_x\\x_make_astrocyte_gateway_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T2\u2026",
            "tool": "ruff_fix",
            "tool_version": "ruff 0.14.4"
        },
        {
            "captured_at": "2025-11-10T06:12:54.566447+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "ruff",
                    "check",
                    ".",
                    "--select",
                    "ALL",
                    "--ignore",
                    "D,COM812,ISC001,T20",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
                "cwd": "C:\\x_runner_x\\x_make_contract_validators_x",
                "duration_seconds": 0.13098580000223592,
                "ended_at": "2025-11-10T06:12:54.566447+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "tests/__init__.py",
                    "tests/test_contract_validators.py",
                    "x_cls_make_contract_validators_x.py"
                ],
                "repo": "x_make_contract_validators_x",
                "repo_hash": "382023c4f879dfe465d568aa5ae1e2854c0dd33f38472b7d7416215db6525045",
                "repo_path": "C:\\x_runner_x\\x_make_contract_validators_x",
                "started_at": "2025-11-10T06:12:54.435463+00:00",
                "stderr": "",
                "stdout": "TC003 Move standard library import `pathlib` into a type-checking block\n --> tests\\test_contract_validators.py:5:8\n  |\n3 | # ruff: noqa: S101\n4 | import json\n5 | import pathlib\n  |        ^^^^^^^\n6 | from typing import TYPE_CHECKING, cast\n  |\nhelp: Move into type-checking block\n\nPLC0415 `import` should be at the top-level of a file\n  --> x_cls_make_contract_validators_x.py:47:9\n   |\n45 | def _load_validator() -> type[_DraftValidatorProtocol]:\n46 |     try:\n47 |         from jsonschema.validators import Draft202012Validator\n   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n48 |     except ImportError as exc:  # pragma: no cover - dependency missing\n49 |         message = \"jsonschema Draft202012Validator is unavailable\"\n   |\n\nFound 2 errors.\nNo fixes available (1 hidden fix can be enabled with the `--unsafe-fixes` option).\n",
                "tool": "ruff_check",
                "tool_module": "ruff",
                "tool_version": "ruff 0.14.4"
            },
            "exit": "exit 1",
            "message": "ruff_check failed for x_make_contract_validators_x (exit 1)\ncwd: C:\\x_runner_x\\x_make_contract_validators_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311\nstarted_at: 2025-11-10T06:12:54.435463+00:00\nduration: 0.131s\ntool_version: ruff 0.14.4\nstdout:\nTC003 Move standard library import `pathlib` into a type-checking block\n --> tests\\test_contract_validators.py:5:8\n  |\n3 | # ruff: noqa: S101\n4 | import json\n\u2026\nstderr:\n<empty>",
            "repo": "x_make_contract_validators_x",
            "repo_path": "C:\\x_runner_x\\x_make_contract_validators_x",
            "stderr_preview": null,
            "stdout_preview": "TC003 Move standard library import `pathlib` into a type-checking block\n --> tests\\test_contract_validators.py:5:8\n  |\n3 | # ruff: noqa: S101\n4 | import json\n\u2026",
            "suggested_action": "Investigate",
            "summary": "ruff_check failed for x_make_contract_validators_x (exit 1) cwd: C:\\x_runner_x\\x_make_contract_validators_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T2\u2026",
            "tool": "ruff_check",
            "tool_version": "ruff 0.14.4"
        },
        {
            "captured_at": "2025-11-10T06:12:54.416102+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "ruff",
                    "check",
                    ".",
                    "--fix",
                    "--select",
                    "ALL",
                    "--ignore",
                    "D,COM812,ISC001,T20",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
                "cwd": "C:\\x_runner_x\\x_make_contract_validators_x",
                "duration_seconds": 0.1927043999894522,
                "ended_at": "2025-11-10T06:12:54.416102+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "tests/__init__.py",
                    "tests/test_contract_validators.py",
                    "x_cls_make_contract_validators_x.py"
                ],
                "repo": "x_make_contract_validators_x",
                "repo_hash": "382023c4f879dfe465d568aa5ae1e2854c0dd33f38472b7d7416215db6525045",
                "repo_path": "C:\\x_runner_x\\x_make_contract_validators_x",
                "started_at": "2025-11-10T06:12:54.223396+00:00",
                "stderr": "",
                "stdout": "TC003 Move standard library import `pathlib` into a type-checking block\n --> tests\\test_contract_validators.py:5:8\n  |\n3 | # ruff: noqa: S101\n4 | import json\n5 | import pathlib\n  |        ^^^^^^^\n6 | from typing import TYPE_CHECKING, cast\n  |\nhelp: Move into type-checking block\n\nPLC0415 `import` should be at the top-level of a file\n  --> x_cls_make_contract_validators_x.py:47:9\n   |\n45 | def _load_validator() -> type[_DraftValidatorProtocol]:\n46 |     try:\n47 |         from jsonschema.validators import Draft202012Validator\n   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n48 |     except ImportError as exc:  # pragma: no cover - dependency missing\n49 |         message = \"jsonschema Draft202012Validator is unavailable\"\n   |\n\nFound 2 errors.\nNo fixes available (1 hidden fix can be enabled with the `--unsafe-fixes` option).\n",
                "tool": "ruff_fix",
                "tool_module": "ruff",
                "tool_version": "ruff 0.14.4"
            },
            "exit": "exit 1",
            "message": "ruff_fix failed for x_make_contract_validators_x (exit 1)\ncwd: C:\\x_runner_x\\x_make_contract_validators_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311\nstarted_at: 2025-11-10T06:12:54.223396+00:00\nduration: 0.193s\ntool_version: ruff 0.14.4\nstdout:\nTC003 Move standard library import `pathlib` into a type-checking block\n --> tests\\test_contract_validators.py:5:8\n  |\n3 | # ruff: noqa: S101\n4 | import json\n\u2026\nstderr:\n<empty>",
            "repo": "x_make_contract_validators_x",
            "repo_path": "C:\\x_runner_x\\x_make_contract_validators_x",
            "stderr_preview": null,
            "stdout_preview": "TC003 Move standard library import `pathlib` into a type-checking block\n --> tests\\test_contract_validators.py:5:8\n  |\n3 | # ruff: noqa: S101\n4 | import json\n\u2026",
            "suggested_action": "Investigate",
            "summary": "ruff_fix failed for x_make_contract_validators_x (exit 1) cwd: C:\\x_runner_x\\x_make_contract_validators_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC00\u2026",
            "tool": "ruff_fix",
            "tool_version": "ruff 0.14.4"
        },
        {
            "captured_at": "2025-11-10T06:13:28.589168+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "black",
                    ".",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311",
                    "--check",
                    "--diff"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff",
                "cwd": "C:\\x_runner_x\\x_make_github_visitor_x",
                "duration_seconds": 4.96626680000918,
                "ended_at": "2025-11-10T06:13:28.589168+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "inspection_flow.py",
                    "json_contracts.py",
                    "run_external.py",
                    "run_visitor_no_cache.py",
                    "runner.py",
                    "tests/__init__.py",
                    "tests/test_acceleration_flags.py",
                    "tests/test_github_visitor.py",
                    "tests/test_json_contracts.py",
                    "x_cls_make_github_visitor_x.py"
                ],
                "repo": "x_make_github_visitor_x",
                "repo_hash": "90f67589aa2ce51eb24cbadcbd51c3e38801d072093f84da7b925cd165780966",
                "repo_path": "C:\\x_runner_x\\x_make_github_visitor_x",
                "started_at": "2025-11-10T06:13:23.622902+00:00",
                "stderr": "would reformat C:\\x_runner_x\\x_make_github_visitor_x\\tests\\test_acceleration_flags.py\nwould reformat C:\\x_runner_x\\x_make_github_visitor_x\\runner.py\n\nOh no! \\U0001f4a5 \\U0001f494 \\U0001f4a5\n2 files would be reformatted, 9 files would be left unchanged.\n",
                "stdout": "--- C:\\x_runner_x\\x_make_github_visitor_x\\tests\\test_acceleration_flags.py\t2025-11-08 19:03:37.856404+00:00\n+++ C:\\x_runner_x\\x_make_github_visitor_x\\tests\\test_acceleration_flags.py\t2025-11-10 06:13:25.856676+00:00\n@@ -1,6 +1,7 @@\n \"\"\"Acceleration flag traceability tests.\"\"\"\n+\n # ruff: noqa: S101,TC003\n \n from __future__ import annotations\n \n import os\n--- C:\\x_runner_x\\x_make_github_visitor_x\\runner.py\t2025-11-10 06:09:35.188449+00:00\n+++ C:\\x_runner_x\\x_make_github_visitor_x\\runner.py\t2025-11-10 06:13:28.063834+00:00\n@@ -1690,11 +1690,13 @@\n             else:\n                 versions[module] = output or \"<no output>\"\n             _cooperative_yield()\n         return versions\n \n-    def body(self, *, children: Iterable[Path] | None = None) -> None:  # noqa: C901 - orchestration clarity prioritized over refactor\n+    def body(\n+        self, *, children: Iterable[Path] | None = None\n+    ) -> None:  # noqa: C901 - orchestration clarity prioritized over refactor\n         \"\"\"Run ruff/black/mypy/pyright against each child repository.\"\"\"\n \n         python = sys.executable\n         self._prepare_environment(python, REQUIRED_PACKAGES)\n \n",
                "tool": "black",
                "tool_module": "black",
                "tool_version": "python -m black, 25.11.0 (compiled: yes)\nPython (CPython) 3.14.0"
            },
            "exit": "exit 1",
            "message": "black failed for x_make_github_visitor_x (exit 1)\ncwd: C:\\x_runner_x\\x_make_github_visitor_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff\nstarted_at: 2025-11-10T06:13:23.622902+00:00\nduration: 4.966s\ntool_version: python -m black, 25.11.0 (compiled: yes)\nPython (CPython) 3.14.0\nstdout:\n--- C:\\x_runner_x\\x_make_github_visitor_x\\tests\\test_acceleration_flags.py\t2025-11-08 19:03:37.856404+00:00\n+++ C:\\x_runner_x\\x_make_github_visitor_x\\tests\\test_acceleration_flags.py\t2025-11-10 06:13:25.856676+00:00\n@@ -1,6 +1,7 @@\n \"\"\"Acceleration flag traceability tests.\"\"\"\n+\n\u2026\nstderr:\nwould reformat C:\\x_runner_x\\x_make_github_visitor_x\\tests\\test_acceleration_flags.py\nwould reformat C:\\x_runner_x\\x_make_github_visitor_x\\runner.py\n\nOh no! \\U0001f4a5 \\U0001f494 \\U0001f4a5\n2 files would be reformatted, 9 files would be left unchanged.",
            "repo": "x_make_github_visitor_x",
            "repo_path": "C:\\x_runner_x\\x_make_github_visitor_x",
            "stderr_preview": "would reformat C:\\x_runner_x\\x_make_github_visitor_x\\tests\\test_acceleration_flags.py\nwould reformat C:\\x_runner_x\\x_make_github_visitor_x\\runner.py\n\nOh no! \\U0001f4a5 \\U0001f494 \\U0001f4a5\n2 files would be reformatted, 9 files would be left unchanged.",
            "stdout_preview": "--- C:\\x_runner_x\\x_make_github_visitor_x\\tests\\test_acceleration_flags.py\t2025-11-08 19:03:37.856404+00:00\n+++ C:\\x_runner_x\\x_make_github_visitor_x\\tests\\test_acceleration_flags.py\t2025-11-10 06:13:25.856676+00:00\n@@ -1,6 +1,7 @@\n \"\"\"Acceleration flag traceability tests.\"\"\"\n+\n\u2026",
            "suggested_action": "Investigate",
            "summary": "black failed for x_make_github_visitor_x (exit 1) cwd: C:\\x_runner_x\\x_make_github_visitor_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff start\u2026",
            "tool": "black",
            "tool_version": "python -m black, 25.11.0 (compiled: yes)\nPython (CPython) 3.14.0"
        },
        {
            "captured_at": "2025-11-10T06:13:33.726560+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m mypy --package x_make_github_visitor_x --strict --no-warn-unused-configs --show-error-codes --warn-return-any --warn-unreachable --disallow-any-unimported --disallow-any-expr --disallow-any-decorated --disallow-any-explicit",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "mypy",
                    "--package",
                    "x_make_github_visitor_x",
                    "--strict",
                    "--no-warn-unused-configs",
                    "--show-error-codes",
                    "--warn-return-any",
                    "--warn-unreachable",
                    "--disallow-any-unimported",
                    "--disallow-any-expr",
                    "--disallow-any-decorated",
                    "--disallow-any-explicit"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m mypy --package x_make_github_visitor_x --strict --no-warn-unused-configs --show-error-codes --warn-return-any --warn-unreachable --disallow-any-unimported --disallow-any-expr --disallow-any-decorated --disallow-any-explicit",
                "cwd": "C:\\x_runner_x\\x_make_github_visitor_x",
                "duration_seconds": 4.861625500023365,
                "ended_at": "2025-11-10T06:13:33.726560+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "inspection_flow.py",
                    "json_contracts.py",
                    "run_external.py",
                    "run_visitor_no_cache.py",
                    "runner.py",
                    "tests/__init__.py",
                    "tests/test_acceleration_flags.py",
                    "tests/test_github_visitor.py",
                    "tests/test_json_contracts.py",
                    "x_cls_make_github_visitor_x.py"
                ],
                "repo": "x_make_github_visitor_x",
                "repo_hash": "90f67589aa2ce51eb24cbadcbd51c3e38801d072093f84da7b925cd165780966",
                "repo_path": "C:\\x_runner_x\\x_make_github_visitor_x",
                "started_at": "2025-11-10T06:13:28.864937+00:00",
                "stderr": "",
                "stdout": "runner.py:2323: error: Expression has type \"Any\"  [misc]\nrunner.py:2325: error: Expression has type \"Any\"  [misc]\nrunner.py:2327: error: Expression has type \"Any\"  [misc]\nrunner.py:2480: error: Expression has type \"Any\"  [misc]\nrunner.py:2482: error: Expression has type \"Any\"  [misc]\nrunner.py:2484: error: Expression has type \"Any\"  [misc]\ntests\\test_acceleration_flags.py:67: error: Expression type contains \"Any\" (has type \"set[Any]\")  [misc]\nFound 7 errors in 2 files (checked 15 source files)\n",
                "tool": "mypy",
                "tool_module": "mypy",
                "tool_version": "mypy 1.18.2 (compiled: yes)"
            },
            "exit": "exit 1",
            "message": "mypy failed for x_make_github_visitor_x (exit 1)\ncwd: C:\\x_runner_x\\x_make_github_visitor_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m mypy --package x_make_github_visitor_x --strict --no-warn-unused-configs --show-error-codes --warn-return-any --warn-unreachable --disallow-any-unimported --disallow-any-expr --disallow-any-decorated --disallow-any-explicit\nstarted_at: 2025-11-10T06:13:28.864937+00:00\nduration: 4.862s\ntool_version: mypy 1.18.2 (compiled: yes)\nstdout:\nrunner.py:2323: error: Expression has type \"Any\"  [misc]\nrunner.py:2325: error: Expression has type \"Any\"  [misc]\nrunner.py:2327: error: Expression has type \"Any\"  [misc]\nrunner.py:2480: error: Expression has type \"Any\"  [misc]\nrunner.py:2482: error: Expression has type \"Any\"  [misc]\n\u2026\nstderr:\n<empty>",
            "repo": "x_make_github_visitor_x",
            "repo_path": "C:\\x_runner_x\\x_make_github_visitor_x",
            "stderr_preview": null,
            "stdout_preview": "runner.py:2323: error: Expression has type \"Any\"  [misc]\nrunner.py:2325: error: Expression has type \"Any\"  [misc]\nrunner.py:2327: error: Expression has type \"Any\"  [misc]\nrunner.py:2480: error: Expression has type \"Any\"  [misc]\nrunner.py:2482: error: Expression has type \"Any\"  [misc]\n\u2026",
            "suggested_action": "Investigate",
            "summary": "mypy failed for x_make_github_visitor_x (exit 1) cwd: C:\\x_runner_x\\x_make_github_visitor_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m mypy --package x_make_github_visitor_x --strict --no-warn-unused-conf\u2026",
            "tool": "mypy",
            "tool_version": "mypy 1.18.2 (compiled: yes)"
        },
        {
            "captured_at": "2025-11-10T06:13:44.356751+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "ruff",
                    "check",
                    ".",
                    "--select",
                    "ALL",
                    "--ignore",
                    "D,COM812,ISC001,T20",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
                "cwd": "C:\\x_runner_x\\x_make_graphviz_x",
                "duration_seconds": 0.12728339998284355,
                "ended_at": "2025-11-10T06:13:44.356751+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "json_contracts/__init__.py",
                    "tests/__init__.py",
                    "tests/conftest.py",
                    "tests/test_graphviz_builder.py",
                    "tests/test_json_contracts.py",
                    "x_cls_make_graphviz_x.py"
                ],
                "repo": "x_make_graphviz_x",
                "repo_hash": "8b8ecbc125a0e302b034bffe234138a6429a1cd33dda9125e9b5777a4d2eb701",
                "repo_path": "C:\\x_runner_x\\x_make_graphviz_x",
                "started_at": "2025-11-10T06:13:44.229464+00:00",
                "stderr": "",
                "stdout": "C901 `main_json` is too complex (12 > 10)\n   --> x_cls_make_graphviz_x.py:509:5\n    |\n509 | def main_json(\n    |     ^^^^^^^^^\n510 |     payload: Mapping[str, object],\n511 |     *,\n    |\n\nFound 1 error.\n",
                "tool": "ruff_check",
                "tool_module": "ruff",
                "tool_version": "ruff 0.14.4"
            },
            "exit": "exit 1",
            "message": "ruff_check failed for x_make_graphviz_x (exit 1)\ncwd: C:\\x_runner_x\\x_make_graphviz_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311\nstarted_at: 2025-11-10T06:13:44.229464+00:00\nduration: 0.127s\ntool_version: ruff 0.14.4\nstdout:\nC901 `main_json` is too complex (12 > 10)\n   --> x_cls_make_graphviz_x.py:509:5\n    |\n509 | def main_json(\n    |     ^^^^^^^^^\n\u2026\nstderr:\n<empty>",
            "repo": "x_make_graphviz_x",
            "repo_path": "C:\\x_runner_x\\x_make_graphviz_x",
            "stderr_preview": null,
            "stdout_preview": "C901 `main_json` is too complex (12 > 10)\n   --> x_cls_make_graphviz_x.py:509:5\n    |\n509 | def main_json(\n    |     ^^^^^^^^^\n\u2026",
            "suggested_action": "Investigate",
            "summary": "ruff_check failed for x_make_graphviz_x (exit 1) cwd: C:\\x_runner_x\\x_make_graphviz_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --t\u2026",
            "tool": "ruff_check",
            "tool_version": "ruff 0.14.4"
        },
        {
            "captured_at": "2025-11-10T06:13:42.289210+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "ruff",
                    "check",
                    ".",
                    "--fix",
                    "--select",
                    "ALL",
                    "--ignore",
                    "D,COM812,ISC001,T20",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
                "cwd": "C:\\x_runner_x\\x_make_graphviz_x",
                "duration_seconds": 0.14279479999095201,
                "ended_at": "2025-11-10T06:13:42.289210+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "json_contracts/__init__.py",
                    "tests/__init__.py",
                    "tests/conftest.py",
                    "tests/test_graphviz_builder.py",
                    "tests/test_json_contracts.py",
                    "x_cls_make_graphviz_x.py"
                ],
                "repo": "x_make_graphviz_x",
                "repo_hash": "8b8ecbc125a0e302b034bffe234138a6429a1cd33dda9125e9b5777a4d2eb701",
                "repo_path": "C:\\x_runner_x\\x_make_graphviz_x",
                "started_at": "2025-11-10T06:13:42.146410+00:00",
                "stderr": "",
                "stdout": "C901 `main_json` is too complex (12 > 10)\n   --> x_cls_make_graphviz_x.py:509:5\n    |\n509 | def main_json(\n    |     ^^^^^^^^^\n510 |     payload: Mapping[str, object],\n511 |     *,\n    |\n\nFound 1 error.\n",
                "tool": "ruff_fix",
                "tool_module": "ruff",
                "tool_version": "ruff 0.14.4"
            },
            "exit": "exit 1",
            "message": "ruff_fix failed for x_make_graphviz_x (exit 1)\ncwd: C:\\x_runner_x\\x_make_graphviz_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311\nstarted_at: 2025-11-10T06:13:42.146410+00:00\nduration: 0.143s\ntool_version: ruff 0.14.4\nstdout:\nC901 `main_json` is too complex (12 > 10)\n   --> x_cls_make_graphviz_x.py:509:5\n    |\n509 | def main_json(\n    |     ^^^^^^^^^\n\u2026\nstderr:\n<empty>",
            "repo": "x_make_graphviz_x",
            "repo_path": "C:\\x_runner_x\\x_make_graphviz_x",
            "stderr_preview": null,
            "stdout_preview": "C901 `main_json` is too complex (12 > 10)\n   --> x_cls_make_graphviz_x.py:509:5\n    |\n509 | def main_json(\n    |     ^^^^^^^^^\n\u2026",
            "suggested_action": "Investigate",
            "summary": "ruff_fix failed for x_make_graphviz_x (exit 1) cwd: C:\\x_runner_x\\x_make_graphviz_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88\u2026",
            "tool": "ruff_fix",
            "tool_version": "ruff 0.14.4"
        },
        {
            "captured_at": "2025-11-10T06:14:23.061490+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "ruff",
                    "check",
                    ".",
                    "--select",
                    "ALL",
                    "--ignore",
                    "D,COM812,ISC001,T20",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
                "cwd": "C:\\x_runner_x\\x_make_progress_board_x",
                "duration_seconds": 0.13528109999606386,
                "ended_at": "2025-11-10T06:14:23.061490+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "cli.py",
                    "controller.py",
                    "json_contracts.py",
                    "progress_board_widget.py",
                    "tests/__init__.py",
                    "tests/test_entry_module.py",
                    "tests/test_progress_board.py",
                    "x_cls_make_progress_board_x.py"
                ],
                "repo": "x_make_progress_board_x",
                "repo_hash": "6f50b449a9683219dfadba75fd41b587fa1121aef91d69b1be38a2fbbe7e4e87",
                "repo_path": "C:\\x_runner_x\\x_make_progress_board_x",
                "started_at": "2025-11-10T06:14:22.926204+00:00",
                "stderr": "",
                "stdout": "TC003 Move standard library import `collections.abc.Sequence` into a type-checking block\n --> cli.py:7:29\n  |\n5 | import argparse\n6 | import threading\n7 | from collections.abc import Sequence\n  |                             ^^^^^^^^\n8 | from pathlib import Path\n9 | from typing import cast\n  |\nhelp: Move into type-checking block\n\nTC003 Move standard library import `pathlib.Path` into a type-checking block\n  --> controller.py:8:21\n   |\n 6 | from collections.abc import Callable, Sequence\n 7 | from dataclasses import dataclass\n 8 | from pathlib import Path\n   |                     ^^^^\n 9 |\n10 | from x_make_progress_board_x.progress_board_widget import run_progress_board\n   |\nhelp: Move into type-checking block\n\nTC003 Move standard library import `os` into a type-checking block\n --> progress_board_widget.py:6:8\n  |\n5 | import json\n6 | import os\n  |        ^^\n7 | import sys\n8 | import threading\n  |\nhelp: Move into type-checking block\n\nTC003 Move standard library import `threading` into a type-checking block\n  --> progress_board_widget.py:8:8\n   |\n 6 | import os\n 7 | import sys\n 8 | import threading\n   |        ^^^^^^^^^\n 9 | from collections.abc import Mapping, Sequence\n10 | from dataclasses import dataclass\n   |\nhelp: Move into type-checking block\n\nSIM401 Use `payload.get(\"entries\", None)` instead of an `if` block\n   --> progress_board_widget.py:432:35\n    |\n430 |                 if entries_dir_candidate:\n431 |                     entries_dir = Path(entries_dir_candidate)\n432 |         entries_payload: object = payload[\"entries\"] if \"entries\" in payload else None\n    |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n433 |         entries = self._normalize_repo_entries(entries_payload, entries_dir)\n434 |         return _RepoIndexCacheEntry(path=index_path, mtime=mtime, entries=entries)\n    |\nhelp: Replace with `payload.get(\"entries\", None)`\n\nTC003 Move standard library import `threading` into a type-checking block\n --> tests\\test_entry_module.py:3:8\n  |\n1 | from __future__ import annotations\n2 |\n3 | import threading\n  |        ^^^^^^^^^\n4 | from collections.abc import Mapping, Sequence\n5 | from pathlib import Path\n  |\nhelp: Move into type-checking block\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:34:5\n   |\n33 |     result = main_json(payload)\n34 |     assert isinstance(result[\"snapshot_path\"], str)\n   |     ^^^^^^\n35 |     assert result[\"status\"] == \"success\"\n36 |     assert result[\"schema_version\"] == \"x_make_progress_board_x.run/1.0\"\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:35:5\n   |\n33 |     result = main_json(payload)\n34 |     assert isinstance(result[\"snapshot_path\"], str)\n35 |     assert result[\"status\"] == \"success\"\n   |     ^^^^^^\n36 |     assert result[\"schema_version\"] == \"x_make_progress_board_x.run/1.0\"\n37 |     assert Path(result[\"snapshot_path\"]) == snapshot_path\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:36:5\n   |\n34 |     assert isinstance(result[\"snapshot_path\"], str)\n35 |     assert result[\"status\"] == \"success\"\n36 |     assert result[\"schema_version\"] == \"x_make_progress_board_x.run/1.0\"\n   |     ^^^^^^\n37 |     assert Path(result[\"snapshot_path\"]) == snapshot_path\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:37:5\n   |\n35 |     assert result[\"status\"] == \"success\"\n36 |     assert result[\"schema_version\"] == \"x_make_progress_board_x.run/1.0\"\n37 |     assert Path(result[\"snapshot_path\"]) == snapshot_path\n   |     ^^^^^^\n38 |\n39 |     stage_defs_obj = result[\"stage_definitions\"]\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:40:5\n   |\n39 |     stage_defs_obj = result[\"stage_definitions\"]\n40 |     assert isinstance(stage_defs_obj, list)\n   |     ^^^^^^\n41 |     stage_defs = [cast(\"StageSummary\", entry) for entry in stage_defs_obj]\n42 |     assert _read_stage_ids(stage_defs) == [\"alpha\", \"beta\"]\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:42:5\n   |\n40 |     assert isinstance(stage_defs_obj, list)\n41 |     stage_defs = [cast(\"StageSummary\", entry) for entry in stage_defs_obj]\n42 |     assert _read_stage_ids(stage_defs) == [\"alpha\", \"beta\"]\n   |     ^^^^^^\n43 |     assert \"title\" in stage_defs[0]\n44 |     assert stage_defs[0][\"title\"] == \"Alpha\"\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:43:5\n   |\n41 |     stage_defs = [cast(\"StageSummary\", entry) for entry in stage_defs_obj]\n42 |     assert _read_stage_ids(stage_defs) == [\"alpha\", \"beta\"]\n43 |     assert \"title\" in stage_defs[0]\n   |     ^^^^^^\n44 |     assert stage_defs[0][\"title\"] == \"Alpha\"\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:44:5\n   |\n42 |     assert _read_stage_ids(stage_defs) == [\"alpha\", \"beta\"]\n43 |     assert \"title\" in stage_defs[0]\n44 |     assert stage_defs[0][\"title\"] == \"Alpha\"\n   |     ^^^^^^\n45 |\n46 |     metadata_obj = result[\"metadata\"]\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:47:5\n   |\n46 |     metadata_obj = result[\"metadata\"]\n47 |     assert isinstance(metadata_obj, Mapping)\n   |     ^^^^^^\n48 |     metadata = cast(\"Mapping[str, object]\", metadata_obj)\n49 |     assert metadata[\"snapshot_exists\"] is True\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:49:5\n   |\n47 |     assert isinstance(metadata_obj, Mapping)\n48 |     metadata = cast(\"Mapping[str, object]\", metadata_obj)\n49 |     assert metadata[\"snapshot_exists\"] is True\n   |     ^^^^^^\n50 |     assert metadata[\"fallback_applied\"] is False\n51 |     assert metadata[\"launched\"] is False\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:50:5\n   |\n48 |     metadata = cast(\"Mapping[str, object]\", metadata_obj)\n49 |     assert metadata[\"snapshot_exists\"] is True\n50 |     assert metadata[\"fallback_applied\"] is False\n   |     ^^^^^^\n51 |     assert metadata[\"launched\"] is False\n52 |     assert metadata[\"stage_count\"] == 2\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:51:5\n   |\n49 |     assert metadata[\"snapshot_exists\"] is True\n50 |     assert metadata[\"fallback_applied\"] is False\n51 |     assert metadata[\"launched\"] is False\n   |     ^^^^^^\n52 |     assert metadata[\"stage_count\"] == 2\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:52:5\n   |\n50 |     assert metadata[\"fallback_applied\"] is False\n51 |     assert metadata[\"launched\"] is False\n52 |     assert metadata[\"stage_count\"] == 2\n   |     ^^^^^^\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `2` with a constant variable\n  --> tests\\test_entry_module.py:52:39\n   |\n50 |     assert metadata[\"fallback_applied\"] is False\n51 |     assert metadata[\"launched\"] is False\n52 |     assert metadata[\"stage_count\"] == 2\n   |                                       ^\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:63:5\n   |\n62 |     result = main_json(payload)\n63 |     assert result[\"status\"] == \"success\"\n   |     ^^^^^^\n64 |     stage_defs_obj = result[\"stage_definitions\"]\n65 |     assert isinstance(stage_defs_obj, list)\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:65:5\n   |\n63 |     assert result[\"status\"] == \"success\"\n64 |     stage_defs_obj = result[\"stage_definitions\"]\n65 |     assert isinstance(stage_defs_obj, list)\n   |     ^^^^^^\n66 |     stage_defs = [cast(\"StageSummary\", entry) for entry in stage_defs_obj]\n67 |     assert len(stage_defs) == 1\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:67:5\n   |\n65 |     assert isinstance(stage_defs_obj, list)\n66 |     stage_defs = [cast(\"StageSummary\", entry) for entry in stage_defs_obj]\n67 |     assert len(stage_defs) == 1\n   |     ^^^^^^\n68 |     stage_def = stage_defs[0]\n69 |     assert \"id\" in stage_def\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:69:5\n   |\n67 |     assert len(stage_defs) == 1\n68 |     stage_def = stage_defs[0]\n69 |     assert \"id\" in stage_def\n   |     ^^^^^^\n70 |     assert stage_def[\"id\"] == \"environment\"\n71 |     assert stage_def.get(\"title\") == \"Environment\"\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:70:5\n   |\n68 |     stage_def = stage_defs[0]\n69 |     assert \"id\" in stage_def\n70 |     assert stage_def[\"id\"] == \"environment\"\n   |     ^^^^^^\n71 |     assert stage_def.get(\"title\") == \"Environment\"\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:71:5\n   |\n69 |     assert \"id\" in stage_def\n70 |     assert stage_def[\"id\"] == \"environment\"\n71 |     assert stage_def.get(\"title\") == \"Environment\"\n   |     ^^^^^^\n72 |\n73 |     metadata_obj = result[\"metadata\"]\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:74:5\n   |\n73 |     metadata_obj = result[\"metadata\"]\n74 |     assert isinstance(metadata_obj, Mapping)\n   |     ^^^^^^\n75 |     metadata = cast(\"Mapping[str, object]\", metadata_obj)\n76 |     assert metadata[\"snapshot_exists\"] is False\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:76:5\n   |\n74 |     assert isinstance(metadata_obj, Mapping)\n75 |     metadata = cast(\"Mapping[str, object]\", metadata_obj)\n76 |     assert metadata[\"snapshot_exists\"] is False\n   |     ^^^^^^\n77 |     assert metadata[\"fallback_applied\"] is True\n78 |     assert metadata[\"launched\"] is False\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:77:5\n   |\n75 |     metadata = cast(\"Mapping[str, object]\", metadata_obj)\n76 |     assert metadata[\"snapshot_exists\"] is False\n77 |     assert metadata[\"fallback_applied\"] is True\n   |     ^^^^^^\n78 |     assert metadata[\"launched\"] is False\n79 |     assert metadata[\"stage_count\"] == 1\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:78:5\n   |\n76 |     assert metadata[\"snapshot_exists\"] is False\n77 |     assert metadata[\"fallback_applied\"] is True\n78 |     assert metadata[\"launched\"] is False\n   |     ^^^^^^\n79 |     assert metadata[\"stage_count\"] == 1\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:79:5\n   |\n77 |     assert metadata[\"fallback_applied\"] is True\n78 |     assert metadata[\"launched\"] is False\n79 |     assert metadata[\"stage_count\"] == 1\n   |     ^^^^^^\n   |\n\nS101 Use of `assert` detected\n   --> tests\\test_entry_module.py:101:9\n    |\n 99 |     def fake_worker(event: threading.Event) -> None:\n100 |         worker_events.append(event)\n101 |         assert event.is_set() is False\n    |         ^^^^^^\n102 |         event.set()\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_entry_module.py:112:5\n    |\n110 |     metadata = board.launch(worker=fake_worker)\n111 |\n112 |     assert observed[\"snapshot_path\"] == board.snapshot_path\n    |     ^^^^^^\n113 |     assert observed[\"stage_definitions\"] == stage_definitions\n114 |     assert observed[\"event_initial_state\"] is False\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_entry_module.py:113:5\n    |\n112 |     assert observed[\"snapshot_path\"] == board.snapshot_path\n113 |     assert observed[\"stage_definitions\"] == stage_definitions\n    |     ^^^^^^\n114 |     assert observed[\"event_initial_state\"] is False\n115 |     assert worker_events and worker_events[0].is_set()\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_entry_module.py:114:5\n    |\n112 |     assert observed[\"snapshot_path\"] == board.snapshot_path\n113 |     assert observed[\"stage_definitions\"] == stage_definitions\n114 |     assert observed[\"event_initial_state\"] is False\n    |     ^^^^^^\n115 |     assert worker_events and worker_events[0].is_set()\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_entry_module.py:115:5\n    |\n113 |     assert observed[\"stage_definitions\"] == stage_definitions\n114 |     assert observed[\"event_initial_state\"] is False\n115 |     assert worker_events and worker_events[0].is_set()\n    |     ^^^^^^\n116 |\n117 |     assert metadata[\"launched\"] is True\n    |\n\nPT018 Assertion should be broken down into multiple parts\n   --> tests\\test_entry_module.py:115:5\n    |\n113 |     assert observed[\"stage_definitions\"] == stage_definitions\n114 |     assert observed[\"event_initial_state\"] is False\n115 |     assert worker_events and worker_events[0].is_set()\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n116 |\n117 |     assert metadata[\"launched\"] is True\n    |\nhelp: Break down assertion into multiple parts\n\nS101 Use of `assert` detected\n   --> tests\\test_entry_module.py:117:5\n    |\n115 |     assert worker_events and worker_events[0].is_set()\n116 |\n117 |     assert metadata[\"launched\"] is True\n    |     ^^^^^^\n118 |     assert metadata[\"worker_attached\"] is True\n119 |     assert metadata[\"stage_count\"] == len(stage_definitions)\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_entry_module.py:118:5\n    |\n117 |     assert metadata[\"launched\"] is True\n118 |     assert metadata[\"worker_attached\"] is True\n    |     ^^^^^^\n119 |     assert metadata[\"stage_count\"] == len(stage_definitions)\n120 |     assert metadata[\"fallback_applied\"] is False\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_entry_module.py:119:5\n    |\n117 |     assert metadata[\"launched\"] is True\n118 |     assert metadata[\"worker_attached\"] is True\n119 |     assert metadata[\"stage_count\"] == len(stage_definitions)\n    |     ^^^^^^\n120 |     assert metadata[\"fallback_applied\"] is False\n121 |     assert \"worker_error\" not in metadata\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_entry_module.py:120:5\n    |\n118 |     assert metadata[\"worker_attached\"] is True\n119 |     assert metadata[\"stage_count\"] == len(stage_definitions)\n120 |     assert metadata[\"fallback_applied\"] is False\n    |     ^^^^^^\n121 |     assert \"worker_error\" not in metadata\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_entry_module.py:121:5\n    |\n119 |     assert metadata[\"stage_count\"] == len(stage_definitions)\n120 |     assert metadata[\"fallback_applied\"] is False\n121 |     assert \"worker_error\" not in metadata\n    |     ^^^^^^\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_entry_module.py:126:5\n    |\n124 | def test_main_json_invalid_payload_returns_failure() -> None:\n125 |     result = main_json({\"command\": \"unexpected\"})\n126 |     assert result[\"status\"] == \"failure\"\n    |     ^^^^^^\n127 |     assert \"input payload failed validation\" in cast(\"str\", result[\"message\"])\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_entry_module.py:127:5\n    |\n125 |     result = main_json({\"command\": \"unexpected\"})\n126 |     assert result[\"status\"] == \"failure\"\n127 |     assert \"input payload failed validation\" in cast(\"str\", result[\"message\"])\n    |     ^^^^^^\n    |\n\nTC003 Move standard library import `threading` into a type-checking block\n --> tests\\test_progress_board.py:4:8\n  |\n3 | import json\n4 | import threading\n  |        ^^^^^^^^^\n5 | from collections.abc import Sequence\n6 | from pathlib import Path\n  |\nhelp: Move into type-checking block\n\nTC003 Move standard library import `collections.abc.Sequence` into a type-checking block\n --> tests\\test_progress_board.py:5:29\n  |\n3 | import json\n4 | import threading\n5 | from collections.abc import Sequence\n  |                             ^^^^^^^^\n6 | from pathlib import Path\n7 | from typing import cast\n  |\nhelp: Move into type-checking block\n\nTC003 Move standard library import `pathlib.Path` into a type-checking block\n --> tests\\test_progress_board.py:6:21\n  |\n4 | import threading\n5 | from collections.abc import Sequence\n6 | from pathlib import Path\n  |                     ^^^^\n7 | from typing import cast\n  |\nhelp: Move into type-checking block\n\nS101 Use of `assert` detected\n  --> tests\\test_progress_board.py:40:9\n   |\n38 |     def worker(event: threading.Event) -> None:\n39 |         worker_called.append(True)\n40 |         assert event.is_set() is False\n   |         ^^^^^^\n41 |         event.set()\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_progress_board.py:49:5\n   |\n47 |     )\n48 |     result.thread.join(timeout=1)\n49 |     assert result.done_event.is_set() is True\n   |     ^^^^^^\n50 |     assert worker_called\n51 |     assert observed[\"snapshot_path\"] == snapshot_path\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_progress_board.py:50:5\n   |\n48 |     result.thread.join(timeout=1)\n49 |     assert result.done_event.is_set() is True\n50 |     assert worker_called\n   |     ^^^^^^\n51 |     assert observed[\"snapshot_path\"] == snapshot_path\n52 |     assert observed[\"stage_definitions\"] == [(\"env\", \"Environment\")]\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_progress_board.py:51:5\n   |\n49 |     assert result.done_event.is_set() is True\n50 |     assert worker_called\n51 |     assert observed[\"snapshot_path\"] == snapshot_path\n   |     ^^^^^^\n52 |     assert observed[\"stage_definitions\"] == [(\"env\", \"Environment\")]\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_progress_board.py:52:5\n   |\n50 |     assert worker_called\n51 |     assert observed[\"snapshot_path\"] == snapshot_path\n52 |     assert observed[\"stage_definitions\"] == [(\"env\", \"Environment\")]\n   |     ^^^^^^\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_progress_board.py:82:5\n   |\n81 |     exit_code = cli.main([\"--snapshot\", str(snapshot_path)])\n82 |     assert exit_code == 0\n   |     ^^^^^^\n83 |     assert observed[\"snapshot_path\"] == snapshot_path\n84 |     assert observed[\"stage_definitions\"] == [(\"env\", \"Environment\")]\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_progress_board.py:83:5\n   |\n81 |     exit_code = cli.main([\"--snapshot\", str(snapshot_path)])\n82 |     assert exit_code == 0\n83 |     assert observed[\"snapshot_path\"] == snapshot_path\n   |     ^^^^^^\n84 |     assert observed[\"stage_definitions\"] == [(\"env\", \"Environment\")]\n85 |     event = cast(\"threading.Event\", observed[\"event\"])\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_progress_board.py:84:5\n   |\n82 |     assert exit_code == 0\n83 |     assert observed[\"snapshot_path\"] == snapshot_path\n84 |     assert observed[\"stage_definitions\"] == [(\"env\", \"Environment\")]\n   |     ^^^^^^\n85 |     event = cast(\"threading.Event\", observed[\"event\"])\n86 |     assert event.is_set()\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_progress_board.py:86:5\n   |\n84 |     assert observed[\"stage_definitions\"] == [(\"env\", \"Environment\")]\n85 |     event = cast(\"threading.Event\", observed[\"event\"])\n86 |     assert event.is_set()\n   |     ^^^^^^\n   |\n\nBLE001 Do not catch blind exception: `Exception`\n  --> x_cls_make_progress_board_x.py:27:8\n   |\n25 |         run_progress_board as _run_progress_board,\n26 |     )\n27 | except Exception:  # pragma: no cover - resolved dynamically when PySide6 exists\n   |        ^^^^^^^^^\n28 |     DEFAULT_BOARD_RUNNER: BoardRunner | None = None\n29 | else:\n   |\n\nE501 Line too long (95 > 88)\n   --> x_cls_make_progress_board_x.py:243:89\n    |\n241 |         runner = self._runner\n242 |         if runner is None:\n243 |             message = \"Progress board runner unavailable; install PySide6 to launch the board.\"\n    |                                                                                         ^^^^^^^\n244 |             raise RuntimeError(message)\n245 |         stage_definitions = self._effective_stage_definitions()\n    |\n\nPLC0415 `import` should be at the top-level of a file\n   --> x_cls_make_progress_board_x.py:426:5\n    |\n424 |     payload = _load_json_payload(json_file)\n425 |     result = main_json(payload)\n426 |     import sys  # local import to keep module import light when PySide6 is absent\n    |     ^^^^^^^^^^\n427 |\n428 |     json.dump(result, sys.stdout, indent=2)\n    |\n\nPLC0415 `import` should be at the top-level of a file\n   --> x_cls_make_progress_board_x.py:433:5\n    |\n432 | def main(argv: Sequence[str] | None = None) -> int:\n433 |     from x_make_progress_board_x.cli import main as cli_main\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n434 |\n435 |     return cli_main(argv)\n    |\n\nFound 60 errors.\nNo fixes available (10 hidden fixes can be enabled with the `--unsafe-fixes` option).\n",
                "tool": "ruff_check",
                "tool_module": "ruff",
                "tool_version": "ruff 0.14.4"
            },
            "exit": "exit 1",
            "message": "ruff_check failed for x_make_progress_board_x (exit 1)\ncwd: C:\\x_runner_x\\x_make_progress_board_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311\nstarted_at: 2025-11-10T06:14:22.926204+00:00\nduration: 0.135s\ntool_version: ruff 0.14.4\nstdout:\nTC003 Move standard library import `collections.abc.Sequence` into a type-checking block\n --> cli.py:7:29\n  |\n5 | import argparse\n6 | import threading\n\u2026\nstderr:\n<empty>",
            "repo": "x_make_progress_board_x",
            "repo_path": "C:\\x_runner_x\\x_make_progress_board_x",
            "stderr_preview": null,
            "stdout_preview": "TC003 Move standard library import `collections.abc.Sequence` into a type-checking block\n --> cli.py:7:29\n  |\n5 | import argparse\n6 | import threading\n\u2026",
            "suggested_action": "Investigate",
            "summary": "ruff_check failed for x_make_progress_board_x (exit 1) cwd: C:\\x_runner_x\\x_make_progress_board_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-l\u2026",
            "tool": "ruff_check",
            "tool_version": "ruff 0.14.4"
        },
        {
            "captured_at": "2025-11-10T06:14:22.917093+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "ruff",
                    "check",
                    ".",
                    "--fix",
                    "--select",
                    "ALL",
                    "--ignore",
                    "D,COM812,ISC001,T20",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
                "cwd": "C:\\x_runner_x\\x_make_progress_board_x",
                "duration_seconds": 0.31223270000191405,
                "ended_at": "2025-11-10T06:14:22.917093+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "cli.py",
                    "controller.py",
                    "json_contracts.py",
                    "progress_board_widget.py",
                    "tests/__init__.py",
                    "tests/test_entry_module.py",
                    "tests/test_progress_board.py",
                    "x_cls_make_progress_board_x.py"
                ],
                "repo": "x_make_progress_board_x",
                "repo_hash": "6f50b449a9683219dfadba75fd41b587fa1121aef91d69b1be38a2fbbe7e4e87",
                "repo_path": "C:\\x_runner_x\\x_make_progress_board_x",
                "started_at": "2025-11-10T06:14:22.604861+00:00",
                "stderr": "",
                "stdout": "TC003 Move standard library import `collections.abc.Sequence` into a type-checking block\n --> cli.py:7:29\n  |\n5 | import argparse\n6 | import threading\n7 | from collections.abc import Sequence\n  |                             ^^^^^^^^\n8 | from pathlib import Path\n9 | from typing import cast\n  |\nhelp: Move into type-checking block\n\nTC003 Move standard library import `pathlib.Path` into a type-checking block\n  --> controller.py:8:21\n   |\n 6 | from collections.abc import Callable, Sequence\n 7 | from dataclasses import dataclass\n 8 | from pathlib import Path\n   |                     ^^^^\n 9 |\n10 | from x_make_progress_board_x.progress_board_widget import run_progress_board\n   |\nhelp: Move into type-checking block\n\nTC003 Move standard library import `os` into a type-checking block\n --> progress_board_widget.py:6:8\n  |\n5 | import json\n6 | import os\n  |        ^^\n7 | import sys\n8 | import threading\n  |\nhelp: Move into type-checking block\n\nTC003 Move standard library import `threading` into a type-checking block\n  --> progress_board_widget.py:8:8\n   |\n 6 | import os\n 7 | import sys\n 8 | import threading\n   |        ^^^^^^^^^\n 9 | from collections.abc import Mapping, Sequence\n10 | from dataclasses import dataclass\n   |\nhelp: Move into type-checking block\n\nSIM401 Use `payload.get(\"entries\", None)` instead of an `if` block\n   --> progress_board_widget.py:432:35\n    |\n430 |                 if entries_dir_candidate:\n431 |                     entries_dir = Path(entries_dir_candidate)\n432 |         entries_payload: object = payload[\"entries\"] if \"entries\" in payload else None\n    |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n433 |         entries = self._normalize_repo_entries(entries_payload, entries_dir)\n434 |         return _RepoIndexCacheEntry(path=index_path, mtime=mtime, entries=entries)\n    |\nhelp: Replace with `payload.get(\"entries\", None)`\n\nTC003 Move standard library import `threading` into a type-checking block\n --> tests\\test_entry_module.py:3:8\n  |\n1 | from __future__ import annotations\n2 |\n3 | import threading\n  |        ^^^^^^^^^\n4 | from collections.abc import Mapping, Sequence\n5 | from pathlib import Path\n  |\nhelp: Move into type-checking block\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:34:5\n   |\n33 |     result = main_json(payload)\n34 |     assert isinstance(result[\"snapshot_path\"], str)\n   |     ^^^^^^\n35 |     assert result[\"status\"] == \"success\"\n36 |     assert result[\"schema_version\"] == \"x_make_progress_board_x.run/1.0\"\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:35:5\n   |\n33 |     result = main_json(payload)\n34 |     assert isinstance(result[\"snapshot_path\"], str)\n35 |     assert result[\"status\"] == \"success\"\n   |     ^^^^^^\n36 |     assert result[\"schema_version\"] == \"x_make_progress_board_x.run/1.0\"\n37 |     assert Path(result[\"snapshot_path\"]) == snapshot_path\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:36:5\n   |\n34 |     assert isinstance(result[\"snapshot_path\"], str)\n35 |     assert result[\"status\"] == \"success\"\n36 |     assert result[\"schema_version\"] == \"x_make_progress_board_x.run/1.0\"\n   |     ^^^^^^\n37 |     assert Path(result[\"snapshot_path\"]) == snapshot_path\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:37:5\n   |\n35 |     assert result[\"status\"] == \"success\"\n36 |     assert result[\"schema_version\"] == \"x_make_progress_board_x.run/1.0\"\n37 |     assert Path(result[\"snapshot_path\"]) == snapshot_path\n   |     ^^^^^^\n38 |\n39 |     stage_defs_obj = result[\"stage_definitions\"]\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:40:5\n   |\n39 |     stage_defs_obj = result[\"stage_definitions\"]\n40 |     assert isinstance(stage_defs_obj, list)\n   |     ^^^^^^\n41 |     stage_defs = [cast(\"StageSummary\", entry) for entry in stage_defs_obj]\n42 |     assert _read_stage_ids(stage_defs) == [\"alpha\", \"beta\"]\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:42:5\n   |\n40 |     assert isinstance(stage_defs_obj, list)\n41 |     stage_defs = [cast(\"StageSummary\", entry) for entry in stage_defs_obj]\n42 |     assert _read_stage_ids(stage_defs) == [\"alpha\", \"beta\"]\n   |     ^^^^^^\n43 |     assert \"title\" in stage_defs[0]\n44 |     assert stage_defs[0][\"title\"] == \"Alpha\"\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:43:5\n   |\n41 |     stage_defs = [cast(\"StageSummary\", entry) for entry in stage_defs_obj]\n42 |     assert _read_stage_ids(stage_defs) == [\"alpha\", \"beta\"]\n43 |     assert \"title\" in stage_defs[0]\n   |     ^^^^^^\n44 |     assert stage_defs[0][\"title\"] == \"Alpha\"\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:44:5\n   |\n42 |     assert _read_stage_ids(stage_defs) == [\"alpha\", \"beta\"]\n43 |     assert \"title\" in stage_defs[0]\n44 |     assert stage_defs[0][\"title\"] == \"Alpha\"\n   |     ^^^^^^\n45 |\n46 |     metadata_obj = result[\"metadata\"]\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:47:5\n   |\n46 |     metadata_obj = result[\"metadata\"]\n47 |     assert isinstance(metadata_obj, Mapping)\n   |     ^^^^^^\n48 |     metadata = cast(\"Mapping[str, object]\", metadata_obj)\n49 |     assert metadata[\"snapshot_exists\"] is True\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:49:5\n   |\n47 |     assert isinstance(metadata_obj, Mapping)\n48 |     metadata = cast(\"Mapping[str, object]\", metadata_obj)\n49 |     assert metadata[\"snapshot_exists\"] is True\n   |     ^^^^^^\n50 |     assert metadata[\"fallback_applied\"] is False\n51 |     assert metadata[\"launched\"] is False\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:50:5\n   |\n48 |     metadata = cast(\"Mapping[str, object]\", metadata_obj)\n49 |     assert metadata[\"snapshot_exists\"] is True\n50 |     assert metadata[\"fallback_applied\"] is False\n   |     ^^^^^^\n51 |     assert metadata[\"launched\"] is False\n52 |     assert metadata[\"stage_count\"] == 2\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:51:5\n   |\n49 |     assert metadata[\"snapshot_exists\"] is True\n50 |     assert metadata[\"fallback_applied\"] is False\n51 |     assert metadata[\"launched\"] is False\n   |     ^^^^^^\n52 |     assert metadata[\"stage_count\"] == 2\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:52:5\n   |\n50 |     assert metadata[\"fallback_applied\"] is False\n51 |     assert metadata[\"launched\"] is False\n52 |     assert metadata[\"stage_count\"] == 2\n   |     ^^^^^^\n   |\n\nPLR2004 Magic value used in comparison, consider replacing `2` with a constant variable\n  --> tests\\test_entry_module.py:52:39\n   |\n50 |     assert metadata[\"fallback_applied\"] is False\n51 |     assert metadata[\"launched\"] is False\n52 |     assert metadata[\"stage_count\"] == 2\n   |                                       ^\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:63:5\n   |\n62 |     result = main_json(payload)\n63 |     assert result[\"status\"] == \"success\"\n   |     ^^^^^^\n64 |     stage_defs_obj = result[\"stage_definitions\"]\n65 |     assert isinstance(stage_defs_obj, list)\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:65:5\n   |\n63 |     assert result[\"status\"] == \"success\"\n64 |     stage_defs_obj = result[\"stage_definitions\"]\n65 |     assert isinstance(stage_defs_obj, list)\n   |     ^^^^^^\n66 |     stage_defs = [cast(\"StageSummary\", entry) for entry in stage_defs_obj]\n67 |     assert len(stage_defs) == 1\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:67:5\n   |\n65 |     assert isinstance(stage_defs_obj, list)\n66 |     stage_defs = [cast(\"StageSummary\", entry) for entry in stage_defs_obj]\n67 |     assert len(stage_defs) == 1\n   |     ^^^^^^\n68 |     stage_def = stage_defs[0]\n69 |     assert \"id\" in stage_def\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:69:5\n   |\n67 |     assert len(stage_defs) == 1\n68 |     stage_def = stage_defs[0]\n69 |     assert \"id\" in stage_def\n   |     ^^^^^^\n70 |     assert stage_def[\"id\"] == \"environment\"\n71 |     assert stage_def.get(\"title\") == \"Environment\"\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:70:5\n   |\n68 |     stage_def = stage_defs[0]\n69 |     assert \"id\" in stage_def\n70 |     assert stage_def[\"id\"] == \"environment\"\n   |     ^^^^^^\n71 |     assert stage_def.get(\"title\") == \"Environment\"\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:71:5\n   |\n69 |     assert \"id\" in stage_def\n70 |     assert stage_def[\"id\"] == \"environment\"\n71 |     assert stage_def.get(\"title\") == \"Environment\"\n   |     ^^^^^^\n72 |\n73 |     metadata_obj = result[\"metadata\"]\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:74:5\n   |\n73 |     metadata_obj = result[\"metadata\"]\n74 |     assert isinstance(metadata_obj, Mapping)\n   |     ^^^^^^\n75 |     metadata = cast(\"Mapping[str, object]\", metadata_obj)\n76 |     assert metadata[\"snapshot_exists\"] is False\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:76:5\n   |\n74 |     assert isinstance(metadata_obj, Mapping)\n75 |     metadata = cast(\"Mapping[str, object]\", metadata_obj)\n76 |     assert metadata[\"snapshot_exists\"] is False\n   |     ^^^^^^\n77 |     assert metadata[\"fallback_applied\"] is True\n78 |     assert metadata[\"launched\"] is False\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:77:5\n   |\n75 |     metadata = cast(\"Mapping[str, object]\", metadata_obj)\n76 |     assert metadata[\"snapshot_exists\"] is False\n77 |     assert metadata[\"fallback_applied\"] is True\n   |     ^^^^^^\n78 |     assert metadata[\"launched\"] is False\n79 |     assert metadata[\"stage_count\"] == 1\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:78:5\n   |\n76 |     assert metadata[\"snapshot_exists\"] is False\n77 |     assert metadata[\"fallback_applied\"] is True\n78 |     assert metadata[\"launched\"] is False\n   |     ^^^^^^\n79 |     assert metadata[\"stage_count\"] == 1\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_entry_module.py:79:5\n   |\n77 |     assert metadata[\"fallback_applied\"] is True\n78 |     assert metadata[\"launched\"] is False\n79 |     assert metadata[\"stage_count\"] == 1\n   |     ^^^^^^\n   |\n\nS101 Use of `assert` detected\n   --> tests\\test_entry_module.py:101:9\n    |\n 99 |     def fake_worker(event: threading.Event) -> None:\n100 |         worker_events.append(event)\n101 |         assert event.is_set() is False\n    |         ^^^^^^\n102 |         event.set()\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_entry_module.py:112:5\n    |\n110 |     metadata = board.launch(worker=fake_worker)\n111 |\n112 |     assert observed[\"snapshot_path\"] == board.snapshot_path\n    |     ^^^^^^\n113 |     assert observed[\"stage_definitions\"] == stage_definitions\n114 |     assert observed[\"event_initial_state\"] is False\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_entry_module.py:113:5\n    |\n112 |     assert observed[\"snapshot_path\"] == board.snapshot_path\n113 |     assert observed[\"stage_definitions\"] == stage_definitions\n    |     ^^^^^^\n114 |     assert observed[\"event_initial_state\"] is False\n115 |     assert worker_events and worker_events[0].is_set()\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_entry_module.py:114:5\n    |\n112 |     assert observed[\"snapshot_path\"] == board.snapshot_path\n113 |     assert observed[\"stage_definitions\"] == stage_definitions\n114 |     assert observed[\"event_initial_state\"] is False\n    |     ^^^^^^\n115 |     assert worker_events and worker_events[0].is_set()\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_entry_module.py:115:5\n    |\n113 |     assert observed[\"stage_definitions\"] == stage_definitions\n114 |     assert observed[\"event_initial_state\"] is False\n115 |     assert worker_events and worker_events[0].is_set()\n    |     ^^^^^^\n116 |\n117 |     assert metadata[\"launched\"] is True\n    |\n\nPT018 Assertion should be broken down into multiple parts\n   --> tests\\test_entry_module.py:115:5\n    |\n113 |     assert observed[\"stage_definitions\"] == stage_definitions\n114 |     assert observed[\"event_initial_state\"] is False\n115 |     assert worker_events and worker_events[0].is_set()\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n116 |\n117 |     assert metadata[\"launched\"] is True\n    |\nhelp: Break down assertion into multiple parts\n\nS101 Use of `assert` detected\n   --> tests\\test_entry_module.py:117:5\n    |\n115 |     assert worker_events and worker_events[0].is_set()\n116 |\n117 |     assert metadata[\"launched\"] is True\n    |     ^^^^^^\n118 |     assert metadata[\"worker_attached\"] is True\n119 |     assert metadata[\"stage_count\"] == len(stage_definitions)\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_entry_module.py:118:5\n    |\n117 |     assert metadata[\"launched\"] is True\n118 |     assert metadata[\"worker_attached\"] is True\n    |     ^^^^^^\n119 |     assert metadata[\"stage_count\"] == len(stage_definitions)\n120 |     assert metadata[\"fallback_applied\"] is False\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_entry_module.py:119:5\n    |\n117 |     assert metadata[\"launched\"] is True\n118 |     assert metadata[\"worker_attached\"] is True\n119 |     assert metadata[\"stage_count\"] == len(stage_definitions)\n    |     ^^^^^^\n120 |     assert metadata[\"fallback_applied\"] is False\n121 |     assert \"worker_error\" not in metadata\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_entry_module.py:120:5\n    |\n118 |     assert metadata[\"worker_attached\"] is True\n119 |     assert metadata[\"stage_count\"] == len(stage_definitions)\n120 |     assert metadata[\"fallback_applied\"] is False\n    |     ^^^^^^\n121 |     assert \"worker_error\" not in metadata\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_entry_module.py:121:5\n    |\n119 |     assert metadata[\"stage_count\"] == len(stage_definitions)\n120 |     assert metadata[\"fallback_applied\"] is False\n121 |     assert \"worker_error\" not in metadata\n    |     ^^^^^^\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_entry_module.py:126:5\n    |\n124 | def test_main_json_invalid_payload_returns_failure() -> None:\n125 |     result = main_json({\"command\": \"unexpected\"})\n126 |     assert result[\"status\"] == \"failure\"\n    |     ^^^^^^\n127 |     assert \"input payload failed validation\" in cast(\"str\", result[\"message\"])\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_entry_module.py:127:5\n    |\n125 |     result = main_json({\"command\": \"unexpected\"})\n126 |     assert result[\"status\"] == \"failure\"\n127 |     assert \"input payload failed validation\" in cast(\"str\", result[\"message\"])\n    |     ^^^^^^\n    |\n\nTC003 Move standard library import `threading` into a type-checking block\n --> tests\\test_progress_board.py:4:8\n  |\n3 | import json\n4 | import threading\n  |        ^^^^^^^^^\n5 | from collections.abc import Sequence\n6 | from pathlib import Path\n  |\nhelp: Move into type-checking block\n\nTC003 Move standard library import `collections.abc.Sequence` into a type-checking block\n --> tests\\test_progress_board.py:5:29\n  |\n3 | import json\n4 | import threading\n5 | from collections.abc import Sequence\n  |                             ^^^^^^^^\n6 | from pathlib import Path\n7 | from typing import cast\n  |\nhelp: Move into type-checking block\n\nTC003 Move standard library import `pathlib.Path` into a type-checking block\n --> tests\\test_progress_board.py:6:21\n  |\n4 | import threading\n5 | from collections.abc import Sequence\n6 | from pathlib import Path\n  |                     ^^^^\n7 | from typing import cast\n  |\nhelp: Move into type-checking block\n\nS101 Use of `assert` detected\n  --> tests\\test_progress_board.py:40:9\n   |\n38 |     def worker(event: threading.Event) -> None:\n39 |         worker_called.append(True)\n40 |         assert event.is_set() is False\n   |         ^^^^^^\n41 |         event.set()\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_progress_board.py:49:5\n   |\n47 |     )\n48 |     result.thread.join(timeout=1)\n49 |     assert result.done_event.is_set() is True\n   |     ^^^^^^\n50 |     assert worker_called\n51 |     assert observed[\"snapshot_path\"] == snapshot_path\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_progress_board.py:50:5\n   |\n48 |     result.thread.join(timeout=1)\n49 |     assert result.done_event.is_set() is True\n50 |     assert worker_called\n   |     ^^^^^^\n51 |     assert observed[\"snapshot_path\"] == snapshot_path\n52 |     assert observed[\"stage_definitions\"] == [(\"env\", \"Environment\")]\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_progress_board.py:51:5\n   |\n49 |     assert result.done_event.is_set() is True\n50 |     assert worker_called\n51 |     assert observed[\"snapshot_path\"] == snapshot_path\n   |     ^^^^^^\n52 |     assert observed[\"stage_definitions\"] == [(\"env\", \"Environment\")]\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_progress_board.py:52:5\n   |\n50 |     assert worker_called\n51 |     assert observed[\"snapshot_path\"] == snapshot_path\n52 |     assert observed[\"stage_definitions\"] == [(\"env\", \"Environment\")]\n   |     ^^^^^^\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_progress_board.py:82:5\n   |\n81 |     exit_code = cli.main([\"--snapshot\", str(snapshot_path)])\n82 |     assert exit_code == 0\n   |     ^^^^^^\n83 |     assert observed[\"snapshot_path\"] == snapshot_path\n84 |     assert observed[\"stage_definitions\"] == [(\"env\", \"Environment\")]\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_progress_board.py:83:5\n   |\n81 |     exit_code = cli.main([\"--snapshot\", str(snapshot_path)])\n82 |     assert exit_code == 0\n83 |     assert observed[\"snapshot_path\"] == snapshot_path\n   |     ^^^^^^\n84 |     assert observed[\"stage_definitions\"] == [(\"env\", \"Environment\")]\n85 |     event = cast(\"threading.Event\", observed[\"event\"])\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_progress_board.py:84:5\n   |\n82 |     assert exit_code == 0\n83 |     assert observed[\"snapshot_path\"] == snapshot_path\n84 |     assert observed[\"stage_definitions\"] == [(\"env\", \"Environment\")]\n   |     ^^^^^^\n85 |     event = cast(\"threading.Event\", observed[\"event\"])\n86 |     assert event.is_set()\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_progress_board.py:86:5\n   |\n84 |     assert observed[\"stage_definitions\"] == [(\"env\", \"Environment\")]\n85 |     event = cast(\"threading.Event\", observed[\"event\"])\n86 |     assert event.is_set()\n   |     ^^^^^^\n   |\n\nBLE001 Do not catch blind exception: `Exception`\n  --> x_cls_make_progress_board_x.py:27:8\n   |\n25 |         run_progress_board as _run_progress_board,\n26 |     )\n27 | except Exception:  # pragma: no cover - resolved dynamically when PySide6 exists\n   |        ^^^^^^^^^\n28 |     DEFAULT_BOARD_RUNNER: BoardRunner | None = None\n29 | else:\n   |\n\nE501 Line too long (95 > 88)\n   --> x_cls_make_progress_board_x.py:243:89\n    |\n241 |         runner = self._runner\n242 |         if runner is None:\n243 |             message = \"Progress board runner unavailable; install PySide6 to launch the board.\"\n    |                                                                                         ^^^^^^^\n244 |             raise RuntimeError(message)\n245 |         stage_definitions = self._effective_stage_definitions()\n    |\n\nPLC0415 `import` should be at the top-level of a file\n   --> x_cls_make_progress_board_x.py:426:5\n    |\n424 |     payload = _load_json_payload(json_file)\n425 |     result = main_json(payload)\n426 |     import sys  # local import to keep module import light when PySide6 is absent\n    |     ^^^^^^^^^^\n427 |\n428 |     json.dump(result, sys.stdout, indent=2)\n    |\n\nPLC0415 `import` should be at the top-level of a file\n   --> x_cls_make_progress_board_x.py:433:5\n    |\n432 | def main(argv: Sequence[str] | None = None) -> int:\n433 |     from x_make_progress_board_x.cli import main as cli_main\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n434 |\n435 |     return cli_main(argv)\n    |\n\nFound 60 errors.\nNo fixes available (10 hidden fixes can be enabled with the `--unsafe-fixes` option).\n",
                "tool": "ruff_fix",
                "tool_module": "ruff",
                "tool_version": "ruff 0.14.4"
            },
            "exit": "exit 1",
            "message": "ruff_fix failed for x_make_progress_board_x (exit 1)\ncwd: C:\\x_runner_x\\x_make_progress_board_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311\nstarted_at: 2025-11-10T06:14:22.604861+00:00\nduration: 0.312s\ntool_version: ruff 0.14.4\nstdout:\nTC003 Move standard library import `collections.abc.Sequence` into a type-checking block\n --> cli.py:7:29\n  |\n5 | import argparse\n6 | import threading\n\u2026\nstderr:\n<empty>",
            "repo": "x_make_progress_board_x",
            "repo_path": "C:\\x_runner_x\\x_make_progress_board_x",
            "stderr_preview": null,
            "stdout_preview": "TC003 Move standard library import `collections.abc.Sequence` into a type-checking block\n --> cli.py:7:29\n  |\n5 | import argparse\n6 | import threading\n\u2026",
            "suggested_action": "Investigate",
            "summary": "ruff_fix failed for x_make_progress_board_x (exit 1) cwd: C:\\x_runner_x\\x_make_progress_board_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --li\u2026",
            "tool": "ruff_fix",
            "tool_version": "ruff 0.14.4"
        },
        {
            "captured_at": "2025-11-10T06:15:12.999216+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "black",
                    ".",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311",
                    "--check",
                    "--diff"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff",
                "cwd": "C:\\x_runner_x\\x_make_slack_dump_and_reset_z",
                "duration_seconds": 2.4451163000194356,
                "ended_at": "2025-11-10T06:15:12.999216+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "__main__.py",
                    "json_contracts/__init__.py",
                    "tests/__init__.py",
                    "tests/test_json_contracts.py",
                    "tests/test_persistent_env_isolation.py",
                    "tests/test_slack_dump_and_reset.py",
                    "x_cls_make_slack_dump_and_reset_x.py"
                ],
                "repo": "x_make_slack_dump_and_reset_z",
                "repo_hash": "361bc06b053e2c3082b161ff117cc6be5b02a482b3a835d0992a83f12f556713",
                "repo_path": "C:\\x_runner_x\\x_make_slack_dump_and_reset_z",
                "started_at": "2025-11-10T06:15:10.554100+00:00",
                "stderr": "would reformat C:\\x_runner_x\\x_make_slack_dump_and_reset_z\\tests\\test_persistent_env_isolation.py\n\nOh no! \\U0001f4a5 \\U0001f494 \\U0001f4a5\n1 file would be reformatted, 7 files would be left unchanged.\n",
                "stdout": "--- C:\\x_runner_x\\x_make_slack_dump_and_reset_z\\tests\\test_persistent_env_isolation.py\t2025-11-08 14:41:59.871949+00:00\n+++ C:\\x_runner_x\\x_make_slack_dump_and_reset_z\\tests\\test_persistent_env_isolation.py\t2025-11-10 06:15:12.346186+00:00\n@@ -3,17 +3,21 @@\n import importlib\n import sys\n \n \n def test_slack_dump_persistent_factory_is_always_none():\n-    mod = importlib.import_module(\"x_make_slack_dump_and_reset_z.x_cls_make_slack_dump_and_reset_x\")\n+    mod = importlib.import_module(\n+        \"x_make_slack_dump_and_reset_z.x_cls_make_slack_dump_and_reset_x\"\n+    )\n     # Factory must be None regardless of environment\n     assert getattr(mod, \"PersistentEnvReaderFactory\", None) is None\n \n \n def test_slack_token_resolution_does_not_import_persistent_tool(monkeypatch):\n-    mod = importlib.import_module(\"x_make_slack_dump_and_reset_z.x_cls_make_slack_dump_and_reset_x\")\n+    mod = importlib.import_module(\n+        \"x_make_slack_dump_and_reset_z.x_cls_make_slack_dump_and_reset_x\"\n+    )\n     target_mod = \"x_make_persistent_env_var_x.x_cls_make_persistent_env_var_x\"\n     if target_mod in sys.modules:\n         del sys.modules[target_mod]\n     # Call resolver directly\n     token, used = mod._resolve_persistent_slack_token()\n",
                "tool": "black",
                "tool_module": "black",
                "tool_version": "python -m black, 25.11.0 (compiled: yes)\nPython (CPython) 3.14.0"
            },
            "exit": "exit 1",
            "message": "black failed for x_make_slack_dump_and_reset_z (exit 1)\ncwd: C:\\x_runner_x\\x_make_slack_dump_and_reset_z\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff\nstarted_at: 2025-11-10T06:15:10.554100+00:00\nduration: 2.445s\ntool_version: python -m black, 25.11.0 (compiled: yes)\nPython (CPython) 3.14.0\nstdout:\n--- C:\\x_runner_x\\x_make_slack_dump_and_reset_z\\tests\\test_persistent_env_isolation.py\t2025-11-08 14:41:59.871949+00:00\n+++ C:\\x_runner_x\\x_make_slack_dump_and_reset_z\\tests\\test_persistent_env_isolation.py\t2025-11-10 06:15:12.346186+00:00\n@@ -3,17 +3,21 @@\n import importlib\n import sys\n\u2026\nstderr:\nwould reformat C:\\x_runner_x\\x_make_slack_dump_and_reset_z\\tests\\test_persistent_env_isolation.py\n\nOh no! \\U0001f4a5 \\U0001f494 \\U0001f4a5\n1 file would be reformatted, 7 files would be left unchanged.",
            "repo": "x_make_slack_dump_and_reset_z",
            "repo_path": "C:\\x_runner_x\\x_make_slack_dump_and_reset_z",
            "stderr_preview": "would reformat C:\\x_runner_x\\x_make_slack_dump_and_reset_z\\tests\\test_persistent_env_isolation.py\n\nOh no! \\U0001f4a5 \\U0001f494 \\U0001f4a5\n1 file would be reformatted, 7 files would be left unchanged.",
            "stdout_preview": "--- C:\\x_runner_x\\x_make_slack_dump_and_reset_z\\tests\\test_persistent_env_isolation.py\t2025-11-08 14:41:59.871949+00:00\n+++ C:\\x_runner_x\\x_make_slack_dump_and_reset_z\\tests\\test_persistent_env_isolation.py\t2025-11-10 06:15:12.346186+00:00\n@@ -3,17 +3,21 @@\n import importlib\n import sys\n\u2026",
            "suggested_action": "Investigate",
            "summary": "black failed for x_make_slack_dump_and_reset_z (exit 1) cwd: C:\\x_runner_x\\x_make_slack_dump_and_reset_z command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check \u2026",
            "tool": "black",
            "tool_version": "python -m black, 25.11.0 (compiled: yes)\nPython (CPython) 3.14.0"
        },
        {
            "captured_at": "2025-11-10T06:15:18.571554+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m mypy --package x_make_slack_dump_and_reset_z --strict --no-warn-unused-configs --show-error-codes --warn-return-any --warn-unreachable --disallow-any-unimported --disallow-any-expr --disallow-any-decorated --disallow-any-explicit",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "mypy",
                    "--package",
                    "x_make_slack_dump_and_reset_z",
                    "--strict",
                    "--no-warn-unused-configs",
                    "--show-error-codes",
                    "--warn-return-any",
                    "--warn-unreachable",
                    "--disallow-any-unimported",
                    "--disallow-any-expr",
                    "--disallow-any-decorated",
                    "--disallow-any-explicit"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m mypy --package x_make_slack_dump_and_reset_z --strict --no-warn-unused-configs --show-error-codes --warn-return-any --warn-unreachable --disallow-any-unimported --disallow-any-expr --disallow-any-decorated --disallow-any-explicit",
                "cwd": "C:\\x_runner_x\\x_make_slack_dump_and_reset_z",
                "duration_seconds": 5.428386899991892,
                "ended_at": "2025-11-10T06:15:18.571554+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "__main__.py",
                    "json_contracts/__init__.py",
                    "tests/__init__.py",
                    "tests/test_json_contracts.py",
                    "tests/test_persistent_env_isolation.py",
                    "tests/test_slack_dump_and_reset.py",
                    "x_cls_make_slack_dump_and_reset_x.py"
                ],
                "repo": "x_make_slack_dump_and_reset_z",
                "repo_hash": "361bc06b053e2c3082b161ff117cc6be5b02a482b3a835d0992a83f12f556713",
                "repo_path": "C:\\x_runner_x\\x_make_slack_dump_and_reset_z",
                "started_at": "2025-11-10T06:15:13.143164+00:00",
                "stderr": "",
                "stdout": "tests\\test_persistent_env_isolation.py:7: error: Function is missing a return type annotation  [no-untyped-def]\ntests\\test_persistent_env_isolation.py:7: note: Use \"-> None\" if function does not return a value\ntests\\test_persistent_env_isolation.py:10: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\ntests\\test_persistent_env_isolation.py:13: error: Function is missing a type annotation  [no-untyped-def]\ntests\\test_persistent_env_isolation.py:19: error: Expression has type \"Any\"  [misc]\ntests\\test_persistent_env_isolation.py:20: error: Expression has type \"Any\"  [misc]\ntests\\test_persistent_env_isolation.py:21: error: Expression has type \"Any\"  [misc]\nx_cls_make_slack_dump_and_reset_x.py:674: error: Expression type contains \"Any\" (has type \"list[Any]\")  [misc]\nx_cls_make_slack_dump_and_reset_x.py:952: error: Expression type contains \"Any\" (has type \"Callable[[Any], Any]\")  [misc]\nx_cls_make_slack_dump_and_reset_x.py:952: error: Expression has type \"Any\"  [misc]\nx_cls_make_slack_dump_and_reset_x.py:1069: error: Expression has type \"Any\"  [misc]\nx_cls_make_slack_dump_and_reset_x.py:1082: error: Expression has type \"Any\"  [misc]\nx_cls_make_slack_dump_and_reset_x.py:1083: error: Expression has type \"Any\"  [misc]\nx_cls_make_slack_dump_and_reset_x.py:1088: error: Expression has type \"Any\"  [misc]\nx_cls_make_slack_dump_and_reset_x.py:1089: error: Expression has type \"Any\"  [misc]\nFound 14 errors in 2 files (checked 8 source files)\n",
                "tool": "mypy",
                "tool_module": "mypy",
                "tool_version": "mypy 1.18.2 (compiled: yes)"
            },
            "exit": "exit 1",
            "message": "mypy failed for x_make_slack_dump_and_reset_z (exit 1)\ncwd: C:\\x_runner_x\\x_make_slack_dump_and_reset_z\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m mypy --package x_make_slack_dump_and_reset_z --strict --no-warn-unused-configs --show-error-codes --warn-return-any --warn-unreachable --disallow-any-unimported --disallow-any-expr --disallow-any-decorated --disallow-any-explicit\nstarted_at: 2025-11-10T06:15:13.143164+00:00\nduration: 5.428s\ntool_version: mypy 1.18.2 (compiled: yes)\nstdout:\ntests\\test_persistent_env_isolation.py:7: error: Function is missing a return type annotation  [no-untyped-def]\ntests\\test_persistent_env_isolation.py:7: note: Use \"-> None\" if function does not return a value\ntests\\test_persistent_env_isolation.py:10: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\ntests\\test_persistent_env_isolation.py:13: error: Function is missing a type annotation  [no-untyped-def]\ntests\\test_persistent_env_isolation.py:19: error: Expression has type \"Any\"  [misc]\n\u2026\nstderr:\n<empty>",
            "repo": "x_make_slack_dump_and_reset_z",
            "repo_path": "C:\\x_runner_x\\x_make_slack_dump_and_reset_z",
            "stderr_preview": null,
            "stdout_preview": "tests\\test_persistent_env_isolation.py:7: error: Function is missing a return type annotation  [no-untyped-def]\ntests\\test_persistent_env_isolation.py:7: note: Use \"-> None\" if function does not return a value\ntests\\test_persistent_env_isolation.py:10: error: Expression type contains \"Any\" (has type \"Any | None\")  [misc]\ntests\\test_persistent_env_isolation.py:13: error: Function is missing a type annotation  [no-untyped-def]\ntests\\test_persistent_env_isolation.py:19: error: Expression has type \"Any\"  [misc]\n\u2026",
            "suggested_action": "Investigate",
            "summary": "mypy failed for x_make_slack_dump_and_reset_z (exit 1) cwd: C:\\x_runner_x\\x_make_slack_dump_and_reset_z command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m mypy --package x_make_slack_dump_and_reset_z --strict --n\u2026",
            "tool": "mypy",
            "tool_version": "mypy 1.18.2 (compiled: yes)"
        },
        {
            "captured_at": "2025-11-10T06:15:13.137204+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "ruff",
                    "check",
                    ".",
                    "--select",
                    "ALL",
                    "--ignore",
                    "D,COM812,ISC001,T20",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
                "cwd": "C:\\x_runner_x\\x_make_slack_dump_and_reset_z",
                "duration_seconds": 0.13453739997930825,
                "ended_at": "2025-11-10T06:15:13.137204+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "__main__.py",
                    "json_contracts/__init__.py",
                    "tests/__init__.py",
                    "tests/test_json_contracts.py",
                    "tests/test_persistent_env_isolation.py",
                    "tests/test_slack_dump_and_reset.py",
                    "x_cls_make_slack_dump_and_reset_x.py"
                ],
                "repo": "x_make_slack_dump_and_reset_z",
                "repo_hash": "361bc06b053e2c3082b161ff117cc6be5b02a482b3a835d0992a83f12f556713",
                "repo_path": "C:\\x_runner_x\\x_make_slack_dump_and_reset_z",
                "started_at": "2025-11-10T06:15:13.002669+00:00",
                "stderr": "",
                "stdout": "ANN201 Missing return type annotation for public function `test_slack_dump_persistent_factory_is_always_none`\n --> tests\\test_persistent_env_isolation.py:7:5\n  |\n7 | def test_slack_dump_persistent_factory_is_always_none():\n  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n8 |     mod = importlib.import_module(\"x_make_slack_dump_and_reset_z.x_cls_make_slack_dump_and_reset_x\")\n9 |     # Factory must be None regardless of environment\n  |\nhelp: Add return type annotation: `None`\n\nE501 Line too long (100 > 88)\n  --> tests\\test_persistent_env_isolation.py:8:89\n   |\n 7 | def test_slack_dump_persistent_factory_is_always_none():\n 8 |     mod = importlib.import_module(\"x_make_slack_dump_and_reset_z.x_cls_make_slack_dump_and_reset_x\")\n   |                                                                                         ^^^^^^^^^^^^\n 9 |     # Factory must be None regardless of environment\n10 |     assert getattr(mod, \"PersistentEnvReaderFactory\", None) is None\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_persistent_env_isolation.py:10:5\n   |\n 8 |     mod = importlib.import_module(\"x_make_slack_dump_and_reset_z.x_cls_make_slack_dump_and_reset_x\")\n 9 |     # Factory must be None regardless of environment\n10 |     assert getattr(mod, \"PersistentEnvReaderFactory\", None) is None\n   |     ^^^^^^\n   |\n\nANN201 Missing return type annotation for public function `test_slack_token_resolution_does_not_import_persistent_tool`\n  --> tests\\test_persistent_env_isolation.py:13:5\n   |\n13 | def test_slack_token_resolution_does_not_import_persistent_tool(monkeypatch):\n   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n14 |     mod = importlib.import_module(\"x_make_slack_dump_and_reset_z.x_cls_make_slack_dump_and_reset_x\")\n15 |     target_mod = \"x_make_persistent_env_var_x.x_cls_make_persistent_env_var_x\"\n   |\nhelp: Add return type annotation: `None`\n\nANN001 Missing type annotation for function argument `monkeypatch`\n  --> tests\\test_persistent_env_isolation.py:13:65\n   |\n13 | def test_slack_token_resolution_does_not_import_persistent_tool(monkeypatch):\n   |                                                                 ^^^^^^^^^^^\n14 |     mod = importlib.import_module(\"x_make_slack_dump_and_reset_z.x_cls_make_slack_dump_and_reset_x\")\n15 |     target_mod = \"x_make_persistent_env_var_x.x_cls_make_persistent_env_var_x\"\n   |\n\nARG001 Unused function argument: `monkeypatch`\n  --> tests\\test_persistent_env_isolation.py:13:65\n   |\n13 | def test_slack_token_resolution_does_not_import_persistent_tool(monkeypatch):\n   |                                                                 ^^^^^^^^^^^\n14 |     mod = importlib.import_module(\"x_make_slack_dump_and_reset_z.x_cls_make_slack_dump_and_reset_x\")\n15 |     target_mod = \"x_make_persistent_env_var_x.x_cls_make_persistent_env_var_x\"\n   |\n\nE501 Line too long (100 > 88)\n  --> tests\\test_persistent_env_isolation.py:14:89\n   |\n13 | def test_slack_token_resolution_does_not_import_persistent_tool(monkeypatch):\n14 |     mod = importlib.import_module(\"x_make_slack_dump_and_reset_z.x_cls_make_slack_dump_and_reset_x\")\n   |                                                                                         ^^^^^^^^^^^^\n15 |     target_mod = \"x_make_persistent_env_var_x.x_cls_make_persistent_env_var_x\"\n16 |     if target_mod in sys.modules:\n   |\n\nSLF001 Private member accessed: `_resolve_persistent_slack_token`\n  --> tests\\test_persistent_env_isolation.py:19:19\n   |\n17 |         del sys.modules[target_mod]\n18 |     # Call resolver directly\n19 |     token, used = mod._resolve_persistent_slack_token()\n   |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n20 |     assert token is None\n21 |     assert used is False\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_persistent_env_isolation.py:20:5\n   |\n18 |     # Call resolver directly\n19 |     token, used = mod._resolve_persistent_slack_token()\n20 |     assert token is None\n   |     ^^^^^^\n21 |     assert used is False\n22 |     assert target_mod not in sys.modules\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_persistent_env_isolation.py:21:5\n   |\n19 |     token, used = mod._resolve_persistent_slack_token()\n20 |     assert token is None\n21 |     assert used is False\n   |     ^^^^^^\n22 |     assert target_mod not in sys.modules\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_persistent_env_isolation.py:22:5\n   |\n20 |     assert token is None\n21 |     assert used is False\n22 |     assert target_mod not in sys.modules\n   |     ^^^^^^\n   |\n\nS101 Use of `assert` detected\n   --> tests\\test_slack_dump_and_reset.py:122:5\n    |\n120 |     result = runner.run(payload)\n121 |\n122 |     assert result[\"status\"] == \"success\"\n    |     ^^^^^^\n123 |     assert result[\"schema_version\"] == SCHEMA_VERSION\n124 |     channels_obj = result[\"channels\"]\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_slack_dump_and_reset.py:123:5\n    |\n122 |     assert result[\"status\"] == \"success\"\n123 |     assert result[\"schema_version\"] == SCHEMA_VERSION\n    |     ^^^^^^\n124 |     channels_obj = result[\"channels\"]\n125 |     if not isinstance(channels_obj, list):\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_slack_dump_and_reset.py:128:5\n    |\n126 |         message = \"channels must be a list\"\n127 |         raise TypeError(message)\n128 |     assert channels_obj, \"channels result should not be empty\"\n    |     ^^^^^^\n129 |     channel_mapping_raw = channels_obj[0]\n130 |     if not isinstance(channel_mapping_raw, Mapping):\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_slack_dump_and_reset.py:135:5\n    |\n133 |     channel_mapping = cast(\"Mapping[str, object]\", channel_mapping_raw)\n134 |     channel_data = dict(channel_mapping)\n135 |     assert channel_data.get(\"channel_name\") == \"general\"\n    |     ^^^^^^\n136 |     assert channel_data.get(\"deleted\") is True\n137 |     assert channel_data.get(\"file_count\") == 1\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_slack_dump_and_reset.py:136:5\n    |\n134 |     channel_data = dict(channel_mapping)\n135 |     assert channel_data.get(\"channel_name\") == \"general\"\n136 |     assert channel_data.get(\"deleted\") is True\n    |     ^^^^^^\n137 |     assert channel_data.get(\"file_count\") == 1\n138 |     export_path_value = channel_data.get(\"export_path\")\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_slack_dump_and_reset.py:137:5\n    |\n135 |     assert channel_data.get(\"channel_name\") == \"general\"\n136 |     assert channel_data.get(\"deleted\") is True\n137 |     assert channel_data.get(\"file_count\") == 1\n    |     ^^^^^^\n138 |     export_path_value = channel_data.get(\"export_path\")\n139 |     if not isinstance(export_path_value, str):\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_slack_dump_and_reset.py:143:5\n    |\n141 |         raise TypeError(message)\n142 |     export_path = Path(export_path_value)\n143 |     assert export_path.exists()\n    |     ^^^^^^\n144 |     messages_file = export_path / \"messages.json\"\n145 |     assert messages_file.exists()\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_slack_dump_and_reset.py:145:5\n    |\n143 |     assert export_path.exists()\n144 |     messages_file = export_path / \"messages.json\"\n145 |     assert messages_file.exists()\n    |     ^^^^^^\n146 |     messages_raw: object = json.loads(messages_file.read_text(encoding=\"utf-8\"))\n147 |     if not isinstance(messages_raw, list):\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_slack_dump_and_reset.py:150:5\n    |\n148 |         message = \"Messages must be list\"\n149 |         raise TypeError(message)\n150 |     assert messages_raw, \"Messages list should not be empty\"\n    |     ^^^^^^\n151 |     first_message_raw = messages_raw[0]\n152 |     if not isinstance(first_message_raw, Mapping):\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_slack_dump_and_reset.py:156:5\n    |\n154 |         raise TypeError(message)\n155 |     first_message = dict(cast(\"Mapping[str, object]\", first_message_raw))\n156 |     assert first_message.get(\"text\") == \"Hello world\"\n    |     ^^^^^^\n157 |     assert fake_client.downloaded\n158 |     assert fake_client.deleted_messages\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_slack_dump_and_reset.py:157:5\n    |\n155 |     first_message = dict(cast(\"Mapping[str, object]\", first_message_raw))\n156 |     assert first_message.get(\"text\") == \"Hello world\"\n157 |     assert fake_client.downloaded\n    |     ^^^^^^\n158 |     assert fake_client.deleted_messages\n159 |     assert \"F123\" in fake_client.deleted_files\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_slack_dump_and_reset.py:158:5\n    |\n156 |     assert first_message.get(\"text\") == \"Hello world\"\n157 |     assert fake_client.downloaded\n158 |     assert fake_client.deleted_messages\n    |     ^^^^^^\n159 |     assert \"F123\" in fake_client.deleted_files\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_slack_dump_and_reset.py:159:5\n    |\n157 |     assert fake_client.downloaded\n158 |     assert fake_client.deleted_messages\n159 |     assert \"F123\" in fake_client.deleted_files\n    |     ^^^^^^\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_slack_dump_and_reset.py:186:5\n    |\n184 |     monkeypatch.delenv(\"SLACK_TOKEN\", raising=False)\n185 |\n186 |     assert result[\"status\"] == \"success\"\n    |     ^^^^^^\n    |\n\nBLE001 Do not catch blind exception: `Exception`\n   --> x_cls_make_slack_dump_and_reset_x.py:124:12\n    |\n122 |             x_cls_make_persistent_env_var_x as imported_persistent_env_factory,\n123 |         )\n124 |     except Exception:  # pragma: no cover - ignore missing during type checking\n    |            ^^^^^^^^^\n125 |         imported_persistent_env_factory = None  # type: ignore\n126 |     PersistentEnvReaderFactory: PersistentEnvReaderFactoryProtocol | None = cast(\n    |\n\nPGH003 Use specific rule codes when ignoring type issues\n   --> x_cls_make_slack_dump_and_reset_x.py:125:49\n    |\n123 |         )\n124 |     except Exception:  # pragma: no cover - ignore missing during type checking\n125 |         imported_persistent_env_factory = None  # type: ignore\n    |                                                 ^^^^^^^^^^^^^^\n126 |     PersistentEnvReaderFactory: PersistentEnvReaderFactoryProtocol | None = cast(\n127 |         \"PersistentEnvReaderFactoryProtocol\", imported_persistent_env_factory\n    |\n\nFound 27 errors.\nNo fixes available (2 hidden fixes can be enabled with the `--unsafe-fixes` option).\n",
                "tool": "ruff_check",
                "tool_module": "ruff",
                "tool_version": "ruff 0.14.4"
            },
            "exit": "exit 1",
            "message": "ruff_check failed for x_make_slack_dump_and_reset_z (exit 1)\ncwd: C:\\x_runner_x\\x_make_slack_dump_and_reset_z\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311\nstarted_at: 2025-11-10T06:15:13.002669+00:00\nduration: 0.135s\ntool_version: ruff 0.14.4\nstdout:\nANN201 Missing return type annotation for public function `test_slack_dump_persistent_factory_is_always_none`\n --> tests\\test_persistent_env_isolation.py:7:5\n  |\n7 | def test_slack_dump_persistent_factory_is_always_none():\n  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\u2026\nstderr:\n<empty>",
            "repo": "x_make_slack_dump_and_reset_z",
            "repo_path": "C:\\x_runner_x\\x_make_slack_dump_and_reset_z",
            "stderr_preview": null,
            "stdout_preview": "ANN201 Missing return type annotation for public function `test_slack_dump_persistent_factory_is_always_none`\n --> tests\\test_persistent_env_isolation.py:7:5\n  |\n7 | def test_slack_dump_persistent_factory_is_always_none():\n  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\u2026",
            "suggested_action": "Investigate",
            "summary": "ruff_check failed for x_make_slack_dump_and_reset_z (exit 1) cwd: C:\\x_runner_x\\x_make_slack_dump_and_reset_z command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,\u2026",
            "tool": "ruff_check",
            "tool_version": "ruff 0.14.4"
        },
        {
            "captured_at": "2025-11-10T06:15:10.550059+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "ruff",
                    "check",
                    ".",
                    "--fix",
                    "--select",
                    "ALL",
                    "--ignore",
                    "D,COM812,ISC001,T20",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
                "cwd": "C:\\x_runner_x\\x_make_slack_dump_and_reset_z",
                "duration_seconds": 0.2513014999567531,
                "ended_at": "2025-11-10T06:15:10.550059+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "__main__.py",
                    "json_contracts/__init__.py",
                    "tests/__init__.py",
                    "tests/test_json_contracts.py",
                    "tests/test_persistent_env_isolation.py",
                    "tests/test_slack_dump_and_reset.py",
                    "x_cls_make_slack_dump_and_reset_x.py"
                ],
                "repo": "x_make_slack_dump_and_reset_z",
                "repo_hash": "361bc06b053e2c3082b161ff117cc6be5b02a482b3a835d0992a83f12f556713",
                "repo_path": "C:\\x_runner_x\\x_make_slack_dump_and_reset_z",
                "started_at": "2025-11-10T06:15:10.298758+00:00",
                "stderr": "",
                "stdout": "ANN201 Missing return type annotation for public function `test_slack_dump_persistent_factory_is_always_none`\n --> tests\\test_persistent_env_isolation.py:7:5\n  |\n7 | def test_slack_dump_persistent_factory_is_always_none():\n  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n8 |     mod = importlib.import_module(\"x_make_slack_dump_and_reset_z.x_cls_make_slack_dump_and_reset_x\")\n9 |     # Factory must be None regardless of environment\n  |\nhelp: Add return type annotation: `None`\n\nE501 Line too long (100 > 88)\n  --> tests\\test_persistent_env_isolation.py:8:89\n   |\n 7 | def test_slack_dump_persistent_factory_is_always_none():\n 8 |     mod = importlib.import_module(\"x_make_slack_dump_and_reset_z.x_cls_make_slack_dump_and_reset_x\")\n   |                                                                                         ^^^^^^^^^^^^\n 9 |     # Factory must be None regardless of environment\n10 |     assert getattr(mod, \"PersistentEnvReaderFactory\", None) is None\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_persistent_env_isolation.py:10:5\n   |\n 8 |     mod = importlib.import_module(\"x_make_slack_dump_and_reset_z.x_cls_make_slack_dump_and_reset_x\")\n 9 |     # Factory must be None regardless of environment\n10 |     assert getattr(mod, \"PersistentEnvReaderFactory\", None) is None\n   |     ^^^^^^\n   |\n\nANN201 Missing return type annotation for public function `test_slack_token_resolution_does_not_import_persistent_tool`\n  --> tests\\test_persistent_env_isolation.py:13:5\n   |\n13 | def test_slack_token_resolution_does_not_import_persistent_tool(monkeypatch):\n   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n14 |     mod = importlib.import_module(\"x_make_slack_dump_and_reset_z.x_cls_make_slack_dump_and_reset_x\")\n15 |     target_mod = \"x_make_persistent_env_var_x.x_cls_make_persistent_env_var_x\"\n   |\nhelp: Add return type annotation: `None`\n\nANN001 Missing type annotation for function argument `monkeypatch`\n  --> tests\\test_persistent_env_isolation.py:13:65\n   |\n13 | def test_slack_token_resolution_does_not_import_persistent_tool(monkeypatch):\n   |                                                                 ^^^^^^^^^^^\n14 |     mod = importlib.import_module(\"x_make_slack_dump_and_reset_z.x_cls_make_slack_dump_and_reset_x\")\n15 |     target_mod = \"x_make_persistent_env_var_x.x_cls_make_persistent_env_var_x\"\n   |\n\nARG001 Unused function argument: `monkeypatch`\n  --> tests\\test_persistent_env_isolation.py:13:65\n   |\n13 | def test_slack_token_resolution_does_not_import_persistent_tool(monkeypatch):\n   |                                                                 ^^^^^^^^^^^\n14 |     mod = importlib.import_module(\"x_make_slack_dump_and_reset_z.x_cls_make_slack_dump_and_reset_x\")\n15 |     target_mod = \"x_make_persistent_env_var_x.x_cls_make_persistent_env_var_x\"\n   |\n\nE501 Line too long (100 > 88)\n  --> tests\\test_persistent_env_isolation.py:14:89\n   |\n13 | def test_slack_token_resolution_does_not_import_persistent_tool(monkeypatch):\n14 |     mod = importlib.import_module(\"x_make_slack_dump_and_reset_z.x_cls_make_slack_dump_and_reset_x\")\n   |                                                                                         ^^^^^^^^^^^^\n15 |     target_mod = \"x_make_persistent_env_var_x.x_cls_make_persistent_env_var_x\"\n16 |     if target_mod in sys.modules:\n   |\n\nSLF001 Private member accessed: `_resolve_persistent_slack_token`\n  --> tests\\test_persistent_env_isolation.py:19:19\n   |\n17 |         del sys.modules[target_mod]\n18 |     # Call resolver directly\n19 |     token, used = mod._resolve_persistent_slack_token()\n   |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n20 |     assert token is None\n21 |     assert used is False\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_persistent_env_isolation.py:20:5\n   |\n18 |     # Call resolver directly\n19 |     token, used = mod._resolve_persistent_slack_token()\n20 |     assert token is None\n   |     ^^^^^^\n21 |     assert used is False\n22 |     assert target_mod not in sys.modules\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_persistent_env_isolation.py:21:5\n   |\n19 |     token, used = mod._resolve_persistent_slack_token()\n20 |     assert token is None\n21 |     assert used is False\n   |     ^^^^^^\n22 |     assert target_mod not in sys.modules\n   |\n\nS101 Use of `assert` detected\n  --> tests\\test_persistent_env_isolation.py:22:5\n   |\n20 |     assert token is None\n21 |     assert used is False\n22 |     assert target_mod not in sys.modules\n   |     ^^^^^^\n   |\n\nS101 Use of `assert` detected\n   --> tests\\test_slack_dump_and_reset.py:122:5\n    |\n120 |     result = runner.run(payload)\n121 |\n122 |     assert result[\"status\"] == \"success\"\n    |     ^^^^^^\n123 |     assert result[\"schema_version\"] == SCHEMA_VERSION\n124 |     channels_obj = result[\"channels\"]\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_slack_dump_and_reset.py:123:5\n    |\n122 |     assert result[\"status\"] == \"success\"\n123 |     assert result[\"schema_version\"] == SCHEMA_VERSION\n    |     ^^^^^^\n124 |     channels_obj = result[\"channels\"]\n125 |     if not isinstance(channels_obj, list):\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_slack_dump_and_reset.py:128:5\n    |\n126 |         message = \"channels must be a list\"\n127 |         raise TypeError(message)\n128 |     assert channels_obj, \"channels result should not be empty\"\n    |     ^^^^^^\n129 |     channel_mapping_raw = channels_obj[0]\n130 |     if not isinstance(channel_mapping_raw, Mapping):\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_slack_dump_and_reset.py:135:5\n    |\n133 |     channel_mapping = cast(\"Mapping[str, object]\", channel_mapping_raw)\n134 |     channel_data = dict(channel_mapping)\n135 |     assert channel_data.get(\"channel_name\") == \"general\"\n    |     ^^^^^^\n136 |     assert channel_data.get(\"deleted\") is True\n137 |     assert channel_data.get(\"file_count\") == 1\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_slack_dump_and_reset.py:136:5\n    |\n134 |     channel_data = dict(channel_mapping)\n135 |     assert channel_data.get(\"channel_name\") == \"general\"\n136 |     assert channel_data.get(\"deleted\") is True\n    |     ^^^^^^\n137 |     assert channel_data.get(\"file_count\") == 1\n138 |     export_path_value = channel_data.get(\"export_path\")\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_slack_dump_and_reset.py:137:5\n    |\n135 |     assert channel_data.get(\"channel_name\") == \"general\"\n136 |     assert channel_data.get(\"deleted\") is True\n137 |     assert channel_data.get(\"file_count\") == 1\n    |     ^^^^^^\n138 |     export_path_value = channel_data.get(\"export_path\")\n139 |     if not isinstance(export_path_value, str):\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_slack_dump_and_reset.py:143:5\n    |\n141 |         raise TypeError(message)\n142 |     export_path = Path(export_path_value)\n143 |     assert export_path.exists()\n    |     ^^^^^^\n144 |     messages_file = export_path / \"messages.json\"\n145 |     assert messages_file.exists()\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_slack_dump_and_reset.py:145:5\n    |\n143 |     assert export_path.exists()\n144 |     messages_file = export_path / \"messages.json\"\n145 |     assert messages_file.exists()\n    |     ^^^^^^\n146 |     messages_raw: object = json.loads(messages_file.read_text(encoding=\"utf-8\"))\n147 |     if not isinstance(messages_raw, list):\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_slack_dump_and_reset.py:150:5\n    |\n148 |         message = \"Messages must be list\"\n149 |         raise TypeError(message)\n150 |     assert messages_raw, \"Messages list should not be empty\"\n    |     ^^^^^^\n151 |     first_message_raw = messages_raw[0]\n152 |     if not isinstance(first_message_raw, Mapping):\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_slack_dump_and_reset.py:156:5\n    |\n154 |         raise TypeError(message)\n155 |     first_message = dict(cast(\"Mapping[str, object]\", first_message_raw))\n156 |     assert first_message.get(\"text\") == \"Hello world\"\n    |     ^^^^^^\n157 |     assert fake_client.downloaded\n158 |     assert fake_client.deleted_messages\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_slack_dump_and_reset.py:157:5\n    |\n155 |     first_message = dict(cast(\"Mapping[str, object]\", first_message_raw))\n156 |     assert first_message.get(\"text\") == \"Hello world\"\n157 |     assert fake_client.downloaded\n    |     ^^^^^^\n158 |     assert fake_client.deleted_messages\n159 |     assert \"F123\" in fake_client.deleted_files\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_slack_dump_and_reset.py:158:5\n    |\n156 |     assert first_message.get(\"text\") == \"Hello world\"\n157 |     assert fake_client.downloaded\n158 |     assert fake_client.deleted_messages\n    |     ^^^^^^\n159 |     assert \"F123\" in fake_client.deleted_files\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_slack_dump_and_reset.py:159:5\n    |\n157 |     assert fake_client.downloaded\n158 |     assert fake_client.deleted_messages\n159 |     assert \"F123\" in fake_client.deleted_files\n    |     ^^^^^^\n    |\n\nS101 Use of `assert` detected\n   --> tests\\test_slack_dump_and_reset.py:186:5\n    |\n184 |     monkeypatch.delenv(\"SLACK_TOKEN\", raising=False)\n185 |\n186 |     assert result[\"status\"] == \"success\"\n    |     ^^^^^^\n    |\n\nBLE001 Do not catch blind exception: `Exception`\n   --> x_cls_make_slack_dump_and_reset_x.py:124:12\n    |\n122 |             x_cls_make_persistent_env_var_x as imported_persistent_env_factory,\n123 |         )\n124 |     except Exception:  # pragma: no cover - ignore missing during type checking\n    |            ^^^^^^^^^\n125 |         imported_persistent_env_factory = None  # type: ignore\n126 |     PersistentEnvReaderFactory: PersistentEnvReaderFactoryProtocol | None = cast(\n    |\n\nPGH003 Use specific rule codes when ignoring type issues\n   --> x_cls_make_slack_dump_and_reset_x.py:125:49\n    |\n123 |         )\n124 |     except Exception:  # pragma: no cover - ignore missing during type checking\n125 |         imported_persistent_env_factory = None  # type: ignore\n    |                                                 ^^^^^^^^^^^^^^\n126 |     PersistentEnvReaderFactory: PersistentEnvReaderFactoryProtocol | None = cast(\n127 |         \"PersistentEnvReaderFactoryProtocol\", imported_persistent_env_factory\n    |\n\nFound 27 errors.\nNo fixes available (2 hidden fixes can be enabled with the `--unsafe-fixes` option).\n",
                "tool": "ruff_fix",
                "tool_module": "ruff",
                "tool_version": "ruff 0.14.4"
            },
            "exit": "exit 1",
            "message": "ruff_fix failed for x_make_slack_dump_and_reset_z (exit 1)\ncwd: C:\\x_runner_x\\x_make_slack_dump_and_reset_z\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311\nstarted_at: 2025-11-10T06:15:10.298758+00:00\nduration: 0.251s\ntool_version: ruff 0.14.4\nstdout:\nANN201 Missing return type annotation for public function `test_slack_dump_persistent_factory_is_always_none`\n --> tests\\test_persistent_env_isolation.py:7:5\n  |\n7 | def test_slack_dump_persistent_factory_is_always_none():\n  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\u2026\nstderr:\n<empty>",
            "repo": "x_make_slack_dump_and_reset_z",
            "repo_path": "C:\\x_runner_x\\x_make_slack_dump_and_reset_z",
            "stderr_preview": null,
            "stdout_preview": "ANN201 Missing return type annotation for public function `test_slack_dump_persistent_factory_is_always_none`\n --> tests\\test_persistent_env_isolation.py:7:5\n  |\n7 | def test_slack_dump_persistent_factory_is_always_none():\n  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\u2026",
            "suggested_action": "Investigate",
            "summary": "ruff_fix failed for x_make_slack_dump_and_reset_z (exit 1) cwd: C:\\x_runner_x\\x_make_slack_dump_and_reset_z command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC\u2026",
            "tool": "ruff_fix",
            "tool_version": "ruff 0.14.4"
        },
        {
            "captured_at": "2025-11-10T06:15:29.658273+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "black",
                    ".",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311",
                    "--check",
                    "--diff"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff",
                "cwd": "C:\\x_runner_x\\x_make_yahw_x",
                "duration_seconds": 2.1814675999921747,
                "ended_at": "2025-11-10T06:15:29.658273+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "json_contracts.py",
                    "tests/__init__.py",
                    "tests/conftest.py",
                    "tests/test_json_contracts.py",
                    "tests/test_main_json.py",
                    "tests/test_yahw.py",
                    "x_cls_make_yahw_x.py"
                ],
                "repo": "x_make_yahw_x",
                "repo_hash": "2a061b1bddee8802b5bf7c737b9c97d483c462862e2b893b99b2016e438fdc37",
                "repo_path": "C:\\x_runner_x\\x_make_yahw_x",
                "started_at": "2025-11-10T06:15:27.476818+00:00",
                "stderr": "would reformat C:\\x_runner_x\\x_make_yahw_x\\x_cls_make_yahw_x.py\n\nOh no! \\U0001f4a5 \\U0001f494 \\U0001f4a5\n1 file would be reformatted, 7 files would be left unchanged.\n",
                "stdout": "--- C:\\x_runner_x\\x_make_yahw_x\\x_cls_make_yahw_x.py\t2025-11-10 05:04:25.786156+00:00\n+++ C:\\x_runner_x\\x_make_yahw_x\\x_cls_make_yahw_x.py\t2025-11-10 06:15:29.365969+00:00\n@@ -86,11 +86,11 @@\n         namespace.parent_ctx = ctx\n     return namespace\n \n \n def _maybe_generate_projection(\n-    context_mapping: Mapping[str, object] | None\n+    context_mapping: Mapping[str, object] | None,\n ) -> tuple[Path, str] | None:\n     if not context_mapping:\n         return None\n     plan_obj = context_mapping.get(\"plan\")\n     plan_raw = str(plan_obj).strip() if isinstance(plan_obj, str) else None\n@@ -98,11 +98,15 @@\n     if not plan_value:\n         return None\n \n     canonical_plan = None\n     for known in _SMOKE_PLAN_NAMES:\n-        if plan_value == known or plan_value.endswith(f\"/{known}\") or known in plan_value:\n+        if (\n+            plan_value == known\n+            or plan_value.endswith(f\"/{known}\")\n+            or known in plan_value\n+        ):\n             canonical_plan = known\n             break\n     if canonical_plan is None:\n         return None\n \n",
                "tool": "black",
                "tool_module": "black",
                "tool_version": "python -m black, 25.11.0 (compiled: yes)\nPython (CPython) 3.14.0"
            },
            "exit": "exit 1",
            "message": "black failed for x_make_yahw_x (exit 1)\ncwd: C:\\x_runner_x\\x_make_yahw_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff\nstarted_at: 2025-11-10T06:15:27.476818+00:00\nduration: 2.181s\ntool_version: python -m black, 25.11.0 (compiled: yes)\nPython (CPython) 3.14.0\nstdout:\n--- C:\\x_runner_x\\x_make_yahw_x\\x_cls_make_yahw_x.py\t2025-11-10 05:04:25.786156+00:00\n+++ C:\\x_runner_x\\x_make_yahw_x\\x_cls_make_yahw_x.py\t2025-11-10 06:15:29.365969+00:00\n@@ -86,11 +86,11 @@\n         namespace.parent_ctx = ctx\n     return namespace\n\u2026\nstderr:\nwould reformat C:\\x_runner_x\\x_make_yahw_x\\x_cls_make_yahw_x.py\n\nOh no! \\U0001f4a5 \\U0001f494 \\U0001f4a5\n1 file would be reformatted, 7 files would be left unchanged.",
            "repo": "x_make_yahw_x",
            "repo_path": "C:\\x_runner_x\\x_make_yahw_x",
            "stderr_preview": "would reformat C:\\x_runner_x\\x_make_yahw_x\\x_cls_make_yahw_x.py\n\nOh no! \\U0001f4a5 \\U0001f494 \\U0001f4a5\n1 file would be reformatted, 7 files would be left unchanged.",
            "stdout_preview": "--- C:\\x_runner_x\\x_make_yahw_x\\x_cls_make_yahw_x.py\t2025-11-10 05:04:25.786156+00:00\n+++ C:\\x_runner_x\\x_make_yahw_x\\x_cls_make_yahw_x.py\t2025-11-10 06:15:29.365969+00:00\n@@ -86,11 +86,11 @@\n         namespace.parent_ctx = ctx\n     return namespace\n\u2026",
            "suggested_action": "Investigate",
            "summary": "black failed for x_make_yahw_x (exit 1) cwd: C:\\x_runner_x\\x_make_yahw_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m black . --line-length 88 --target-version py311 --check --diff started_at: 2025-11-10T06\u2026",
            "tool": "black",
            "tool_version": "python -m black, 25.11.0 (compiled: yes)\nPython (CPython) 3.14.0"
        },
        {
            "captured_at": "2025-11-10T06:15:33.493422+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m mypy --package x_make_yahw_x --strict --no-warn-unused-configs --show-error-codes --warn-return-any --warn-unreachable --disallow-any-unimported --disallow-any-expr --disallow-any-decorated --disallow-any-explicit",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "mypy",
                    "--package",
                    "x_make_yahw_x",
                    "--strict",
                    "--no-warn-unused-configs",
                    "--show-error-codes",
                    "--warn-return-any",
                    "--warn-unreachable",
                    "--disallow-any-unimported",
                    "--disallow-any-expr",
                    "--disallow-any-decorated",
                    "--disallow-any-explicit"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m mypy --package x_make_yahw_x --strict --no-warn-unused-configs --show-error-codes --warn-return-any --warn-unreachable --disallow-any-unimported --disallow-any-expr --disallow-any-decorated --disallow-any-explicit",
                "cwd": "C:\\x_runner_x\\x_make_yahw_x",
                "duration_seconds": 3.6766918000066653,
                "ended_at": "2025-11-10T06:15:33.493422+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "json_contracts.py",
                    "tests/__init__.py",
                    "tests/conftest.py",
                    "tests/test_json_contracts.py",
                    "tests/test_main_json.py",
                    "tests/test_yahw.py",
                    "x_cls_make_yahw_x.py"
                ],
                "repo": "x_make_yahw_x",
                "repo_hash": "2a061b1bddee8802b5bf7c737b9c97d483c462862e2b893b99b2016e438fdc37",
                "repo_path": "C:\\x_runner_x\\x_make_yahw_x",
                "started_at": "2025-11-10T06:15:29.816732+00:00",
                "stderr": "",
                "stdout": "x_cls_make_yahw_x.py:243: error: Expression type contains \"Any\" (has type \"list[Any]\")  [misc]\nFound 1 error in 1 file (checked 11 source files)\n",
                "tool": "mypy",
                "tool_module": "mypy",
                "tool_version": "mypy 1.18.2 (compiled: yes)"
            },
            "exit": "exit 1",
            "message": "mypy failed for x_make_yahw_x (exit 1)\ncwd: C:\\x_runner_x\\x_make_yahw_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m mypy --package x_make_yahw_x --strict --no-warn-unused-configs --show-error-codes --warn-return-any --warn-unreachable --disallow-any-unimported --disallow-any-expr --disallow-any-decorated --disallow-any-explicit\nstarted_at: 2025-11-10T06:15:29.816732+00:00\nduration: 3.677s\ntool_version: mypy 1.18.2 (compiled: yes)\nstdout:\nx_cls_make_yahw_x.py:243: error: Expression type contains \"Any\" (has type \"list[Any]\")  [misc]\nFound 1 error in 1 file (checked 11 source files)\nstderr:\n<empty>",
            "repo": "x_make_yahw_x",
            "repo_path": "C:\\x_runner_x\\x_make_yahw_x",
            "stderr_preview": null,
            "stdout_preview": "x_cls_make_yahw_x.py:243: error: Expression type contains \"Any\" (has type \"list[Any]\")  [misc]\nFound 1 error in 1 file (checked 11 source files)",
            "suggested_action": "Investigate",
            "summary": "mypy failed for x_make_yahw_x (exit 1) cwd: C:\\x_runner_x\\x_make_yahw_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m mypy --package x_make_yahw_x --strict --no-warn-unused-configs --show-error-codes --warn-\u2026",
            "tool": "mypy",
            "tool_version": "mypy 1.18.2 (compiled: yes)"
        },
        {
            "captured_at": "2025-11-10T06:15:29.813921+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "ruff",
                    "check",
                    ".",
                    "--select",
                    "ALL",
                    "--ignore",
                    "D,COM812,ISC001,T20",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
                "cwd": "C:\\x_runner_x\\x_make_yahw_x",
                "duration_seconds": 0.15127029997529462,
                "ended_at": "2025-11-10T06:15:29.813921+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "json_contracts.py",
                    "tests/__init__.py",
                    "tests/conftest.py",
                    "tests/test_json_contracts.py",
                    "tests/test_main_json.py",
                    "tests/test_yahw.py",
                    "x_cls_make_yahw_x.py"
                ],
                "repo": "x_make_yahw_x",
                "repo_hash": "2a061b1bddee8802b5bf7c737b9c97d483c462862e2b893b99b2016e438fdc37",
                "repo_path": "C:\\x_runner_x\\x_make_yahw_x",
                "started_at": "2025-11-10T06:15:29.662651+00:00",
                "stderr": "",
                "stdout": "PLR0911 Too many return statements (7 > 6)\n  --> x_cls_make_yahw_x.py:90:5\n   |\n90 | def _maybe_generate_projection(\n   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^\n91 |     context_mapping: Mapping[str, object] | None\n92 | ) -> tuple[Path, str] | None:\n   |\n\nE501 Line too long (90 > 88)\n   --> x_cls_make_yahw_x.py:103:89\n    |\n101 |     canonical_plan = None\n102 |     for known in _SMOKE_PLAN_NAMES:\n103 |         if plan_value == known or plan_value.endswith(f\"/{known}\") or known in plan_value:\n    |                                                                                         ^^\n104 |             canonical_plan = known\n105 |             break\n    |\n\nBLE001 Do not catch blind exception: `Exception`\n   --> x_cls_make_yahw_x.py:120:12\n    |\n118 |         snapshot_path = run_dir / f\"astral_projection_{canonical_plan}.json\"\n119 |         write_snapshot(snapshot, snapshot_path)\n120 |     except Exception:  # pragma: no cover - demo emission best-effort\n    |            ^^^^^^^^^\n121 |         return None\n122 |     return snapshot_path, canonical_plan\n    |\n\nFound 3 errors.\n",
                "tool": "ruff_check",
                "tool_module": "ruff",
                "tool_version": "ruff 0.14.4"
            },
            "exit": "exit 1",
            "message": "ruff_check failed for x_make_yahw_x (exit 1)\ncwd: C:\\x_runner_x\\x_make_yahw_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311\nstarted_at: 2025-11-10T06:15:29.662651+00:00\nduration: 0.151s\ntool_version: ruff 0.14.4\nstdout:\nPLR0911 Too many return statements (7 > 6)\n  --> x_cls_make_yahw_x.py:90:5\n   |\n90 | def _maybe_generate_projection(\n   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^\n\u2026\nstderr:\n<empty>",
            "repo": "x_make_yahw_x",
            "repo_path": "C:\\x_runner_x\\x_make_yahw_x",
            "stderr_preview": null,
            "stdout_preview": "PLR0911 Too many return statements (7 > 6)\n  --> x_cls_make_yahw_x.py:90:5\n   |\n90 | def _maybe_generate_projection(\n   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^\n\u2026",
            "suggested_action": "Investigate",
            "summary": "ruff_check failed for x_make_yahw_x (exit 1) cwd: C:\\x_runner_x\\x_make_yahw_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-ve\u2026",
            "tool": "ruff_check",
            "tool_version": "ruff 0.14.4"
        },
        {
            "captured_at": "2025-11-10T06:15:27.473122+00:00",
            "command": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
            "detail": {
                "cached": false,
                "cmd": [
                    "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
                    "-m",
                    "ruff",
                    "check",
                    ".",
                    "--fix",
                    "--select",
                    "ALL",
                    "--ignore",
                    "D,COM812,ISC001,T20",
                    "--line-length",
                    "88",
                    "--target-version",
                    "py311"
                ],
                "cmd_display": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311",
                "cwd": "C:\\x_runner_x\\x_make_yahw_x",
                "duration_seconds": 0.1470092000090517,
                "ended_at": "2025-11-10T06:15:27.473122+00:00",
                "exit": 1,
                "failed_files": [],
                "files_checked": [
                    "__init__.py",
                    "json_contracts.py",
                    "tests/__init__.py",
                    "tests/conftest.py",
                    "tests/test_json_contracts.py",
                    "tests/test_main_json.py",
                    "tests/test_yahw.py",
                    "x_cls_make_yahw_x.py"
                ],
                "repo": "x_make_yahw_x",
                "repo_hash": "2a061b1bddee8802b5bf7c737b9c97d483c462862e2b893b99b2016e438fdc37",
                "repo_path": "C:\\x_runner_x\\x_make_yahw_x",
                "started_at": "2025-11-10T06:15:27.326107+00:00",
                "stderr": "",
                "stdout": "PLR0911 Too many return statements (7 > 6)\n  --> x_cls_make_yahw_x.py:90:5\n   |\n90 | def _maybe_generate_projection(\n   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^\n91 |     context_mapping: Mapping[str, object] | None\n92 | ) -> tuple[Path, str] | None:\n   |\n\nE501 Line too long (90 > 88)\n   --> x_cls_make_yahw_x.py:103:89\n    |\n101 |     canonical_plan = None\n102 |     for known in _SMOKE_PLAN_NAMES:\n103 |         if plan_value == known or plan_value.endswith(f\"/{known}\") or known in plan_value:\n    |                                                                                         ^^\n104 |             canonical_plan = known\n105 |             break\n    |\n\nBLE001 Do not catch blind exception: `Exception`\n   --> x_cls_make_yahw_x.py:120:12\n    |\n118 |         snapshot_path = run_dir / f\"astral_projection_{canonical_plan}.json\"\n119 |         write_snapshot(snapshot, snapshot_path)\n120 |     except Exception:  # pragma: no cover - demo emission best-effort\n    |            ^^^^^^^^^\n121 |         return None\n122 |     return snapshot_path, canonical_plan\n    |\n\nFound 3 errors.\n",
                "tool": "ruff_fix",
                "tool_module": "ruff",
                "tool_version": "ruff 0.14.4"
            },
            "exit": "exit 1",
            "message": "ruff_fix failed for x_make_yahw_x (exit 1)\ncwd: C:\\x_runner_x\\x_make_yahw_x\ncommand: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --target-version py311\nstarted_at: 2025-11-10T06:15:27.326107+00:00\nduration: 0.147s\ntool_version: ruff 0.14.4\nstdout:\nPLR0911 Too many return statements (7 > 6)\n  --> x_cls_make_yahw_x.py:90:5\n   |\n90 | def _maybe_generate_projection(\n   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^\n\u2026\nstderr:\n<empty>",
            "repo": "x_make_yahw_x",
            "repo_path": "C:\\x_runner_x\\x_make_yahw_x",
            "stderr_preview": null,
            "stdout_preview": "PLR0911 Too many return statements (7 > 6)\n  --> x_cls_make_yahw_x.py:90:5\n   |\n90 | def _maybe_generate_projection(\n   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^\n\u2026",
            "suggested_action": "Investigate",
            "summary": "ruff_fix failed for x_make_yahw_x (exit 1) cwd: C:\\x_runner_x\\x_make_yahw_x command: C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe -m ruff check . --fix --select ALL --ignore D,COM812,ISC001,T20 --line-length 88 --targe\u2026",
            "tool": "ruff_fix",
            "tool_version": "ruff 0.14.4"
        }
    ],
    "generated_at": "2025-11-10T06:15:36.785586+00:00",
    "runtime": {
        "environment": {
            "PATH": "C:\\windows\\system32;C:\\windows;C:\\windows\\System32\\Wbem;C:\\windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\windows\\System32\\OpenSSH\\;C:\\Program Files\\HP\\HP One Agent;C:\\Program Files\\Git\\cmd;C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Launcher\\;C:\\Users\\eye43\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\x_runner_x\\tools\\node-v20.11.1-win-x64\\node-v20.11.1-win-x64;C:\\x_runner_x\\tools\\node-v20.11.1-win-x64\\node-v20.11.1-win-x64\\node_modules\\npm\\bin;C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\Scripts;c:\\Users\\eye43\\.vscode\\extensions\\ms-python.debugpy-2025.14.1-win32-x64\\bundled\\scripts\\noConfigScripts;c:\\Users\\eye43\\AppData\\Roaming\\Code\\User\\globalStorage\\github.copilot-chat\\debugCommand"
        },
        "fast_paths": {
            "quick_mode": false,
            "skip_content_hash": false,
            "skip_tools": false
        },
        "platform": "Windows-11-10.0.26100-SP0",
        "python_executable": "C:\\Users\\eye43\\AppData\\Local\\Programs\\Python\\Python314\\python.exe",
        "python_version": "3.14.0 (tags/v3.14.0:ebf955d, Oct  7 2025, 10:15:03) [MSC v.1944 64 bit (AMD64)]",
        "run_completed_at": "2025-11-10T06:15:36.781366+00:00",
        "run_started_at": "2025-11-10T06:10:25.244675+00:00",
        "selected_tools": [
            "ruff_fix",
            "black",
            "ruff_check",
            "mypy",
            "pyright"
        ],
        "workspace_root": "C:\\x_runner_x"
    },
    "schema_version": "1.0",
    "summary": {
        "fast_paths": {
            "quick_mode": false,
            "skip_content_hash": false,
            "skip_tools": false
        },
        "fast_paths_active": [],
        "overall_stats": {
            "cache_hits": 79,
            "cache_misses": 81,
            "failed_tools": 43,
            "had_failures": true,
            "total_tools_run": 160
        },
        "repos": {
            "x_0_make_all_x": {
                "cached": 0,
                "failed": 4,
                "repo_hash": "46e117c530d65f5725c9dc6c0451ba5ed570aa58be03f1875269d5b7bc2cccdb",
                "tools": {
                    "black": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    },
                    "mypy": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "pyright": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    },
                    "ruff_check": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    },
                    "ruff_fix": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    }
                }
            },
            "x_0_make_ppnw_dot_ai_change_control_x": {
                "cached": 2,
                "failed": 0,
                "repo_hash": "f2a122364bb2cffc83e02ee52b509e8cd5bfe237659d861ee6f9fb6e30206010",
                "tools": {
                    "black": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "mypy": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "pyright": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_check": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_fix": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    }
                }
            },
            "x_0_make_ppnw_dot_ai_x": {
                "cached": 5,
                "failed": 0,
                "repo_hash": "63ce87f2e9b86123756d1e4f4f5dfc9606f4a6b228e3476bd051c4eb3a1e7b4f",
                "tools": {
                    "black": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "mypy": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "pyright": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_check": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_fix": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    }
                }
            },
            "x_0_run_all_x": {
                "cached": 0,
                "failed": 3,
                "repo_hash": "8b41b7da99a0b7b54966404e8a91abb943e0638223d35bbde759aa6e7e8b70b4",
                "tools": {
                    "black": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    },
                    "mypy": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "pyright": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_check": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    },
                    "ruff_fix": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    }
                }
            },
            "x_legatus_acta_schedae_x": {
                "cached": 5,
                "failed": 0,
                "repo_hash": "db08d6df9b643942509d6a0f2551f6d77be358c5b8ec8deabebc3a959c089e75",
                "tools": {
                    "black": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "mypy": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "pyright": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_check": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_fix": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    }
                }
            },
            "x_legatus_caecus_orator_x": {
                "cached": 2,
                "failed": 0,
                "repo_hash": "23dd6d757c2aec0a86d92b8df6c417f9e9055047c8ef05e00e4fddbdb1def01a",
                "tools": {
                    "black": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "mypy": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "pyright": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_check": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_fix": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    }
                }
            },
            "x_legatus_canis_cursor_x": {
                "cached": 2,
                "failed": 0,
                "repo_hash": "6a26af6b2bda8baa46b7a6c98b2b6225ffa8e460384081460eb4e89d17784e72",
                "tools": {
                    "black": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "mypy": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "pyright": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_check": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_fix": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    }
                }
            },
            "x_legatus_capsula_calculus_x": {
                "cached": 1,
                "failed": 4,
                "repo_hash": "517039f08465b425b47feefd8493c14880b76b54feb9cc5df0a2215229701a37",
                "tools": {
                    "black": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    },
                    "mypy": {
                        "cached": false,
                        "exit": 2,
                        "timed_out": false
                    },
                    "pyright": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_check": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    },
                    "ruff_fix": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    }
                }
            },
            "x_legatus_catena_sensus_x": {
                "cached": 2,
                "failed": 0,
                "repo_hash": "f352436a9d91e952521e38f3dbe51c28c42370efc0dd90b178c47dd6f6961c7f",
                "tools": {
                    "black": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "mypy": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "pyright": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_check": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_fix": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    }
                }
            },
            "x_legatus_celer_notitia_x": {
                "cached": 1,
                "failed": 4,
                "repo_hash": "f830f8f7aa4a7fccdcc102c2a3689abc23006fa42a966b243b1e5e8c99159f55",
                "tools": {
                    "black": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    },
                    "mypy": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    },
                    "pyright": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_check": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    },
                    "ruff_fix": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    }
                }
            },
            "x_legatus_multipes_explorator_x": {
                "cached": 2,
                "failed": 0,
                "repo_hash": "3260f3efbf898c654e6807a2fe4ec28b5781008156eecefedbf5aeed8c0fa4a8",
                "tools": {
                    "black": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "mypy": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "pyright": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_check": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_fix": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    }
                }
            },
            "x_legatus_officina_automatarum_x": {
                "cached": 2,
                "failed": 0,
                "repo_hash": "201b8c7832b99a5c25fa1939182725079a084acf6ada849cebf2f2ae8a4dfcd8",
                "tools": {
                    "black": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "mypy": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "pyright": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_check": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_fix": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    }
                }
            },
            "x_legatus_pulsus_astra_x": {
                "cached": 2,
                "failed": 0,
                "repo_hash": "de09c9ded5c4bc8237e94701fab593c9a29fa06fdc061a07786b8e1b8d3e9f9c",
                "tools": {
                    "black": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "mypy": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "pyright": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_check": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_fix": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    }
                }
            },
            "x_legatus_tactica_impetus_x": {
                "cached": 1,
                "failed": 4,
                "repo_hash": "7b46d3be3aca6130625d7ec34c6659385442c290e75a52c8ab06c17ad5c5f920",
                "tools": {
                    "black": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    },
                    "mypy": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    },
                    "pyright": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_check": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    },
                    "ruff_fix": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    }
                }
            },
            "x_legatus_vigil_nexus_x": {
                "cached": 0,
                "failed": 3,
                "repo_hash": "0d1ad0f613c22d947c7326a26c1df32308e4fbc5367fde5572069a0c51ce6235",
                "tools": {
                    "black": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "mypy": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    },
                    "pyright": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_check": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    },
                    "ruff_fix": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    }
                }
            },
            "x_make_astrocyte_gateway_x": {
                "cached": 0,
                "failed": 5,
                "repo_hash": "0187073162d89bee242fa03bf6399239bec10b8a3c1d1c5025846aa4883a2eb9",
                "tools": {
                    "black": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    },
                    "mypy": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    },
                    "pyright": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    },
                    "ruff_check": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    },
                    "ruff_fix": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    }
                }
            },
            "x_make_cli_scaffolder_x": {
                "cached": 5,
                "failed": 0,
                "repo_hash": "8200dad80d28ebcaf790a05d8b94306475d570d34626a2a7e1beb1a625004448",
                "tools": {
                    "black": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "mypy": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "pyright": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_check": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_fix": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    }
                }
            },
            "x_make_common_x": {
                "cached": 5,
                "failed": 0,
                "repo_hash": "b1835497a329ed660c4701a0dcc1b0e2aa3a820c46a85574b2626bb1e08c4f9c",
                "tools": {
                    "black": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "mypy": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "pyright": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_check": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_fix": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    }
                }
            },
            "x_make_contract_validators_x": {
                "cached": 3,
                "failed": 2,
                "repo_hash": "382023c4f879dfe465d568aa5ae1e2854c0dd33f38472b7d7416215db6525045",
                "tools": {
                    "black": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "mypy": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "pyright": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_check": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    },
                    "ruff_fix": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    }
                }
            },
            "x_make_github_clones_x": {
                "cached": 5,
                "failed": 0,
                "repo_hash": "ad25dd96c44ec5ad36735ceef05f170de7424bb5cc504c114590b237cbc36c59",
                "tools": {
                    "black": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "mypy": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "pyright": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_check": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_fix": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    }
                }
            },
            "x_make_github_visitor_x": {
                "cached": 0,
                "failed": 2,
                "repo_hash": "90f67589aa2ce51eb24cbadcbd51c3e38801d072093f84da7b925cd165780966",
                "tools": {
                    "black": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    },
                    "mypy": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    },
                    "pyright": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_check": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_fix": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    }
                }
            },
            "x_make_graphviz_x": {
                "cached": 0,
                "failed": 2,
                "repo_hash": "8b8ecbc125a0e302b034bffe234138a6429a1cd33dda9125e9b5777a4d2eb701",
                "tools": {
                    "black": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "mypy": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "pyright": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_check": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    },
                    "ruff_fix": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    }
                }
            },
            "x_make_markdown_x": {
                "cached": 5,
                "failed": 0,
                "repo_hash": "07db07e96ac8321ff2f1f55eeab30a5ac94a7cdfeb0d7711233ff8d946b08b3f",
                "tools": {
                    "black": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "mypy": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "pyright": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_check": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_fix": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    }
                }
            },
            "x_make_mermaid_x": {
                "cached": 5,
                "failed": 0,
                "repo_hash": "dfbd3d499bf1b9bda92a990949c0cb433260ebe26a3978dee084068ce4c5fb77",
                "tools": {
                    "black": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "mypy": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "pyright": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_check": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_fix": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    }
                }
            },
            "x_make_persistent_env_var_x": {
                "cached": 5,
                "failed": 0,
                "repo_hash": "91945fb15fb6918ac7684ff60403489aabeb29fb0ec0c9086287dd6334b04398",
                "tools": {
                    "black": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "mypy": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "pyright": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_check": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_fix": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    }
                }
            },
            "x_make_pip_updates_x": {
                "cached": 0,
                "failed": 0,
                "repo_hash": "0507c2f17cc00287ae67b8413070821130711ec5be7cfc65dc7248ef4b03d9b0",
                "tools": {
                    "black": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "mypy": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "pyright": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_check": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_fix": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    }
                }
            },
            "x_make_progress_board_x": {
                "cached": 3,
                "failed": 2,
                "repo_hash": "6f50b449a9683219dfadba75fd41b587fa1121aef91d69b1be38a2fbbe7e4e87",
                "tools": {
                    "black": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "mypy": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "pyright": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_check": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    },
                    "ruff_fix": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    }
                }
            },
            "x_make_py_mod_sideload_x": {
                "cached": 5,
                "failed": 0,
                "repo_hash": "14d451ed4e66f86853ccc008ef49ff533e402d95797dcf82b1445eaac58bebf3",
                "tools": {
                    "black": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "mypy": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "pyright": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_check": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_fix": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    }
                }
            },
            "x_make_py_venv_x": {
                "cached": 5,
                "failed": 0,
                "repo_hash": "874f1fdb475cc41097740ae95445b0b422e11ba091767b2642db583a2f2411b0",
                "tools": {
                    "black": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "mypy": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "pyright": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_check": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_fix": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    }
                }
            },
            "x_make_pypi_x": {
                "cached": 5,
                "failed": 0,
                "repo_hash": "0dd99bd709ee7f6bf4021a8f9ec242a87cde83b16ab50846e8e920d169d0a450",
                "tools": {
                    "black": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "mypy": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "pyright": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_check": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_fix": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    }
                }
            },
            "x_make_slack_dump_and_reset_z": {
                "cached": 1,
                "failed": 4,
                "repo_hash": "361bc06b053e2c3082b161ff117cc6be5b02a482b3a835d0992a83f12f556713",
                "tools": {
                    "black": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    },
                    "mypy": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    },
                    "pyright": {
                        "cached": true,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_check": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    },
                    "ruff_fix": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    }
                }
            },
            "x_make_yahw_x": {
                "cached": 0,
                "failed": 4,
                "repo_hash": "2a061b1bddee8802b5bf7c737b9c97d483c462862e2b893b99b2016e438fdc37",
                "tools": {
                    "black": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    },
                    "mypy": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    },
                    "pyright": {
                        "cached": false,
                        "exit": 0,
                        "timed_out": false
                    },
                    "ruff_check": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    },
                    "ruff_fix": {
                        "cached": false,
                        "exit": 1,
                        "timed_out": false
                    }
                }
            }
        },
        "timestamp": "2025-11-10T06:15:36.787351+00:00",
        "total_repos": 32
    },
    "tool_versions": {
        "black": "python -m black, 25.11.0 (compiled: yes)\nPython (CPython) 3.14.0",
        "mypy": "mypy 1.18.2 (compiled: yes)",
        "pyright": "pyright 1.1.407",
        "ruff": "ruff 0.14.4"
    },
    "workspace_root": "C:\\x_runner_x"
}